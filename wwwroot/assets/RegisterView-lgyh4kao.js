import{d as f,u as h,e as n,b as v,f as b,c as d,a as e,q as w,x as y,k as l,v as i,t as p,y as g,o as _,_ as x}from"./index-bgLIQOvD.js";const V={class:"auth"},N={class:"auth__card"},k={class:"auth__field"},q={class:"auth__field"},E={class:"auth__field"},M={key:0,class:"auth__error"},B=["disabled"],R=f({__name:"RegisterView",setup(U){const a=h(),m=g(),r=n(()=>a.isLoading.value),u=n(()=>a.error.value??""),t=v({email:"",password:"",usersName:""});b(()=>{a.initialize(),a.dropExpiredToken()});const c=async()=>{a.clearError();try{await a.register(t.email.trim(),t.password,t.usersName.trim()),await m.push({name:"scheduler"})}catch{}};return(C,s)=>(_(),d("section",V,[e("div",N,[s[6]||(s[6]=e("h1",{class:"auth__title"},"Регистрация",-1)),s[7]||(s[7]=e("p",{class:"auth__subtitle"},"Создайте аккаунт, чтобы войти в систему.",-1)),e("form",{class:"auth__form",onSubmit:w(c,["prevent"])},[e("label",k,[s[3]||(s[3]=e("span",null,"Email",-1)),l(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.email=o),class:"auth__input",type:"email",required:""},null,512),[[i,t.email]])]),e("label",q,[s[4]||(s[4]=e("span",null,"Имя пользователя",-1)),l(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.usersName=o),class:"auth__input",type:"text",required:""},null,512),[[i,t.usersName]])]),e("label",E,[s[5]||(s[5]=e("span",null,"Пароль",-1)),l(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.password=o),class:"auth__input",type:"password",required:""},null,512),[[i,t.password]])]),u.value?(_(),d("p",M,p(u.value),1)):y("",!0),e("button",{class:"auth__button",type:"submit",disabled:r.value},p(r.value?"Создаём…":"Зарегистрироваться"),9,B)],32)])]))}}),L=x(R,[["__scopeId","data-v-84043289"]]);export{L as default};
