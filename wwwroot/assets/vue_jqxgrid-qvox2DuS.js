import"./jqxLocalization-CaCPw_HT.js";import{_ as Yr,o as Vr,a as $r,c as Kr,r as Zr,b as es}from"./index-Boo3TOTd.js";(function(){typeof document>"u"||(function(a){a.jqx.jqxWidget("jqxButtonGroup","",{}),a.extend(a.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var r={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===a.jqx._jqxButtonGroup.prototype||a.extend(!0,this,r),r},createInstance:function(r){var l=this;l._isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(l),l._baseId=l._baseId+l.element.id,l.addHandler(l.host,"selectstart",function(e){l.disabled||e.preventDefault()})},refresh:function(){var r=this;r.width&&(r.width.toString()&&r.width.toString().indexOf("%")>=0?r.element.style.width=r.width:r.host.width(r.width)),r.height&&r.host.height(r.height),r._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(r){var l=this;if(l._isTouchDevice){var e=l._eventsMap[r]||r;return e+="."+l.element.id,e}return r+="."+l.element.id,r},_refreshButtons:function(){var r=this;r.lastElement&&r.lastElement.remove(),r.lastElement=a("<div style='clear: both;'></div>");var l=r.host.children(),e=l.length,t;switch(r.mode){case"radio":r.host.attr("role","radiogroup");break;case"checkbox":case"default":r.host.attr("role","group");break}for(var i=new Number(100/e).toFixed(2),s=0;s<e;s+=1)t=a(l[s]),r.width&&(r.orientation==="horizontal"?(t.css("width",i+"%"),t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("white-space","nowrap"),t.css("text-overflow","ellipsis"),t.css("overflow","hidden")):(t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("width","100%"))),r._refreshButton(t,s,e);r.lastElement.appendTo(r.host)},_refreshButton:function(r,l,e){(function(t){var i=this;t=i._render(t),i._removeStyles(t),i._addStyles(t,l,e),i._performLayout(t),i._removeButtonListeners(t),i._addButtonListeners(t),i._handleButtonId(t,l),i.mode==="radio"?t.attr("role","radio"):t.attr("role","button"),t.attr("disabled",i.disabled),i.disabled?t.addClass(i.toThemeProperty("jqx-fill-state-disabled")):t.removeClass(i.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[r])},destroy:function(r){for(var l=this,e=l.host.children(),t=e.length,i,s=0;s<t;s+=1)i=a(e[s]),l._removeStyles(i),l._removeButtonListeners(i);r!==!1&&l.host.remove()},_render:function(r){var l=this;return r[0].tagName.toLowerCase()==="button"?l._renderFromButton(r):l._renderButton(r)},_renderButton:function(r){return r.wrapInner("<div/>"),r},_removeStyles:function(r){var l=this,e=l.toThemeProperty;l.host.removeClass("jqx-widget"),l.host.removeClass("jqx-rc-all"),r.removeClass(e.call(this,"jqx-fill-state-normal")),r.removeClass(e.call(this,"jqx-group-button-normal")),r.removeClass(e.call(this,"jqx-rc-tl")),r.removeClass(e.call(this,"jqx-rc-bl")),r.removeClass(e.call(this,"jqx-rc-tr")),r.removeClass(e.call(this,"jqx-rc-br")),r.css("margin-left",0)},_addStyles:function(r,l,e){var t=this,i=this.toThemeProperty;t.host.addClass(i.call(this,"jqx-widget")),t.host.addClass(i.call(this,"jqx-rc-all")),t.host.addClass(i.call(this,"jqx-buttongroup")),r.addClass(i.call(this,"jqx-button")),r.addClass(i.call(this,"jqx-group-button-normal")),r.addClass(i.call(this,"jqx-fill-state-normal")),t.template&&r.addClass(i.call(this,"jqx-"+t.template)),t.roundedCorners&&(l===0?t._addRoundedCorners(r,!0):l===e-1&&t._addRoundedCorners(r,!1)),t.orientation==="horizontal"?r.css("margin-left",-parseInt(r.css("border-left-width"),10)):r.css("margin-top",-parseInt(r.css("border-left-width"),10))},_addRoundedCorners:function(r,l){var e=this,t=e.toThemeProperty;e.orientation==="horizontal"?l?(r.addClass(t.call(this,"jqx-rc-tl")),r.addClass(t.call(this,"jqx-rc-bl"))):(r.addClass(t.call(this,"jqx-rc-tr")),r.addClass(t.call(this,"jqx-rc-br"))):l?(r.addClass(t.call(this,"jqx-rc-tl")),r.addClass(t.call(this,"jqx-rc-tr"))):(r.addClass(t.call(this,"jqx-rc-bl")),r.addClass(t.call(this,"jqx-rc-br")))},_centerContent:function(r,l){return r.css({"margin-top":(l.height()-r.height())/2,"margin-left":(l.width()-r.width())/2}),r},_renderFromButton:function(r){var l=r.val();l===""&&(l=r.html());var e,t=r[0].id;return r.wrap("<div/>"),e=r.parent(),e.attr("style",r.attr("style")),r.remove(),a.jqx.utilities.html(e,l),e[0].id=t,e},_performLayout:function(r){this.orientation==="horizontal"?this.rtl?r.css("float","right"):r.css("float","left"):r.css("float","none"),this._centerContent(a(r.children()),r)},_mouseEnterHandler:function(r){var l=r.data.self,e=a(r.currentTarget);if(!(l._isDisabled(e)||!l.enableHover)){var t=l.toThemeProperty;e.addClass(t.call(l,"jqx-group-button-hover")),e.addClass(t.call(l,"jqx-fill-state-hover"))}},_mouseLeaveHandler:function(r){var l=r.data.self,e=a(r.currentTarget);if(!(l._isDisabled(e)||!l.enableHover)){var t=l.toThemeProperty;e.removeClass(t.call(l,"jqx-group-button-hover")),e.removeClass(t.call(l,"jqx-fill-state-hover"))}},_mouseDownHandler:function(r){var l=r.data.self,e=a(r.currentTarget);if(!l._isDisabled(e)){l._pressed=e;var t=l.toThemeProperty;e.addClass(t.call(l,"jqx-group-button-pressed")),e.addClass(t.call(l,"jqx-fill-state-pressed"))}},_mouseUpHandler:function(r){var l=r.data.self,e=a(r.currentTarget);l._isDisabled(e)||(l._handleSelection(e),l._pressed=null,e=l._buttonId[e[0].id],l._raiseEvent(2,{index:e.num,button:e.btn}))},_isDisabled:function(r){return!r||!r[0]?!1:this._buttonId[r[0].id].disabled},_documentUpHandler:function(r){var l=r.data.self,e=l._pressed;e&&!l._buttonId[e[0].id].selected&&(e.removeClass(l.toThemeProperty("jqx-fill-state-pressed")),l._pressed=null)},_addButtonListeners:function(r){var l=this,e=l.addHandler,t=l._getEvent;e(r,t.call(l,"mouseenter"),l._mouseEnterHandler,{self:l}),e(r,t.call(l,"mouseleave"),l._mouseLeaveHandler,{self:l}),e(r,t.call(l,"mousedown"),l._mouseDownHandler,{self:l}),e(r,t.call(l,"mouseup"),l._mouseUpHandler,{self:l}),e(a(document),t.call(l,"mouseup"),l._documentUpHandler,{self:l})},_removeButtonListeners:function(r){var l=this,e=l.removeHandler,t=l._getEvent;e(r,t.call(l,"mouseenter"),l._mouseEnterHandler),e(r,t.call(l,"mouseleave"),l._mouseLeaveHandler),e(r,t.call(l,"mousedown"),l._mouseDownHandler),e(r,t.call(l,"mouseup"),l._mouseUpHandler),e(a(document),t.call(l,"mouseup"),l._documentUpHandler)},_handleSelection:function(r){var l=this;l.mode==="radio"?l._handleRadio(r):l.mode==="checkbox"?l._handleCheckbox(r):l._handleDefault(r)},_handleRadio:function(r){var l=this,e=l._getSelectedButton();e&&e.btn[0].id!==r[0].id&&l._unselectButton(e.btn,!0);for(var t in l._buttonId)l._buttonId[t].selected=!0,l._unselectButton(l._buttonId[t].btn,!1);l._selectButton(r,!0)},_handleCheckbox:function(r){var l=this,e=l._buttonId[r[0].id];e.selected?l._unselectButton(e.btn,!0):l._selectButton(r,!0)},_handleDefault:function(r){var l=this;l._selectButton(r,!1);for(var e in l._buttonId)l._buttonId[e].selected=!0,l._unselectButton(l._buttonId[e].btn,!1)},_getSelectedButton:function(){var r=this;for(var l in r._buttonId)if(r._buttonId[l].selected)return r._buttonId[l];return null},_getSelectedButtons:function(){var r=this,l=[];for(var e in r._buttonId)r._buttonId[e].selected&&l.push(r._buttonId[e].num);return l},_getButtonByIndex:function(r){var l=this;for(var e in l._buttonId)if(l._buttonId[e].num===r)return l._buttonId[e];return null},_selectButton:function(r,l){var e=this,t=e._buttonId[r[0].id];if(!t.selected){var i=e.toThemeProperty;t.btn.addClass(i.call(this,"jqx-group-button-pressed")),t.btn.addClass(i.call(this,"jqx-fill-state-pressed")),t.selected=!0,l&&e._raiseEvent(0,{index:t.num,button:t.btn}),a.jqx.aria(t.btn,"aria-checked",!0)}},_unselectButton:function(r,l){var e=this,t=e._buttonId[r[0].id];if(t.selected){var i=e.toThemeProperty;t.btn.removeClass(i.call(this,"jqx-group-button-pressed")),t.btn.removeClass(i.call(this,"jqx-fill-state-pressed")),t.selected=!1,l&&e._raiseEvent(1,{index:t.num,button:t.btn}),a.jqx.aria(t.btn,"aria-checked",!1)}},setSelection:function(r){var l=this;if(r===-1){l.clearSelection();return}if(l.mode==="checkbox")if(typeof r=="number")l._setSelection(r);else for(var e=0;e<r.length;e+=1)l._setSelection(r[e]);else typeof r=="number"&&l.mode==="radio"&&l._setSelection(r)},_setSelection:function(r){var l=this,e=l._getButtonByIndex(r);e&&l._handleSelection(e.btn)},getSelection:function(){var r=this;if(r.mode==="radio"){if(r._getSelectedButton())return r._getSelectedButton().num}else if(r.mode==="checkbox")return r._getSelectedButtons()},disable:function(){var r=this;r.disabled=!0;var l;for(var e in r._buttonId)l=r._buttonId[e],r.disableAt(l.num);a.jqx.aria(r,"aria-disabled",!0)},enable:function(){var r=this;r.disabled=!1;var l;for(var e in r._buttonId)l=r._buttonId[e],r.enableAt(l.num);a.jqx.aria(r,"aria-disabled",!1)},disableAt:function(r){var l=this,e=l._getButtonByIndex(r);e.disabled||(e.disabled=!0,e.btn.addClass(l.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(r){var l=this,e=l._getButtonByIndex(r);e.disabled&&(e.disabled=!1,e.btn.removeClass(l.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(r,l){var e=r[0].id,t={btn:r,num:l,selected:!1};return e||(e=this._baseId+r.index()),r[0].id=e,this._buttonId[e]=t,e},_raiseEvent:function(r,l){var e=a.Event(this._events[r]);return e.args=l,this.host.trigger(e)},_unselectAll:function(){for(var r in this._buttonId)this._unselectButton(this._buttonId[r].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(r,l,e,t){if(l==="theme"&&t!==null&&a.jqx.utilities.setTheme(e,t,r.host),l==="rtl"&&r.refresh(),l==="template"&&r.refresh(),l==="mode"){r._unselectAll(),r.refresh();return}else l==="disabled"?t?r.disable():r.enable():r.refresh()}})})(jqxBaseFramework)})();var er={},tr;function ts(){return tr||(tr=1,(function(){typeof document>"u"||(function(a){a.jqx.jqxWidget("jqxGrid","",{}),a.extend(a.jqx._jqxGrid.prototype,{defineInstance:function(){var e={adaptive:!1,compact:!1,adaptivewidth:600,disabled:!1,width:600,height:400,pagerheight:40,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:32,columnsheight:36,filterrowheight:36,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,disablerowdetails:null,editable:!1,editmode:"selectedcell",batcheditable:!1,pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,sortmode:"one",sortmodekey:"",filterable:!1,filtermode:"default",filterbarmode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showrowlines:!0,showcolumnlines:!0,showcolumnheaderlines:!0,showtoolbar:!1,showfilterbar:!1,toolbarheight:36,showstatusbar:!1,statusbarheight:36,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:79,headerZIndex:29,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,commandcolumn:!1,commandcolumnrenderer:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:a.jqx.utilities.scrollBarSize,touchscrollbarsize:a.jqx.utilities.touchScrollBarSize,scrollbarautoshow:a.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:16,autoshowcolumnsmenubutton:!0,showcolumnsactionbutton:!1,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",autofill:!1,enableoptimization:!1,enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,keyboardmenunavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,cardview:!1,cardviewcolumns:["20%","20%","20%","20%","20%"],cardheight:250,cardsize:3,enableSanitize:!1,enableSanitizeAll:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,filternlpinput:"",menuitemsarray:[],charting:{appendTo:null,colorScheme:"scheme02",dialog:{header:"Data Visualization",height:400,width:400,position:"center",enabled:!0},ready:null,formatSettings:{}},contextmenuitems:["Item 1","Item 2","Item 3"],contextmenuenabled:!1,contextmenuwidth:200,contextmenuheight:"auto",contextmenuitemclick:null,aiUrl:"",aiKey:"",events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging","columnChooserOkClick","columnChooserCancelClick"]};return this===a.jqx._jqxGrid.prototype||a.extend(!0,this,e),e},_applyThemeSettings:function(){var e=this;if(e.isMaterialized()){var t=window.getComputedStyle(e.element),i=t.getPropertyValue("--jqx-grid-row-height"),s=t.getPropertyValue("--jqx-grid-column-height"),o=t.getPropertyValue("--jqx-grid-show-column-lines"),d=t.getPropertyValue("--jqx-grid-filter-menu-items-height"),n=t.getPropertyValue("--jqx-scrollbar-size");i&&this.rowsheight===32&&!this.cardview&&(e.rowsheight=parseInt(i)),s&&this.columnsheight===36&&(e.columnsheight=parseInt(s)),o&&(e.showcolumnlines=e.showcolumnheaderlines=parseInt(o)),d?e.filterMenuItemsHeight=parseInt(d):e.filterMenuItemsHeight=23,n&&(e.scrollbarsize=n,a.jqx.utilities.scrollBarSize=n)}},createInstance:function(e){this.that=this;var t=this;if(t.pagesize=parseInt(t.pagesize),t.toolbarheight=parseInt(t.toolbarheight),t.columnsheight=parseInt(t.columnsheight),t.filterrowheight=parseInt(t.filterrowheight),t.statusbarheight=parseInt(t.statusbarheight),t.groupsheaderheight=parseInt(t.groupsheaderheight),t._undoRedo=[],t._undoRedoIndex=-1,t.filternlpinput){var i=document.querySelector(t.filternlpinput);i&&(i.addEventListener("input",function(){t._filterTimer&&clearTimeout(t._filterTimer),t._aiCanFetch=!1,t._filterTimer=setTimeout(function(){var _=i.value.trim();t._aiCanFetch=!0,t.filterByQuery(_)},800)}),i.addEventListener("change",function(){t._filterTimer&&clearTimeout(t._filterTimer),t._aiCanFetch=!0;var _=i.value.trim();t.filterByQuery(_)}))}t.cardview&&(t.__rowsheight=t.rowsheight,t.rowsheight=t.cardheight),t._applyThemeSettings(),t.detailsVisibility=new Array,t.savedArgs=e&&e.length>0?e[0]:null;var s="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+t.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='filter' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+t.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+t.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+t.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(t.element.innerHTML="",t.source){if(!t.source.dataBind){if(!a.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");Array.isArray(t.source)?t.source=new a.jqx.dataAdapter({localdata:t.source}):t.source=new a.jqx.dataAdapter(t.source)}var o=t.source._source.datafields;o&&o.length>0&&(t.editmode=t.editmode.toLowerCase(),t.selectionmode=t.selectionmode.toLowerCase())}t.host.attr("role","grid"),t.host.attr("align","left"),t.element.innerHTML=s,t.host.addClass(t.toTP("jqx-grid")),t.host.addClass(t.toTP("jqx-reset")),t.host.addClass(t.toTP("jqx-rc-all")),t.host.addClass(t.toTP("jqx-widget")),t.host.addClass(t.toTP("jqx-widget-content")),t.wrapper=t.host.find("#wrapper"+t.element.id),t.content=t.host.find("#content"+t.element.id),t.content.addClass(t.toTP("jqx-reset")),this.filterbar=this.host.find("#filter"),this.filterbar[0].id="filter"+this.element.id,this.filterbar.addClass(this.toTP("jqx-widget-header")),this.filterbar.addClass(this.toTP("jqx-grid-toolbar"));var d=t.host.find("#verticalScrollBar"+t.element.id),n=t.host.find("#horizontalScrollBar"+t.element.id);if(t.bottomRight=t.host.find("#bottomRight").addClass(t.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!d.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(t.editors=new Array,t.vScrollBar=d.jqxScrollBar({vertical:!0,rtl:t.rtl,touchMode:t.touchmode,step:t.verticalscrollbarstep,largestep:t.verticalscrollbarlargestep,theme:t.theme,_triggervaluechanged:!1}),t.hScrollBar=n.jqxScrollBar({vertical:!1,rtl:t.rtl,touchMode:t.touchmode,step:t.horizontalscrollbarstep,largestep:t.horizontalscrollbarlargestep,theme:t.theme,_triggervaluechanged:!1}),t.addnewrow=t.host.find("#addrow"),t.addnewrow[0].id="addrow"+t.element.id,t.addnewrow.addClass(t.toTP("jqx-widget-header")),t.pager=t.host.find("#pager"),t.pager[0].id="pager"+t.element.id,t.toolbar=t.host.find("#toolbar"),t.toolbar[0].id="toolbar"+t.element.id,t.toolbar.addClass(t.toTP("jqx-grid-toolbar")),t.toolbar.addClass(t.toTP("jqx-widget-header")),t.statusbar=t.host.find("#statusbar"),t.statusbar[0].id="statusbar"+t.element.id,t.statusbar.addClass(t.toTP("jqx-grid-statusbar")),t.statusbar.addClass(t.toTP("jqx-widget-header")),t.pager.addClass(t.toTP("jqx-grid-pager")),t.pager.addClass(t.toTP("jqx-widget-header")),t.groupsheader=t.host.find("#groupsheader"),t.groupsheader.addClass(t.toTP("jqx-grid-groups-header")),t.groupsheader.addClass(t.toTP("jqx-widget-header")),t.groupsheader[0].id="groupsheader"+t.element.id,t.vScrollBar.css("visibility","hidden"),t.hScrollBar.css("visibility","hidden"),t.vScrollInstance=a.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=a.data(t.hScrollBar[0],"jqxScrollBar").instance,t.gridtable=null,t.isNestedGrid=t.host.parent()?t.host.parent().css("z-index")==299:!1,t.touchdevice=t.isTouchDevice(),t.localizestrings&&(t.localizestrings(),t.localization!=null&&t.localizestrings(t.localization,!1)),t.rowdetailstemplate&&typeof t.rowdetailstemplate!="function"&&(t.rowdetailstemplate.rowdetails==null&&(t.rowdetailstemplate.rowdetails="<div></div>"),t.rowdetailstemplate.rowdetailsheight==null&&(t.rowdetailstemplate.rowdetailsheight=200),t.rowdetailstemplate.rowdetailshidden==null&&(t.rowdetailstemplate.rowdetailshidden=!0)),t.showfilterrow&&!t.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(t.autorowheight&&!t.autoheight&&!t.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(t.virtualmode&&t.rendergridrows==null)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(t.virtualmode&&!t.pageable&&t.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!t._testmodules()){if(t._builddataloadelement(),t._cachedcolumns=t.columns,t.columns&&t.columns.length>t.headerZIndex&&(t.headerZIndex=t.columns.length+100),t.theme&&t.theme.indexOf("material")>=0){var f=a("<span>Test</span>"),h=a("<span>Test</span>");f.addClass(t.toTP("jqx-grid-row-cell")),h.addClass(t.toTP("jqx-grid-column-header-cell")),t.host.append(f),t.host.append(h);var c=f.outerHeight(),p=h.outerHeight();c>this.rowsheight&&(t.rowsheight=c,this._cellheight=c),p>this.columnsheight&&(t.columnsheight=p,this._columnHeight=p),f.remove(),h.remove()}if(t.compact&&(t.element.setAttribute("compact",""),this.rowsheight=25,this.columnsheight=25,this.pagerheight=30,this.groupsheaderheight=25),t.rowsheight!=31&&t._measureElement("cell"),(t.columnsheight!=32||t.columngroups)&&t._measureElement("column"),t.source){var o=t.source.datafields;if(o==null&&t.source._source&&(o=t.source._source.datafields),o)for(var v=0;v<t.columns.length;v++){var h=t.columns[v];if(h&&h.cellsformat&&h.cellsformat.length>2){for(var x=0;x<o.length;x++)if(o[x].name==h.datafield&&!o[x].format){o[x].format=h.cellsformat;break}}}}t.databind(t.source),t.showtoolbar&&t.toolbar.css("visibility","inherit"),t.showfilterbar&&t.filterbar.css("visibility","inherit"),t.showstatusbar&&t.statusbar.css("visibility","inherit"),t._arrange(),t.pageable&&t._initpager&&t._initpager(),t.tableheight=null;var w=t.that,m=function(){w.content&&(w.content[0].scrollTop=0,w.content[0].scrollLeft=0),w.gridcontent&&(w.gridcontent[0].scrollLeft=0,w.gridcontent[0].scrollTop=0)};if(t.addHandler(t.content,"mousedown",function(){m()}),t.addHandler(t.content,"scroll",function(_){return m(),!1}),t.showfilterrow||(!t.showstatusbar&&!t.showtoolbar&&t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect")),t.batcheditable){t.toolbar[0].innerHTML='<div style="padding: 3px;"><button style="margin-left: 5px;" class="saveButton">'+this.gridlocalization.okstring+'</button><button style="margin-left: 5px;" class="cancelButton">'+this.gridlocalization.cancelstring+"</button></div>";var g=t.toolbar[0].querySelectorAll("button");a(g[0]).jqxButton({width:80,template:"primary",theme:t.theme}),a(g[1]).jqxButton({width:80,theme:t.theme});var b=function(_){for(var y=t.getrows(),j=0;j<y.length;j++)for(var C=y[j],L=0;L<t.columns.records.length;L++){var k=t.columns.records[L],O=C["_temp"+k.datafield];O!==void 0&&(_&&(C[k.datafield]=O),delete C["_temp"+k.datafield])}t.removesort(),t._rendervisualrows()};a(g[0]).on("click",function(){b(!0)}),a(g[1]).on("click",function(){b(!1)})}t._resizeWindow(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.hasTransform=a.jqx.utilities.hasTransform(t.host),t.scrollmode=="logical"&&(t.vScrollInstance.thumbStep=t.rowsheight,t.vScrollInstance.step=t.rowsheight),a.jqx.isHidden(t.host)||(t.filterable||t.groupable||t.sortable)&&t._initmenu()}},_resizeWindow:function(){var e=this.that;if(this.width!=null&&this.width.toString().indexOf("%")!=-1||this.height!=null&&this.height.toString().indexOf("%")!=-1){if(this._updatesizeonwindowresize=!0,window.ResizeObserver){var t=function(d){for(var n in d){var f=d[n],h=f.contentRect,c=h.width,p=h.height,v=e.host.width(),x=e.host.height();if(e.pageable){var w=e.host.find(".jqx-grid-pager-input");c<350?w.hide():w.show()}if(e.autoheight&&(e._lastHostWidth=p),e._lastHostWidth!=v||e._lastHostHeight!=x){if(e.touchdevice&&e.editcell&&type!=="orientationchange")return;e._updatesize(e._lastHostWidth!=v,e._lastHostHeight!=x)}e._lastWidth=c,e._lastHeight=p,e._lastHostWidth=v,e._lastHostHeight=x}},i=new ResizeObserver(t);i.observe(e.element)}a.jqx.utilities.resize(this.host,function(d){var n=a(window).width(),f=a(window).height(),h=e.host.width(),c=e.host.height();if(e.pageable){var p=e.host.find(".jqx-grid-pager-input");n<350?p.hide():p.show()}if(e.autoheight&&(e._lastHostWidth=f),e._lastHostWidth!=h||e._lastHostHeight!=c){if(e.touchdevice&&e.editcell&&d!=="orientationchange")return;e._updatesize(e._lastHostWidth!=h,e._lastHostHeight!=c)}e._lastWidth=n,e._lastHeight=f,e._lastHostWidth=h,e._lastHostHeight=c});var s=e.host.width(),o=e.host.height();e._lastHostWidth=s,e._lastHostHeight=o}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=a('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var e=a('<div style="z-index: 99; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"></div><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");e.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(e){var t=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),a(document.body).append(t),e=="cell"?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_measureMenuElement:function(){var e=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");e.addClass(this.toTP("jqx-widget")),e.addClass(this.toTP("jqx-menu")),e.addClass(this.toTP("jqx-menu-item-top")),e.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&e.addClass(this.toTP("jqx-grid-menu-item-touch")),a(document.body).append(e);var t=e.outerHeight();return(this.theme==="light"||this.theme==="dark")&&(this._isIE10()||(t+=10,t>36&&(t=36))),e.remove(),t},_measureElementWidth:function(e){var t=a("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-grid")),t.addClass(this.toTP("jqx-grid-column-header")),t.addClass(this.toTP("jqx-widget-header")),a(document.body).append(t);var i=t.outerWidth()+20;return t.remove(),i},_getBodyOffset:function(){var e=0,t=0;return a("body").css("border-top-width")!="0px"&&(e=parseInt(a("body").css("border-top-width")),isNaN(e)&&(e=0)),a("body").css("border-left-width")!="0px"&&(t=parseInt(a("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},_testmodules:function(){var e="",t=this.that,i=function(){e.length!=""&&(e+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(i(),e+=" jqxmenu.js"),this.host.jqxScrollBar||(i(),e+=" jqxscrollbar.js"),this.host.jqxButton||(i(),e+=" jqxbuttons.js"),a.jqx.dataAdapter||(i(),e+=" jqxdata.js"),this.pageable&&!this.gotopage&&(i(),e+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(i(),e+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(i(),e+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(i(),e+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(i(),e+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(i(),e+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(i(),e+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(i(),e+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(i(),e+=" jqxgrid.selection.js"),e!=""||this.editable||this.filterable||this.pageable){var s=[],o=function(f){switch(f){case"checkbox":!t.host.jqxCheckBox&&!s.checkbox&&(s.checkbox=!0,i(),e+=" jqxcheckbox.js");break;case"numberinput":!t.host.jqxNumberInput&&!s.numberinput&&(s.numberinput=!0,i(),e+=" jqxnumberinput.js");break;case"datetimeinput":!t.host.jqxDateTimeInput&&!s.datetimeinput?(i(),s.datetimeinput=!0,e+=" jqxdatetimeinput.js(requires: jqxcalendar.js)"):!t.host.jqxCalendar&&!s.calendar&&(i(),e+=" jqxcalendar.js");break;case"combobox":!t.host.jqxComboBox&&!s.combobox?(i(),s.combobox=!0,e+=" jqxcombobox.js(requires: jqxlistbox.js)"):!t.host.jqxListBox&&!s.listbox&&(i(),s.listbox=!0,e+=" jqxlistbox.js");break;case"dropdownlist":!t.host.jqxDropDownList&&!s.dropdownlist?(i(),s.dropdownlist=!0,e+=" jqxdropdownlist.js(requires: jqxlistbox.js)"):!t.host.jqxListBox&&!s.listbox&&(i(),s.listbox=!0,e+=" jqxlistbox.js");break}};(this.filterable||this.pageable)&&o("dropdownlist");for(var d=0;d<this.columns.length;d++)if(this.columns[d]!=null){var n=this.columns[d].columntype;if(o(n),this.filterable&&this.showfilterrow){var n=this.columns[d].filtertype;(n=="checkedlist"||n=="bool")&&o("checkbox"),n=="date"&&o("datetimeinput")}}if(e!="")throw new Error("jqxGrid: Missing references to the following module(s): "+e)}return!1},focus:function(){try{this.wrapper[0].focus({preventScroll:!0});var e=this.that;setTimeout(function(){e&&e.wrapper&&e.wrapper[0].focus({preventScroll:!0})},25),this.focused=!0}catch{}},hiddenParent:function(){return a.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(e,t){if(!this._loading){var i=this.that;i._newmax=null;var s=i.host.width(),o=i.host.height();if(i._oldWidth||(i._oldWidth=s),i._oldHeight||(i._oldHeight=o),i._resizeTimer&&clearTimeout(i._resizeTimer),i.resizingGrid=!0,!a.jqx.isHidden(i.host)){if(i.editcell&&(i.endcelledit(i.editcell.row,i.editcell.column,!0,!0),i._oldselectedcell=null),o!=i._oldHeight||t==!0){var d=i.groupable&&i.groups.length>0,n=i.vScrollBar.css("visibility");if(!i.autoheight){if(i.virtualmode&&(i._pageviews=new Array),!d&&!i.rowdetails&&!i.pageable){i._arrange(),i.virtualsizeinfo=i._calculatevirtualheight();var o=Math.round(i.host.height())+2*i.rowsheight;parseInt(o)>=parseInt(i._oldHeight)&&(i.prerenderrequired=!0),i._renderrows(i.virtualsizeinfo),i.rtl&&(i._updatecolumnwidths(),i.table&&i.table.width(i.columnsheader.width()),i._updatecellwidths())}else{i._arrange(),i.prerenderrequired=!0;var o=Math.round(i.host.height())+2*i.rowsheight;i._gettableheight();var f=Math.round(o/i.rowsheight),h=Math.max(i.dataview.totalrows,i.dataview.totalrecords);i.pageable&&(h=i.pagesize,i.pagesize>Math.max(i.dataview.totalrows,i.dataview.totalrecords)&&i.autoheight?h=Math.max(i.dataview.totalrows,i.dataview.totalrecords):i.autoheight||i.dataview.totalrows<i.pagesize&&(h=Math.max(i.dataview.totalrows,i.dataview.totalrecords))),h*i.rowsheight,i._getpagesize(),!i.pageable&&i.autoheight&&(f=h),i.virtualsizeinfo&&(i.virtualsizeinfo.visiblerecords=f),i.rendergridcontent(!0,!1),i._renderrows(i.virtualsizeinfo)}n!=i.vScrollBar.css("visibility")&&(i.vScrollInstance.setPosition(0),i._arrange(),i._updatecolumnwidths(),i.table&&i.table.width(i.columnsheader.width()),i._updatecellwidths())}}if(s!=i._oldWidth||e==!0){var c=!1;if(i.editcell&&i.editcell.editor)switch(i.editcell.columntype){case"dropdownlist":if(c=i.editcell.editor.jqxDropDownList("isOpened")||i.editcell.editor.jqxDropDownList("isanimating")&&!i.editcell.editor.jqxDropDownList("ishiding"),c){i.editcell.editor.jqxDropDownList({openDelay:0}),i.editcell.editor.jqxDropDownList("open"),i.editcell.editor.jqxDropDownList({openDelay:250});return}break;case"combobox":if(c=i.editcell.editor.jqxComboBox("isOpened")||i.editcell.editor.jqxComboBox("isanimating")&&!i.editcell.editor.jqxComboBox("ishiding"),c){i.editcell.editor.jqxComboBox({openDelay:0}),i.editcell.editor.jqxComboBox("open"),i.editcell.editor.jqxComboBox({openDelay:250});return}break;case"datetimeinput":if(c){c=i.editcell.editor.jqxDateTimeInput("isOpened")||i.editcell.editor.jqxDateTimeInput("isanimating")&&!i.editcell.editor.jqxDateTimeInput("ishiding"),i.editcell.editor.jqxDateTimeInput({openDelay:0}),i.editcell.editor.jqxDateTimeInput("open"),i.editcell.editor.jqxDateTimeInput({openDelay:250});return}break}var p=i.hScrollBar.css("visibility");if(i._arrange(),i._updatecolumnwidths(),i.table&&i.table.width(i.columnsheader.width()),i._updatecellwidths(),e==!1&&i._oldWidth>s||(!t||i.dataview.rows.length==0)&&i._renderrows(i.virtualsizeinfo),p!=i.hScrollBar.css("visibility")&&i.hScrollInstance.setPosition(0),i.adaptive&&i.element.offsetWidth<=i.adaptivewidth){var v=0,x=i.element.offsetWidth-2;a.each(i.columns.records,function(w,m){if(v+=this.width,this.columntype==="adaptive")return!0;v>=x&&(this.adaptivehidden=!0)}),i._updatecolumnwidths(),i._updatecellwidths(),i._renderrows(i.virtualsizeinfo)}else i.adaptive&&(a.each(i.columns.records,function(w,m){if(this.columntype==="adaptive")return!0;this.adaptivehidden=!1,delete this.adaptivewidth}),i._updatecolumnwidths(),i._updatecellwidths(),i._renderrows(i.virtualsizeinfo))}i._oldWidth=s,i._oldHeight=o,i.resizingGrid=!1}}},getTouches:function(e){return a.jqx.mobile.getTouches(e)},_updateTouchScrolling:function(){var e=this.that;if(e.isTouchDevice()){e.scrollmode="logical",e.vScrollInstance.thumbStep=e.rowsheight;var t=a.jqx.mobile.getTouchEventName("touchstart"),i=a.jqx.mobile.getTouchEventName("touchend"),s=a.jqx.mobile.getTouchEventName("touchmove");e.enablehover=!1,e.gridcontent&&(e.removeHandler(e.gridcontent,t+".touchScroll"),e.removeHandler(e.gridcontent,s+".touchScroll"),e.removeHandler(e.gridcontent,i+".touchScroll"),e.removeHandler(e.gridcontent,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(e.gridcontent[0],e.vScrollInstance.max,function(o,d){d!=null&&e.vScrollBar.css("visibility")=="visible"&&e.vScrollInstance.setPosition(d),o!=null&&e.hScrollBar.css("visibility")=="visible"&&e.hScrollInstance.setPosition(o),e.vScrollInstance.thumbCapture=!0,e._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),e._overlayElement&&(e.removeHandler(e._overlayElement,t+".touchScroll"),e.removeHandler(e._overlayElement,s+".touchScroll"),e.removeHandler(e._overlayElement,i+".touchScroll"),e.removeHandler(e._overlayElement,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(e._overlayElement[0],e.vScrollInstance.max,function(o,d){d!=null&&e.vScrollBar.css("visibility")=="visible"&&e.vScrollInstance.setPosition(d),o!=null&&e.hScrollBar.css("visibility")=="visible"&&e.hScrollInstance.setPosition(o),e.vScrollInstance.thumbCapture=!0,e._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,t,function(){e.editcell?e._overlayElement.css("visibility","hidden"):e._overlayElement.css("visibility","visible")}),this.addHandler(this.host,i,function(){e.editcell?e._overlayElement.css("visibility","hidden"):e._overlayElement.css("visibility","visible")})))}},_rendercelltexts:function(){if(a.jqx.credits!=="71208878-FCD1-4EC7-9249-BA0F153A5DE8"){var e="www.jqwidgets.com";if(location.hostname.indexOf(e.substring(4))==-1){this._gridRenderElement&&a(this._gridRenderElement).remove();var t="SPAN",i="HTTP://",s=document.createElement(t);s.id=a.jqx.utilities.createId(),s.innerHTML=e,s.style.position="absolute",s.style.right="5px",s.style.bottom="5px",s.style.color="#909090",s.style.cursor="pointer",s.style.zIndex="999999",s.style.display="none",s.style.fontSize="9px",s.onmousedown=function(){open(i+e)},this.content[0].appendChild(s),this._gridRenderElement=s}}},isTouchDevice:function(){if(this.touchDevice!=null)return this.touchDevice;var e=a.jqx.mobile.isTouchDevice();if(this.touchDevice=e,this.touchmode==!0){if(a.jqx.browser.msie&&a.jqx.browser.version<9)return this.enablehover=!1,!1;e=!0,a.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e}else this.touchmode==!1&&(e=!1);return e&&this.touchModeStyle!=!1&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(e!=null){for(var i in e)i.toLowerCase()!==i&&(e[i.toLowerCase()]=e[i]);if(e.okstring&&(this.gridlocalization.okstring=e.okstring),e.cancelstring&&(this.gridlocalization.cancelstring=e.cancelstring),e.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=e.pagergotopagestring),e.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=e.pagershowrowsstring),e.pagerrangestring&&(this.gridlocalization.pagerrangestring=e.pagerrangestring),e.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=e.pagernextbuttonstring),e.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=e.pagerpreviousbuttonstring),e.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=e.pagerfirstbuttonstring),e.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=e.pagerlastbuttonstring),e.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=e.groupsheaderstring),e.sortascendingstring&&(this.gridlocalization.sortascendingstring=e.sortascendingstring),e.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=e.sortdescendingstring),e.sortremovestring&&(this.gridlocalization.sortremovestring=e.sortremovestring),e.groupbystring&&(this.gridlocalization.groupbystring=e.groupbystring),e.groupremovestring&&(this.gridlocalization.groupremovestring=e.groupremovestring),e.firstDay&&(this.gridlocalization.firstDay=e.firstDay),e.days&&(this.gridlocalization.days=e.days),e.months&&(this.gridlocalization.months=e.months),e.AM&&(this.gridlocalization.AM=e.AM),e.PM&&(this.gridlocalization.PM=e.PM),e.patterns&&(this.gridlocalization.patterns=e.patterns),e.percentsymbol&&(this.gridlocalization.percentsymbol=e.percentsymbol),e.currencysymbol&&(this.gridlocalization.currencysymbol=e.currencysymbol),e.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=e.currencysymbolposition),e.decimalseparator!=null&&(this.gridlocalization.decimalseparator=e.decimalseparator),e.thousandsseparator!=null&&(this.gridlocalization.thousandsseparator=e.thousandsseparator),e.filterclearstring&&(this.gridlocalization.filterclearstring=e.filterclearstring),e.filterstring&&(this.gridlocalization.filterstring=e.filterstring),e.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=e.filtershowrowstring),e.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=e.filtershowrowdatestring),e.filterselectallstring&&(this.gridlocalization.filterselectallstring=e.filterselectallstring),e.filterchoosestring&&(this.gridlocalization.filterchoosestring=e.filterchoosestring),e.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=e.filterorconditionstring),e.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=e.filterandconditionstring),e.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=e.filterstringcomparisonoperators),e.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=e.filternumericcomparisonoperators),e.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=e.filterdatecomparisonoperators),e.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=e.filterbooleancomparisonoperators),e.emptydatastring&&(this.gridlocalization.emptydatastring=e.emptydatastring),e.filterselectstring&&(this.gridlocalization.filterselectstring=e.filterselectstring),e.todaystring&&(this.gridlocalization.todaystring=e.todaystring),e.clearstring&&(this.gridlocalization.clearstring=e.clearstring),e.validationstring&&(this.gridlocalization.validationstring=e.validationstring),e.loadtext&&(this.gridlocalization.loadtext=e.loadtext),e.addrowstring&&(this.gridlocalization.addrowstring=e.addrowstring),e.udpaterowstring&&(this.gridlocalization.udpaterowstring=e.udpaterowstring),e.deleterowstring&&(this.gridlocalization.deleterowstring=e.deleterowstring),e.resetrowstring&&(this.gridlocalization.resetrowstring=e.resetrowstring),e.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=e.everpresentrowplaceholder),e.filtersearchstring&&(this.gridlocalization.filtersearchstring=e.filtersearchstring),t!==!1){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var i in this._filterrowcache)a(this._filterrowcache[i]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this.gridlocalization.filtersearchstring!=="Search:"&&this._renderfilter(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filtersearchstring:"Search:",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter ",okstring:"Ok",editstring:"Edit",cancelstring:"Cancel"}},_getmenudefaultheight:function(){var e=this,t=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(t=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(t+=2);var i=e._measureMenuElement(),s=t*i+9;return e.filterable&&!e.showfilterrow&&e.showfiltermenuitems&&(s+=224,a.jqx.browser.msie&&a.jqx.browser.version<8&&(s+=20)),s},_initmenu:function(){var e=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var t="";this.isTouchDevice()&&(t="jqx-grid-menu-item-touch"),this.gridmenu=a('<div role="menu" tabindex=0 id="gridmenu'+this.element.id+'" style="z-index: 99;"></div>'),this.host.append(this.gridmenu);var i=a('<ul role="group"></ul>'),s='<div class="jqx-grid-sortasc-icon"></div>',o=a('<li aria-label="Sort Asc" class="'+t+'">'+s+this.gridlocalization.sortascendingstring+"</li>"),d='<div class="jqx-grid-sortdesc-icon"></div>',n=a('<li aria-label="Sort Desc" class="'+t+'">'+d+this.gridlocalization.sortdescendingstring+"</li>"),f='<div class="jqx-grid-sortremove-icon"></div>',h=a('<li aria-label="Sort Remove" class="'+t+'">'+f+this.gridlocalization.sortremovestring+"</li>"),c='<div class="jqx-grid-groupby-icon"></div>',p=a('<li aria-label="Group By" class="'+t+'">'+c+this.gridlocalization.groupbystring+"</li>"),v=a('<li aria-label="Group Remove" class="'+t+'">'+c+this.gridlocalization.groupremovestring+"</li>"),x=a('<li aria-label="Separator" type="separator"></li>'),w=a('<li aria-label="Filter By" class="filter '+t+'" style="height: 224px;" ignoretheme="true"><div class="filter"></div></li>');this.gridmenu.addClass("jqx-grid-menu");var m=this.gridlocalization.sortascendingstring.length,g=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>m&&(m=this.gridlocalization.sortdescendingstring.length,g=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>m&&(m=this.gridlocalization.sortremovestring.length,g=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>m&&(m=this.gridlocalization.groupbystring.length,g=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>m&&(m=this.gridlocalization.groupremovestring.length,g=this.gridlocalization.groupremovestring));var b=200;g=a.trim(g).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");var _=a("<span>"+g+"</span>");_.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(_),b=_.outerWidth()+60,_.remove();var y=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(i.append(o),this.menuitemsarray[0]=o[0],i.append(n),this.menuitemsarray[1]=n[0],i.append(h),this.menuitemsarray[2]=h[0],y=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(i.append(p),this.menuitemsarray[3]=p[0],i.append(v),this.menuitemsarray[4]=v[0],y+=2);var j=this._measureMenuElement(),C=y*j+9,L=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems)if(this._initfilterpanel){this.menuitemsarray[5]=w[0],this.menuitemsarray[6]=w[0],i.append(x),i.append(w),C+=220,a.jqx.browser.msie&&a.jqx.browser.version<8&&(C+=20),this.isTouchDevice()&&(C+=30);var k=a(w).find("div:first");this.excelfilterpanel=a("<div></div>"),this.filterpanel=k,this.filtermenu=a(w),b+=20,this.adaptive&&this.element.offsetWidth<this.adaptivewidth&&(b=this.element.offsetWidth-50),this._initfilterpanel(this,k,"",b),this._initfilterpanel(this,this.excelfilterpanel,"",b,!0),L=!1,this.removeHandler(a(document),"click.menu"+e.element.id,e._closemenuafterclick,e),this.addHandler(a(document),"click.menu"+e.element.id,e._closemenuafterclick,e)}else throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.gridmenu.append(i),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.filterable&&(a("#listBoxfilter1"+this.element.id).css("z-index",49),a("#listBoxfilter2"+this.element.id).css("z-index",49),a("#listBoxfilter3"+this.element.id).css("z-index",49),a("#gridmenu"+this.element.id).css("z-index",50),this.addHandler(a("#gridmenu"+this.element.id),"initialized",function(){a("#menuWrappergridmenu"+e.element.id).css("z-index",49)})),this.menuitemsarray[0]==null&&this.theme!=="light"&&this.theme!=="dark"&&(C=65),this.removeHandler(a(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(a(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(a(window),"orientationchange.jqxgrid"+this.element.id,function(){e.gridmenu.jqxMenu("close")}),this.addHandler(a(window),"orientationchanged.jqxgrid"+this.element.id,function(){e.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(T){var I=a(e.gridmenu.find(".jqx-item")).toArray(),z=function(){a(I).removeClass("jqx-fill-state-focus")},q=function(F){for(var W=I.indexOf(F),V=W-1;V>=0;V--)if(!(I[V].className.indexOf("disabled")>=0))return I[V];return F},B=function(F){for(var W=I.indexOf(F),V=W+1;V<I.length;V++)if(!(I[V].className.indexOf("disabled")>=0))return I[V];return F},S=function(){var F=I[I.length-1];return F.className.indexOf("disabled")>=0?q(F):F},D=function(){for(var F=0;F<I.length;F++)if(I[F].active)return I[F];return null},H=function(F){z();for(var W=0;W<I.length;W++)I[W].active=!1;F&&(a(F).addClass("jqx-fill-state-focus"),F.active=!0)};if(!D()&&!e.filterable&&(I[0].active=!0),e.keyboardmenunavigation&&e.keyboardnavigation){if(T.keyCode===40){var D=D();H(B(D))}else if(T.keyCode===38){var D=D();H(q(D))}if(T.keyCode===9){if(!D()){if(T.shiftKey){if(document.activeElement===a.find("#filter1"+e.element.id)[0]){var G=S();H(G),a(a.find("#filter1"+e.element.id)).removeClass("jqx-fill-state-focus"),e.gridmenu.focus(),T.stopPropagation(),T.preventDefault()}else if(document.activeElement===a.find("#filter1"+e.element.id+"ex")[0]){var G=S();H(G),a(a.find("#filter1"+e.element.id)+"ex").removeClass("jqx-fill-state-focus"),e.gridmenu.focus(),T.stopPropagation(),T.preventDefault()}}return!0}if(T.shiftKey){var D=D();H(q(D)),T.stopPropagation(),T.preventDefault()}else{var D=D();D===S()&&e.filterable&&!e.showfilterrow?(H(null),a(a.find("#filter1"+e.element.id)).length>0?a(a.find("#filter1"+e.element.id)).jqxDropDownList("focus"):a(a.find("#filter1"+e.element.id+"ex")).length>0&&a(a.find("#filter1"+e.element.id+"ex")).jqxListBox("focus")):H(B(D)),T.stopPropagation(),T.preventDefault()}}}if(T.keyCode==27)e.gridmenu.jqxMenu("close");else if(T.keyCode==13){var I=e.gridmenu.find(".jqx-item"),D=D();if(D)a(D).trigger("click"),H(null);else if(e._buildfilter&&e.filterable&&!e.showfilterrow){if(a.find("#filter1"+e.element.id).length>0)var N=a(a.find("#filter1"+e.element.id)).jqxDropDownList("container").css("display")=="block",A=a(a.find("#filter2"+e.element.id)).jqxDropDownList("container").css("display")=="block",M=a(a.find("#filter3"+e.element.id)).jqxDropDownList("container").css("display")=="block";var Q=a(a.find("#filterclearbutton"+e.element.id)).hasClass("jqx-fill-state-focus"),U=a(a.find("#filterbutton"+e.element.id)).hasClass("jqx-fill-state-focus");if(Q){var Y=a.data(document.body,"contextmenu"+e.element.id).column;e._clearfilter(e,e.element,Y),e.gridmenu.jqxMenu("close")}else if(U&&!N&&!A&&!M){var Y=a.data(document.body,"contextmenu"+e.element.id).column;e.gridmenu.jqxMenu("close"),e._buildfilter(e,w,Y)}}var E=e.selectedcells.length>0||e.selectedrowindexes.length>0;e.clearselection();var R=e.getdisplayrows()[0];if(R){var $=e.getboundindex(R);e.selectionmode.indexOf("cell")>=0?E&&e.selectcell($,e.columns.records[0].displayfield):E&&e.selectrow($)}}}),this.popupwidth!="auto"&&(b=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:3e3,width:b,height:C,autoCloseOnClick:L,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});var O=document.querySelectorAll(".jqx-menu-wrapper");if(this.gridmenu.parent().attr("tabindex",O.length-1),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",w[0].id,"closeOnClick",!1),this.rtl){var X=this.that;a.each(i.find("li"),function(){a(this).addClass(X.toTP("jqx-rtl"))});var P=function(T){var I=T.find("div");I.css("float","right"),I.css("margin-left","4px"),I.css("margin-right","-4px")};P(h),P(n),P(o),P(p),P(v)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var e=this.gridlocalization.sortascendingstring.length,t=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>e&&(e=this.gridlocalization.sortdescendingstring.length,t=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>e&&(e=this.gridlocalization.sortremovestring.length,t=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>e&&(e=this.gridlocalization.groupbystring.length,t=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>e&&(e=this.gridlocalization.groupremovestring.length,t=this.gridlocalization.groupremovestring));var i=200;t=a.trim(t).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");var s=a("<span>"+t+"</span>");s.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(s),i=s.outerWidth()+60,s.remove();var o=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(o=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(o+=2);var d=this._measureMenuElement(),n=o*d+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(n+=224,i+=20,a.jqx.browser.msie&&a.jqx.browser.version<8&&(n+=20),this.isTouchDevice()&&(n+=30)),this.menuitemsarray[0]==null&&this.theme!=="light"&&this.theme!=="dark"&&(n=65),this.popupwidth!="auto"&&(i=this.popupwidth),this.popupheight!="auto"&&(n=this.popupheight),this.gridmenu.jqxMenu({width:i,height:n})},_closemenuafterclick:function(e){var t=e!=null?e.data:this,i=!1;if(e.target==null||e.target!=null&&e.target.className.indexOf==null){t.gridmenu.jqxMenu("close");return}if(!(e.target.className.indexOf("filter")!=-1&&e.target.className.indexOf("jqx-grid-cell-filter")==-1)){if(e.target.className.indexOf("jqx-grid-cell")!=-1){t.gridmenu.jqxMenu("close");return}if(!(t._hasOpenedMenu&&a(e.target).ischildof(t.gridmenu))){t.host.coord();var s=t.gridmenu.coord(),o=e.pageX,d=e.pageY;if(a.each(a(e.target).parents(),function(){if(this.id!=null&&this.id.indexOf&&this.id.indexOf("filter")!=-1||this.className.indexOf&&this.className.indexOf("filter")!=-1&&this.className.indexOf("jqx-grid-cell-filter")==-1)return i=!0,!1;if(this.className.indexOf&&this.className.indexOf("jqx-grid-cell")!=-1||this.className.indexOf&&this.className.indexOf("jqx-grid-column")!=-1)return t.gridmenu.jqxMenu("close"),!1}),!i){try{if(t.filtermode==="default"){var n=a(a.find("#filter1"+t.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,f=new Date;if(f-n<100)return;var h=a(a.find("#filter3"+t.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(f-h<100||a(a.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display")=="block"||a(a.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display")=="block"||a(a.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display")=="block"||t._hasdatefilter&&a(".filtertext1"+t.element.id)[0].nodeName.toLowerCase()=="div"&&(a(".filtertext1"+t.element.id).jqxDateTimeInput("container").css("display")=="block"||a(".filtertext2"+t.element.id).jqxDateTimeInput("container").css("display")=="block"))return}else{var n=a(a.find("#filter1"+t.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,f=new Date;if(f-n<100)return;var h=a(a.find("#filter1"+t.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(f-h<100)return}}catch{}if(!(o>=s.left&&o<=s.left+t.gridmenu.width()&&d>=s.top&&d<=s.top+t.gridmenu.height())){var c=!1;if(t.columnmenuclosing){var p=a.data(document.body,"contextmenu"+t.element.id);if(p||(p={column:{displayfield:null}}),c=t.columnmenuclosing(t.gridmenu,p.column.displayfield,a(t.gridmenu).height()),c===!1)return}t.gridmenu.jqxMenu("close")}}}}},openColumnChooser:function(e,t){var i=this;t||(t="Columns"),(!e||a.isEmptyObject(e))&&(e=i.columns.records);for(var s=[],o=0;o<e.length;o++)e[o].text!==null&&s.push({label:e[o].text,value:e[o].datafield,checked:!e[o].hidden});var d=document.createElement("div");d.innerHTML="<div>"+t+'</div><div style="overflow:hidden;"></div>';var n=document.createElement("div");n.style.width="100%",n.style.height="calc(100% - 30px)";var f=new jqxListBox(n,{width:"100%",height:"calc(100% - 30px)",checkboxes:!0,source:s}),h=new jqxWindow(d,{width:400,height:400,modalZIndex:99999999,position:"center",isModal:!0}),c=document.createElement("button");c.innerHTML=this.gridlocalization.okstring;var p=document.createElement("button");p.innerHTML=this.gridlocalization.cancelstring,c.style.width="50%",c.style.height="100%",p.style.width="50%",p.style.height="100%";var v=document.createElement("div");v.style.height="30px",h.open(),setTimeout(function(){d.querySelector(".jqx-widget-content").appendChild(n),d.querySelector(".jqx-widget-content").appendChild(v),v.appendChild(c),v.appendChild(p),c=new jqxButton(c,{theme:i.theme}),p=new jqxButton(p,{theme:i.theme}),c.element.classList.add("primary"),c.element.style.borderTopRightRadius="0px",c.element.style.borderBottomRightRadius="0px",c.element.style.borderTopLeftRadius="0px",c.element.style.borderBottomLeftRadius="0px",p.element.style.borderTopLeftRadius="0px",p.element.style.borderBottomLeftRadius="0px",p.element.style.borderTopRightRadius="0px",p.element.style.borderBottomRightRadius="0px",p.element.style.marginLeft="-2px",c.element.style.outline="none",p.element.style.outline="none",f.on("checkChange",function(){var x=f.getCheckedItems();c.disabled=x.length===0}),c.on("click",function(){h.destroy(),i.beginupdate();for(var x=f.getItems(),w=0;w<x.length;w++){var m=x[w];m.checked===!1?i.hidecolumn(m.value):i.showcolumn(m.value)}i.endupdate(),i._raiseEvent(26)}),p.on("click",function(){h.destroy(),i._raiseEvent(27)})},100),h.on("close",function(){h.destroy()})},_handlemenueevents:function(){var e=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(t){e._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(t){for(var i=t.args,s=0;s<e.menuitemsarray.length;s++){var o=e.menuitemsarray[s];if(i==o){if(a(i).attr("ignoretheme")!=null)return;var d=a.data(document.body,"contextmenu"+e.element.id),n=d.column;e.filterable&&e.gridmenu.jqxMenu("close");var f=n.displayfield;if(f==null&&(f=n.datafield),d!=null)switch(s){case 0:e.sortby(f,"ascending",null);break;case 1:e.sortby(f,"descending",null);break;case 2:e.sortby(f,null,null);break;case 3:e.addgroup(f);break;case 4:e.removegroup(f);break;case 5:var h=a(e.menuitemsarray[6]);a(h).css("display","block");break}break}}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumns:this.getsortcolumns?this.getsortcolumns():[],sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var e=this.that;this.hiddens=new Array;var t=this.hiddenboundrows;a.each(t,function(i){if(this.index!=null){this.index;var s=e.getrowvisibleindex(i);e.hiddens[s]=this.hidden}})},_updaterowheights:function(){var e=this.that;this.heights=new Array;var t=this.heightboundrows;a.each(t,function(i){if(this.index!=null){this.index;var s=e.getrowvisibleindex(i);e.heights[s]=this.height}})},_updaterowdetails:function(){var e=this.that;this.details=new Array;var t=this.detailboundrows;a.each(t,function(i){if(this&&this.index!=null){this.index;var s=e.getrowvisibleindex(i);e.details[s]=this.details}})},_getmenuitembyindex:function(e){return e==null?null:this.menuitemsarray[e]},openmenu:function(e){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var t=this.getcolumn(e);if(!t.menu)return!1;this.gridmenu||this._initmenu();var i=t.columnsmenu;a(t.element).trigger("mouseenter"),this.menuOwner=t;for(var s=this,o=0;o<s.columns.records.length;o++)s.columns.records[o].datafield!=e&&a(s.columns.records[o].element).trigger("mouseleave");setTimeout(function(){a(i)[0].style.display=="block"&&a(i).trigger("click"),s._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){var e=!1;if(this.columnmenuclosing){var t=a.data(document.body,"contextmenu"+this.element.id);if(t||(t={column:{displayfield:null}}),e=this.columnmenuclosing(this.gridmenu,t.column.displayfield,a(this.gridmenu).height()),e===!1)return}this.gridmenu!=null&&(this.gridmenu.jqxMenu("close"),this.gridmenu.parent()[0]&&this.gridmenu.parent()[0].removeAttribute("tabindex"));var t=a.data(document.body,"contextmenu"+this.element.id);if(t!=null&&this.autoshowcolumnsmenubutton){if(this.enableanimations){a(t.columnsmenu).animate({"margin-left":0},"fast",function(){a(t.columnsmenu).css("display","none")});var i=this.rtl?0:-32;t.column.iconscontainer.animate({"margin-left":i},"fast")}else{a(t.columnsmenu).css("display","none");var i=this.rtl?0:-32;t.column.iconscontainer.css("margin-left",i)}a.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1,this.menuOwner=null;var s=this._getmenuitembyindex(5);if(s){var o=a(s).find("#filter1"+this.element.id),d=a(s).find("#filter2"+this.element.id),n=a(s).find("#filter3"+this.element.id);o.length>0&&this.filtermode==="default"&&(o.jqxDropDownList("hideListBox"),d.length>0&&d.jqxDropDownList("hideListBox"),n.length>0&&n.jqxDropDownList("hideListBox"))}this.focus()}},scrolloffset:function(e,t){e==null||t==null||e==null||t==null||(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){e==null||e==null||this.hScrollBar.css("visibility")!="hidden"&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){e==null||e==null||this.vScrollBar.css("visibility")!="hidden"&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,this._datachanged=!1,e===!0&&(this._batchupdate=!0),t===!0&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate){this._batchupdate=!1,this._datachanged=!1,this._stopbindings?this.updatebounddata():this.render();return}if(this._stopbindings){this.updatebounddata("data");return}if(this._datachanged==!0){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,e!=0&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block")},hideloadelement:function(){a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),e.focusedfilter[0].nodeName.toLowerCase()=="input"){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch{}}},50))},databind:function(e,t){if(this.loadingstate!==!0&&this._stopbindings!==!0){var i=window;this.host.css("display")=="block"&&(this.autoshowloadelement?(a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var s=this.that;e==null&&(e={}),e.recordstartindex||(e.recordstartindex=0),e.recordendindex||(e.recordendindex=0),(e.loadallrecords==null||e.loadallrecords==null)&&(e.loadallrecords=!0),(e.sortcomparer==null||e.sortcomparer==null)&&(e.sortcomparer=null),(e.filter==null||e.filter==null)&&(e.filter=null),(e.sort==null||e.sort==null)&&(e.sort=null),(e.data==null||e.data==null)&&(e.data=null);var o=null;if(e!=null&&(o=e._source!=null?e._source.url:e.url),this.dataview=this.dataview||new a.jqx.dataview,a.jqx.dataview.sort&&a.extend(this.dataview,new a.jqx.dataview.sort),a.jqx.dataview.grouping&&a.extend(this.dataview,new a.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),this._columnClassNameCache=new Array,!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!s.initializedcall){if(e._source&&this.sortable&&(e._source.sortcolumn!=null&&(this.sortcolumn=e._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=e._source.sortcolumn,e._source.sortcolumn=null),e._source.sortdirection!=null)){this.dataview.sortfielddirection=e._source.sortdirection;var d=e._source.sortdirection;if(d=="a"||d=="asc"||d=="ascending"||d==!0)var n=!0;else var n=!1;d!=null?this.sortdirection={ascending:n,descending:!n}:this.sortdirection={ascending:!1,descending:!1}}this.pageable&&e._source&&(e._source.pagenum!=null&&(this.dataview.pagenum=e._source.pagenum),e._source.pagesize!=null?(this.pagesize=e._source.pagesize,this.dataview.pagesize=e._source.pagesize):(this.dataview.pagesize=e._source.pagesize,this.dataview.pagesize==null&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(e.sortcolumn&&(this.dataview.sortfield=e.sortcolumn),e.sortdirection&&(this.dataview.sortfielddirection=e.sortdirection)),this.filterable&&this.columns&&a.each(this.columns,function(){this.filter&&s.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(f){if(!s.pageable&&s.virtualmode&&(s.loadondemand=!0),s._loading=!1,s.dataview.isupdating()&&s.dataview.resumeupdate(!1),s.pageable&&s.pagerrenderer)if(s._initpager)s._initpager();else throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");if(s.source&&s.source.sortcolumn&&s.sortby&&!s.virtualmode)s.render(),s.source._source.sort||s.sortby(s.source.sortcolumn,s.source.sortdirection,s.source.sortcomparer),s.source.sortcolumn=null,s._postrender("data");else{var h=s.vScrollInstance.value,c=s.hScrollInstance.value,p=s.source?s.source.datatype:"array";if(p!="local"||p!="array"){var v=s.virtualsizeinfo==null||s.virtualsizeinfo!=null&&s.virtualsizeinfo.virtualheight==0;if(t=="cells"){var x=!1;if(s.filterable&&s._initfilterpanel&&s.dataview.filters.length&&(x=!0),f==!1){!s.vScrollInstance.isScrolling()&&!s.hScrollInstance.isScrolling()&&(s._cellscache=new Array,s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s.showfilterrow&&s.filterable&&s.filterrow&&s._updatelistfilters(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates()),s.sortcolumn&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer),s.autoshowloadelement&&(a(s.dataloadelement).css("visibility","hidden"),a(s.dataloadelement).css("display","none")),s.virtualmode&&!s._loading&&(s.loadondemand=!0,s._renderrows(s.virtualsizeinfo)),s._postrender("data");return}else x?t="filter":s.sortcolumn!=null&&(t="sort")}if(!s.virtualmode||v||s.virtualmode&&s.pageable)if(s.initializedcall==!0&&t=="pagechanged")h=0,s.groupable&&s.groups.length>0?(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._postrender("data")):(s.rendergridcontent(!0),s.pageable&&s.updatepagerdetails&&(s.updatepagerdetails(),s.autoheight?(s._updatepageviews(),s.autorowheight&&s._renderrows(this.virtualsizeinfo)):s.autorowheight&&(s._updatepageviews(),s._renderrows(this.virtualsizeinfo)))),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data");else if(t=="filter")s.virtualmode,s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._updatefocusedfilter(),s._postrender("data");else if(t=="sort"){if(s.virtualmode)s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data");else{if(s._render(!0,!0,!1,!1,!1),s.sortmode==="many")for(var w in s.sortcolumns)s.sortby(w,s.sortcolumns[w],s.source.sortcomparer);else s.sortcolumn&&!s.source.sort&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer);s._postrender("sort")}s.source.sort&&s._updatefocusedfilter()}else t=="data"?(s._render(!0,!0,!1,!1,!1),s._postrender("data")):t=="state"?(s._render(!0,!0,!1,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode),s._postrender("data")):(s._render(!0,!0,!0,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode),s._postrender("data"));else s.virtualmode&&f==!0&&!s.pageable?(s._render(!0,!0,!1,!1,!1),s._updatefocusedfilter(),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._postrender("data")):s.virtualmode&&!s.pageable&&f==!1&&t!=null?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):s.virtualmode&&s.dataview.totalrecords==0&&s.dataview.filters.length>0?(s._render(!0,!0,!0,s.menuitemsarray&&!s.virtualmode),s._postrender("data")):(s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s._postrender("data"));s.vScrollInstance.value!=h&&h<=s.vScrollInstance.max&&s.vScrollInstance.setPosition(h),s.hScrollInstance.value!=c&&c<=s.hScrollInstance.max&&s.hScrollInstance.setPosition(c)}}if(s.autoshowloadelement&&(a(s.dataloadelement).css("visibility","hidden"),a(s.dataloadelement).css("display","none")),s.pageable&&(s.pagerrightbutton&&(s.pagerrightbutton.jqxButton({disabled:!1}),s.pagerleftbutton.jqxButton({disabled:!1}),s.pagershowrowscombo.jqxDropDownList({disabled:!1})),s.pagerfirstbutton&&(s.pagerfirstbutton.jqxButton({disabled:!1}),s.pagerlastbutton.jqxButton({disabled:!1}))),s._raiseEvent(11),s.initializedcall)s._updateTouchScrolling();else{var m=function(){if(s._raiseEvent(0),s.initializedcall=!0,s.isInitialized=!0,s.ready&&s.ready(),s.sortmode==="many"&&s.sortable&&s.source&&s.source.sortcolumns)for(var g=s.source.sortcolumns,b=0;b<g.length;b++)s.sortby(g[b],s.source.sortdirections[b]==="asc");if(s.renderstatusbar&&s.renderstatusbar(s.statusbar),s.rendertoolbar&&s.rendertoolbar(s.toolbar),s._rendercelltexts&&s._rendercelltexts(),s._gridRenderElement){a(s._gridRenderElement).show("slow");var _=6e3+Math.floor(Math.random()*4e3+1),y="SET".toLowerCase()+"-"+"TIMEOUT".toLowerCase();i[a.camelCase(y)](function(){a(s._gridRenderElement).hide("slow",function(){a(s._gridRenderElement).remove()})},_)}s.autoloadstate&&s.loadstate&&s.loadstate(null,!0)};a.jqx.isHidden(s.host)?(s.readyInterval&&clearInterval(s.readyInterval),s.readyInterval=setInterval(function(){a.jqx.isHidden(s.host)||s.__isRendered&&(clearInterval(s.readyInterval),s.readyInterval=null,m(),s._initmenu())},200)):m(),s.width!=null&&s.width.toString().indexOf("%")!=-1||s.height!=null&&s.height.toString().indexOf("%")!=-1,s.host.css("visibility")=="hidden"&&(a.jqx.browser.msie&&a.jqx.browser.version<8,s.vScrollBar.css("visibility")=="visible"&&s.vScrollBar.css("visibility","inherit"),s.autowidth||s.hScrollBar.css("visibility")=="visible"&&s.hScrollBar.css("visibility","inherit"),s._intervalTimer=setInterval(function(){s.host.css("visibility")=="visible"&&(s._updatesize(!0),clearInterval(s._intervalTimer))},100))}},this.dataview.databind(e),this.dataview.isupdating()&&(o!=null?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){e!=null&&this.hScrollInstance.setPosition(e),t!=null&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){var t=this;if(this.autoheight&&!this.pageable)return!0;var i=this._getpagesize(),s=Math.floor(e/i),o=this.scrollmode;if(this.scrollmode="physical",!this._pageviews[s]&&!this.pageable&&this._updatepageviews(),this.groupable&&this.groups.length>0){for(var d=this.getdisplayrows(),n=0,f=0;f<d.length;f++){var h=d[f];if(h.boundindex===e){var w=this.vScrollInstance.value,m=this._gettableheight()-this.rowsheight;(n<w||n>w+m)&&this.scrolltop(n-this.rowsheight),n===w&&this.scrolltop(n-this.rowsheight);break}for(var c=function(j){if(j.group){if(t.expandedgroups[j.uniqueid])return t.expandedgroups[j.uniqueid].expanded}else return!1},p=h.parentItem,v=!0;p;){if(p&&!c(p)){v=!1;break}p=p.parentItem}v&&(n+=this.rowsheight,this.details[f]&&this.details[f].rowdetailshidden==!1&&(n+=this.details[f].rowdetailsheight))}return this.scrollmode=o,!0}var x=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){var s=Math.floor(e/i);if(this.dataview.pagenum!=s){if(this.groupable&&this.groups.length>0)return!0;if(!this.editcell)this.gotopage(s);else return setTimeout(function(){t.pagerpageinput.focus()},25),!1;x=!0}}var w=this.vScrollInstance.value,m=this._gettableheight()-this.rowsheight,g=i*(e/i-s);if(g=Math.round(g),this._pageviews[s]){var n=this._pageviews[s].top,b=n+g*this.rowsheight;if(this.autorowheight){var _=a(this.table[0].children[g]),y=_.position().top+_.height();y!==0&&(b=y)}if(this.rowdetails)for(var f=i*s;f<e;f++)this.details[f]&&this.details[f].rowdetailshidden==!1&&(b+=this.details[f].rowdetailsheight);this.scrollmode=="deferred"&&this.vScrollInstance.max<=b+this.rowsheight&&(b=this.vScrollInstance.max),b<w?(this.scrolltop(b),x=!0):b>w+m+2&&(this.scrolltop(b-m),x=!0)}else if(this.pageable){var b=g*this.rowsheight;if(this.rowdetails)for(var f=i*s;f<i*s+g;f++)this.details[f]&&this.details[f].rowdetailshidden==!1&&(b+=this.details[f].rowdetailsheight);(b<w||b>w+m)&&(this.scrollto(0,b),x=!0)}return this.scrollmode=o,x},ensurecellvisible:function(e,t){var i=this.that,s=this.hScrollInstance.value,o=i.hScrollInstance.max;i.rtl&&this.hScrollBar.css("visibility")!="visible"&&(o=0);var d=this.ensurerowvisible(e),n=0;if(this.columns.records){var f=s,h=this.hScrollBar[0].style.visibility,c=this.vScrollBar[0].style.visibility;if(h=="hidden")return;for(var p=this.element.offsetWidth,v=0,x=c=="visible"?20:0,w=!1,m=0,g=0;g<this.columns.records.length;g++){var b=this.columns.records[g];if(!b.hidden){if(b.pinned&&(m+=b.width),b.datafield==t){var _=0,y=i.rtl?o-s:f;n+b.width>y+p-x?(_=n+b.width-p+x,i.rtl&&(_=o-_),i.scrollleft(_),w=!0):n<=y+m&&(_=n-b.width-m,i.rtl&&(_=o-_),i.scrollleft(_),w=!0),v==0?(i.rtl?i.scrollleft(o):i.scrollleft(0),w=!0):v==i.columns.records.length-1&&i.hScrollBar.css("visibility")=="visible"&&(i.rtl?i.scrollleft(i.hScrollBar.jqxScrollBar("min")):i.scrollleft(i.hScrollBar.jqxScrollBar("max")),w=!0);break}v++,n+=b.width}}w||i.scrollleft(f)}return d},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(e==null||t==null||(this.heightboundrows[e]={index:e,height:t},e=this.getrowvisibleindex(e),e<0))return!1;if(this.rows.records[e])this.rows.records[e].height=t;else{var i=new l(this,null);i.height=t,this.rows.replace(e,i)}return this.heights[e]=t,this.rendergridcontent(!0),!0},getrowheight:function(e){if(e==null)return null;if(e=this.getrowvisibleindex(e),e<0)return!1;if(this.rows.records[e])return this.rows.records[e].height},setrowdetails:function(e,t,i,s){if(!(e==null||e==null||e<0)){var o=e+"_";if(this._rowdetailscache[o]){var d=this._rowdetailscache[o].element;a(d).remove(),this._rowdetailscache[o]=null}var n=this.dataview.generatekey();return this.detailboundrows[e]={index:e,details:{rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,key:n}},e=this.getrowvisibleindex(e),e<0?!1:this._setrowdetails(e,t,i,s,n)}},getcolumn:function(e){var t=null;return this.columns.records?a.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}):this.columns&&a.each(this.columns,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_getcolumnindex:function(e){var t=-1;return this.columns.records&&a.each(this.columns.records,function(){if(t++,this.datafield==e)return!1}),t},_getcolumnat:function(e){var t=this.columns.records[e];return t},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){if(!isNaN(e)){var t=this.columns.records[e];return t}return null},_getcolumn:function(e){var t=null;return a.each(this._columns,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(e==null||t==null||i==null)return null;t=t.toLowerCase();var s=this.getcolumn(e);if(s!=null){var o=s[t];s[t]=i;var d=this._getcolumn(e);switch(d!=null&&(d[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if(t=="editable"&&i!=o){if(this.editcell!=null&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),s.columntype=="checkbox"&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating())||this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,t=="pinned"&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;t=="hidden"&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;s._width=null,s._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);break}}},_getcolumnproperty:function(e,t){if(e==null||t==null)return null;t=t.toLowerCase();var i=this.getcolumn(e);return i[t]},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,s,o){if(i==0&&(i=100),e==null||i==null)return!1;if(o!=null)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:o};else{var d=this.details[e]!=null?this.details[e].detailskey:null,n={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:d};this.that;for(var f=0;f<this.detailboundrows.length;f++)if(this.detailboundrows[f]!=null){var h=this.detailboundrows[f];if(h.details.detailskey==d){h.details.rowdetailsheight=n.rowdetailsheight,h.details.rowdetailshidden=n.rowdetailshidden,h.details.rowdetails=n.rowdetails;break}}this.details[e]=n}if(!this._detailsUpdate)return this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0},getrowdetails:function(e){return e==null?!1:(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){if(e==null||e<0)return!1;if(this.details[e])return this.details[e];if(this.rowdetailstemplate){if(typeof this.rowdetailstemplate=="function"){var t=this.rowdetailstemplate(e);return t.rowdetailshidden===void 0&&(t.rowdetailshidden=!0),t.rowdetailsheight===void 0&&(t.rowdetailsheight=200),t.rowdetails===void 0&&(t.rowdetails="<div></div>"),t}return this.rowdetailstemplate}},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(e==null||(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,e=this.getrowvisibleindex(e),e<0))return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,e=this.getrowvisibleindex(e),e<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t=e.visibleindex,i=this._getrowdetails(t);if(i!=null){var s=this.vScrollInstance.value,o=!i.rowdetailshidden,d=this.getboundindex(e);d!=null&&(this.detailsVisibility[d]=o);var n=this._setrowdetailsvisibility(t,i,o);return s!==0&&this.vScrollBar.css("visibility")!=="hidden"&&(s<=this.vScrollInstance.max?this.vScrollInstance.setPosition(s):this.vScrollInstance.setPosition(this.vScrollInstance.max)),n}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){var s=typeof this.rowdetailstemplate=="function"?this.rowdetailstemplate(e):this.rowdetailstemplate;s.rowdetailshidden===void 0&&(s.rowdetailshidden=!0),s.rowdetailsheight===void 0&&(s.rowdetailsheight=200),s.rowdetails===void 0&&(s.rowdetails="<div></div>"),this.details[e]={rowdetailshidden:s.rowdetailshidden,rowdetailsheight:s.rowdetailsheight,rowdetails:s.rowdetails};var o=this.dataview.generatekey();this.details[e].detailskey=o,this.detailboundrows[e]={index:e,details:this.details[e]}}if(t!=null)this.details[e].rowdetailshidden=i;else return!1;var d=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:d.rowdetails,height:d.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:d.rowdetails,height:d.rowdetailsheight}),this._setrowdetails(e,d.rowdetails,d.rowdetailsheight,d.rowdetailshidden)},getrowvisibleindex:function(e){if(e==null||e==null||e<0)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return t==null?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return e==null||e==null||e<0||e==null?!1:(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return e==null||e==null||e<0||e==null?!1:(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1))},isrowhiddenat:function(e){if(e==null)return null;if(e=this.getrowvisibleindex(e),this.rows.records[e])return this.rows.records[e].hidden},_setrowvisibility:function(e,t,i){return e==null?!1:(this.hiddens[e]=t,i==null||i?(this.rendergridcontent(!0),!0):!1)},_loadrows:function(){if(!(!this._pageviews[this.dataview.pagenum]&&!this.pageable)){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&this._pagescache[this.dataview.pagenum]!=null)return null;if(this.virtualsizeinfo){var t=this.that,i=new Array,s=new Array,o=t.groupable&&t.groups.length>0;this.dataview.totalrecords,this.virtualsizeinfo.virtualheight;var d=0;this.rows.beginupdate();var n=this.dataview.pagesize;this.pageable&&o&&(n=this.dataview.rows.length);for(var f=0;f<n&&!(f>=this.dataview.rows.length);f++){var h=this.dataview.rows[f],c=null;if(t.rows.records[h.visibleindex]?(c=t.rows.records[h.visibleindex],c.setdata(h)):c=new l(t,h),c.hidden=this.hiddens[c.visibleindex],this.rowdetailstemplate){var p=typeof this.rowdetailstemplate=="function"?this.rowdetailstemplate(c.boundindex):this.rowdetailstemplate;c.rowdetails=p.rowdetails,c.rowdetailsheight=p.rowdetailsheight,c.rowdetailshidden=p.rowdetailshidden,c.rowdetailshidden===void 0&&(c.rowdetailshidden=!0),c.rowdetailsheight===void 0&&(c.rowdetailsheight=200),c.rowdetails===void 0&&(c.rowdetails="<div></div>")}var v=this.details[c.visibleindex];if(v?(c.rowdetails=v.rowdetails,c.rowdetailsheight=v.rowdetailsheight,c.rowdetailshidden=v.rowdetailshidden,c.rowdetailshidden===void 0&&(c.rowdetailshidden=!0),c.rowdetailsheight===void 0&&(c.rowdetailsheight=200),c.rowdetails===void 0&&(c.rowdetails="<div></div>")):this.rowdetailstemplate||(c.rowdetails=null),o&&this.pageable&&c.parentbounddata!=null){var x=i[c.parentbounddata.uniqueid];if(x!=null){var w=this._findgroupstate(x.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,c.parentbounddata,!w,!1),c.hidden=this.hiddens[c.visibleindex]}x!=null&&x!=null&&(c.parentrow=x,x.subrows[x.subrows.length++]=c)}if(!c.hidden){var m=h.visibleindex,g=this.rowsheight;this.cardview&&(g=this.cardheight),this.heights[m]||(this.heights[m]=g),c.height=this.heights[m],this.rowdetails&&c.rowdetails&&!c.rowdetailshidden&&(c.height+=c.rowdetailsheight),i[c.uniqueid]=c,s[d++]=c,c.top=e,e+=c.height;var b=m;t.rows.replace(b,c)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),s.length>0&&(this._pagescache[this.dataview.pagenum]=s)}}},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(i){return t[i]})},sanitizeHTML:function(e){var t=this,i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig"),s=String(e).replace(i,function(o){return t.escapeHTML(o)});return s},escape_HTML:function(e){if(this.enableSanitizeAll)return this.escapeHTML(e);if(e&&(e.indexOf("onclick")>=0||e.indexOf("onload")>=0||e.indexOf("onerror")>=0))return this.escapeHTML(e);var t=this.sanitizeHTML(e);return t},_updateaddnewrowui:function(e){for(var t=this,i=t.everpresentrowposition!="bottom"?t.addnewrowtop:t.addnewrowbottom,s=t.columns.records.length,o=0,d=0;d<s;d++){var n=t.columns.records[d];n.addnewrowwidget&&a(n.addnewrowwidget).detach()}for(var d=0;d<s;d++){var n=t.columns.records[d],f=n.width;f<n.minwidth&&(f=n.minwidth),f>n.maxwidth&&(f=n.maxwidth);var h=a(i[0].cells[d]);h.css("left",o);var c=!0;h.width()==f&&(c=!1),e&&(c=!0),h.width(f),h[0].left=o,n.addnewrowwidget&&(h.html(""),h.append(n.addnewrowwidget)),!(n.hidden&&n.hideable)&&!n.adaptivehidden?o+=f:h.css("display","none")}var p=t.everpresentrowactions.split(" ");t.addnewrowbutton.show(),t.addnewrowupdatebutton.show(),t.addnewrowresetbutton.show(),t.addnewrowdeletebutton.show(),p.indexOf("add")==-1&&p.indexOf("addBottom")==-1&&t.addnewrowbutton.hide(),p.indexOf("update")==-1&&t.addnewrowupdatebutton.hide(),p.indexOf("reset")==-1&&t.addnewrowresetbutton.hide(),p.indexOf("delete")==-1&&t.addnewrowdeletebutton.hide();var v=a(i.children()[0]);v.width(parseInt(o)+2),v.height(t.everpresentrowheight),v.css("max-height",t.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this,t=e.columns.records.length,i=0;i<t;i++){var s=e.columns.records[i];s.addnewrowwidget&&(s.destroyeverpresentrowwidget?s.destroyeverpresentrowwidget(s.addnewrowwidget):s.addnewrowwidget.remove(),s.addnewrowwidget=null)}e.addnewrowbutton&&e.addnewrowbutton.remove(),e.addnewrowupdatebutton&&e.addnewrowupdatebutton.remove(),e.addnewrowdeletebutton&&e.addnewrowdeletebutton.remove(),e.addnewrowresetbutton&&e.addnewrowresetbutton.remove(),e.addnewrowpopup&&(e.addnewrowpopup.remove(),e.addnewrowpopup=null),e.addnewrowtop&&(e.addnewrowtop.remove(),e.addnewrowtop=null),e.addnewrowbottom&&(e.addnewrowbottom.remove(),e.addnewrowbottom=null)},_updateaddnewrow:function(){var e=this,t=e.everpresentrowposition!="bottom"?e.addnewrowtop:e.addnewrowbottom,i=a('<div style="position: relative;" id="row000'+e.element.id+'"></div>'),s=0,o=e.columns.records.length,d=e.toThemeProperty("jqx-grid-cell");d+=" "+e.toThemeProperty("jqx-grid-cell-add-new-row"),d+=" "+e.toThemeProperty("jqx-grid-cell-filter-row");var n=o+10,f=new Array;e.that,t[0].cells=f,i.height(e.everpresentrowheight),!e.showfilterrow&&e.everpresentrowposition!="bottom"?t.css("max-height",e.everpresentrowheight-1+"px"):e.showfilterrow&&e.everpresentrowposition!="bottom"&&t.css("max-height",e.everpresentrowheight-3+"px"),i.css("max-height",e.everpresentrowheight+"px"),t.append(i);var h=a("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99; display: none; position: absolute;'><div>").appendTo(a(document.body)),c=a("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+e.gridlocalization.addrowstring+"</button>"),p=a("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+e.gridlocalization.udpaterowstring+"</button>"),v=a("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+e.gridlocalization.deleterowstring+"</button>"),x=a("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+e.gridlocalization.resetrowstring+"</button>");h.addClass(e.toThemeProperty("jqx-popup")),h.addClass(e.toThemeProperty("jqx-rc-all")),h.addClass(e.toThemeProperty("jqx-fill-state-normal")),h.addClass(e.toThemeProperty("jqx-shadow")),h.append(c),h.append(p),h.append(v),h.append(x);var w=e.everpresentrowactions.split(" ");w.indexOf("add")==-1&&w.indexOf("addBottom")==-1&&c.hide(),w.indexOf("update")==-1&&p.hide(),w.indexOf("reset")==-1&&x.hide(),w.indexOf("delete")==-1&&v.hide(),e.addnewrowpopup=h,e.addnewrowbutton=c,e.addnewrowupdatebutton=p,e.addnewrowdeletebutton=v,e.addnewrowresetbutton=x,c.jqxButton({template:"success",theme:e.theme}),v.jqxButton({template:"danger",theme:e.theme}),p.jqxButton({template:"primary",theme:e.theme}),x.jqxButton({template:"warning",theme:e.theme}),p.mousedown(function(P){for(var T={},I={},z=0;z<o;z++){var q=e.columns.records[z];if(q.geteverpresentrowwidgetvalue){var B=q.geteverpresentrowwidgetvalue(q.displayfield,q.addnewrowwidget);I[q.datafield]=B,q.datafield!=q.displayfield&&(I[q.datafield]=B.value,I[q.displayfield]=B.label)}}for(var S=!1,z=0;z<o;z++){var q=e.columns.records[z];if(q.geteverpresentrowwidgetvalue){var B=q.geteverpresentrowwidgetvalue(q.displayfield,q.addnewrowwidget);if(q.createeverpresentrowwidget&&q.validateeverpresentrowwidgetvalue){var D=q.validateeverpresentrowwidgetvalue(q.displayfield,B,I),H=D,G=e.gridlocalization.validationstring;H.message!=null&&(G=H.message);var N=typeof H=="boolean"?H:H.result;N?(q.addnewrowwidget.attr("title",""),q.addnewrowwidget.removeClass(e.toThemeProperty("jqx-input-invalid"))):(B="invalid editor state",q.addnewrowwidget.attr("title",G),q.addnewrowwidget.addClass(e.toThemeProperty("jqx-input-invalid")))}if(B==="invalid editor state"){P.preventDefault(),P.stopPropagation(),S=!0;continue}}}if(S){h.hide(),e.focus();return}for(var z=0;z<o;z++){var q=e.columns.records[z];if(q.geteverpresentrowwidgetvalue){var B=q.geteverpresentrowwidgetvalue(q.displayfield,q.addnewrowwidget);T[q.datafield]=B,q.datafield!=q.displayfield&&(T[q.datafield]=B.value,T[q.displayfield]=B.label),q.reseteverpresentrowwidgetvalue&&q.reseteverpresentrowwidgetvalue(q.displayfield,q.addnewrowwidget)}}if(e.selectedcells.length>0||e.selectedrowindexes.length>0){if(e.selectionmode.indexOf("cell")>=0)var A=e.getselectedcells()[0].rowindex;else var A=e.selectedrowindexes[0];var M=e.getrowdata(A);M&&e.updaterow(M.uid,T)}h.hide(),e.focus()}),v.mousedown(function(P){if(e.selectedcells.length>0||e.selectedrowindexes.length>0){if(e.selectionmode.indexOf("cell")>=0)var T=e.getselectedcells()[0].rowindex;else var T=e.selectedrowindexes[0];var I=e.getrowdata(T);I&&e.deleterow(I.uid)}for(var z=0;z<o;z++){var q=e.columns.records[z];q.reseteverpresentrowwidgetvalue&&q.reseteverpresentrowwidgetvalue(q.displayfield,q.addnewrowwidget)}h.hide(),e.focus(),e.updateeverpresentrow()}),c.mousedown(function(P){for(var T={},I={},z=0;z<o;z++){var q=e.columns.records[z];if(q.geteverpresentrowwidgetvalue){var B=q.geteverpresentrowwidgetvalue(q.displayfield,q.addnewrowwidget);I[q.datafield]=B,q.datafield!=q.displayfield&&(I[q.datafield]=B.value,I[q.displayfield]=B.label),q.datafield!=q.displayfield&&(I[q.datafield]=B.label,I[q.displayfield]=B.value)}}for(var S=!1,z=0;z<o;z++){var q=e.columns.records[z];if(q.geteverpresentrowwidgetvalue){var B=q.geteverpresentrowwidgetvalue(q.displayfield,q.addnewrowwidget);if(q.createeverpresentrowwidget&&q.validateeverpresentrowwidgetvalue){var D=q.validateeverpresentrowwidgetvalue(q.displayfield,B,I),H=D,G=e.gridlocalization.validationstring;H.message!=null&&(G=H.message);var N=typeof H=="boolean"?H:H.result;N?(q.addnewrowwidget.attr("title",""),q.addnewrowwidget.removeClass(e.toThemeProperty("jqx-input-invalid"))):(B="invalid editor state",q.addnewrowwidget.attr("title",G),q.addnewrowwidget.addClass(e.toThemeProperty("jqx-input-invalid")))}if(B==="invalid editor state"){P.preventDefault(),P.stopPropagation(),S=!0;continue}}}if(S){h.hide(),e.focus();return}for(var z=0;z<o;z++){var q=e.columns.records[z];if(q.geteverpresentrowwidgetvalue){var B=q.geteverpresentrowwidgetvalue(q.displayfield,q.addnewrowwidget);T[q.datafield]=B,q.datafield!=q.displayfield&&(I[q.datafield]=B.label,I[q.displayfield]=B.value),q.reseteverpresentrowwidgetvalue&&q.reseteverpresentrowwidgetvalue(q.displayfield,q.addnewrowwidget)}}var A=e.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";e.addrow(null,T,A),h.hide(),e.focus()}),x.mousedown(function(P){for(var T=0;T<o;T++){var I=e.columns.records[T];I.reseteverpresentrowwidgetvalue&&I.reseteverpresentrowwidgetvalue(I.displayfield,I.addnewrowwidget),I.addnewrowwidget&&(I.addnewrowwidget.attr("title",""),I.addnewrowwidget.removeClass(e.toThemeProperty("jqx-input-invalid")))}h.hide(),e.focus()});for(var m=0;m<o;m++){var g=e.columns.records[m],b=g.width;b<g.minwidth&&(b=g.minwidth),b>g.maxwidth&&(b=g.maxwidth);var _=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+d+'"></div>');if(i.append(_),_.css("left",s),e.rtl?(_.css("z-index",n++),_.css("border-left-width","1px")):_.css("z-index",n--),b=="auto"&&(b=0),_[0].style.width=parseFloat(b)+"px",_[0].left=s,!(g.hidden&&g.hideable)&&!g.adaptivehidden?s+=b:_.css("display","none"),f[f.length]=_[0],g.checkboxcolumn){var y=e.toThemeProperty("jqx-grid-cell");y+=" "+e.toThemeProperty("jqx-grid-cell-filter-row"),y+=" "+e.toThemeProperty("jqx-grid-cell-pinned"),_.removeClass().addClass(y);continue}var j=!0;if(e.rtl){if(e.groupable){var C=e.showrowdetailscolumn&&e.rowdetails?1:0;e.groups.length+C+m>o-1&&(j=!1)}e.showrowdetailscolumn&&e.rowdetails&&m==o-1&&(j=!1)}else{if(e.groupable){var C=e.showrowdetailscolumn&&e.rowdetails?1:0;e.groups.length+C>m&&(j=!1)}e.showrowdetailscolumn&&e.rowdetails&&m==0&&(j=!1)}if(e.updateeverpresentrow=function(){var P=null;if(e.selectedcells.length>0||e.selectedrowindexes.length>0){if(e.selectionmode.indexOf("cell")>=0)var T=e.getselectedcells()[0].rowindex;else var T=e.selectedrowindexes[0];P=e.getrowdata(T)}if(P)for(var I=0;I<e.columns.records.length;I++){var z=e.columns.records[I];if(z.seteverpresentrowwidgetvalue){var q=e.getcelltext(T,z.displayfield);z.seteverpresentrowwidgetvalue(z.addnewrowwidget,q)}}},j)if(g.createeverpresentrowwidget){var L=function(){c.trigger("mousedown")};g.addnewrowwidget=g.createeverpresentrowwidget(g.datafield,_,h,L),g.initeverpresentrowwidget&&g.initeverpresentrowwidget(g.datafield,_,h)}else{e._measureElement("column");var k=e.everpresentrowheight/2-e._columnheight/2;if(k<0&&(k=6),k+="px",g.datafield==="addButtonColumn"){var O=a('<div style="padding-bottom: 2px; text-align: center; margin-top: '+k+';"><a href="#">'+e.gridlocalization.addrowstring+"</a></div>");_.append(O),O.mousedown(function(){c.trigger("mousedown")});continue}else if(g.datafield==="resetButtonColumn"){var O=a('<div style="padding-bottom: 2px; text-align: center; margin-top: '+k+';"><a href="#">'+e.gridlocalization.resetrowstring+"</a></div>");_.append(O),O.mousedown(function(){x.trigger("mousedown")});continue}var X=function(P,T,I){var z=a('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(z[0].id=a.jqx.utilities.createId(),z.addClass(P.toThemeProperty("jqx-widget")),z.addClass(P.toThemeProperty("jqx-input")),z.addClass(P.toThemeProperty("jqx-widget-content")),z.addClass(P.toThemeProperty("jqx-enableselect")),z.addClass(P.toThemeProperty("jqx-grid-cell-add-new-row")),z.css("text-align",I.cellsalign),P.rtl&&z.css("direction","rtl"),P.disabled&&z.attr("disabled",!0),z.attr("disabled",!1),z.attr("placeholder",P.gridlocalization.everpresentrowplaceholder+I.text),z.appendTo(T),z.css("width","100%"),z.css("height",P.everpresentrowheight+"px"),z.css("line-height",P.everpresentrowheight+"px"),z.css("max-height",P.everpresentrowheight+"px"),z.css("margin","0px"),z.focus(function(){(e.selectedcells.length>0||e.selectedrowindexes.length>0)&&(e.selectionmode.indexOf("cell")>=0?e.getselectedcells()[0].rowindex:e.selectedrowindexes[0]),z.addClass(P.toThemeProperty("jqx-fill-state-focus"));var B=P.columns.records.indexOf(I);P.everpresentrowactionsmode!=="columns"&&h.css({display:"block",top:z.coord().top+P.everpresentrowheight-1,left:B>0?z.coord().left:z.coord().left-1});var S=h.children().width();if(I.cellsalign==="right"){var S=c.width()+x.width();h.children().css("left",S-S+"px")}else h.children().css("left","0px");return P.content[0].scrollLeft=0,P.content[0].scrollTop=0,setTimeout(function(){P.content[0].scrollLeft=0,P.content[0].scrollTop=0},50),!1}),I.addnewrowwidget=z,I.reseteverpresentrowwidgetvalue||(I.reseteverpresentrowwidgetvalue=function(B,S){S.val(""),S.focus(),S.blur(),S.removeClass(e.toThemeProperty("jqx-input-invalid")),S.attr("title","")}),I.seteverpresentrowwidgetvalue||(I.seteverpresentrowwidgetvalue=function(B,S){B.val(S)}),!I.geteverpresentrowwidgetvalue){var q=I;I.geteverpresentrowwidgetvalue=function(B,S,D){var H=S.val();if(D!==!1&&q.validateeverpresentrowwidgetvalue){for(var G={},N=0;N<o;N++){var A=e.columns.records[N];if(A.geteverpresentrowwidgetvalue){var M=A.geteverpresentrowwidgetvalue(A.displayfield,A.addnewrowwidget,!1);G[A.datafield]=M,A.datafield!=A.displayfield&&(G[A.datafield]=M.value,G[A.displayfield]=M.label)}}var Q=q.validateeverpresentrowwidgetvalue(q.displayfield,H,G),U=Q,Y=e.gridlocalization.validationstring;U.message!=null&&(Y=U.message);var E=typeof U=="boolean"?U:U.result;if(E)z.removeClass(e.toThemeProperty("jqx-input-invalid")),z.attr("title","");else return z.addClass(e.toThemeProperty("jqx-input-invalid")),z.attr("title",Y),"invalid editor state"}var R="string",$=e.source.datafields||(e.source._source?e.source._source.datafields:null);if($){var F="";a.each($,function(){if(this.name==q.displayfield)return this.type&&(F=this.type),!1}),F&&(R=F)}if(R==="number"){var W=parseFloat(H);if(isNaN(W))return null}return R==="date"?a.jqx.dataFormat.tryparsedate(H,e.gridlocalization):R==="bool"||R==="boolean"?H==="true"||H=="1"?!0:H==="false"||H=="0"?!1:H===!0||H===!1?H:!1:H}}z.keydown(function(B){B.keyCode===13&&(e.everpresentrowactions.indexOf("add")>=0?c.trigger("mousedown"):e.everpresentrowactions.indexOf("update")>=0?p.trigger("mousedown"):e.everpresentrowactions.indexOf("delete")>=0&&v.trigger("mousedown"))}),z.blur(function(){z.removeClass(P.toThemeProperty("jqx-fill-state-focus")),h.css("display","none")}),I.initeverpresentrowwidget&&I.initeverpresentrowwidget(I.datafield,T,h)};X(this,_,g)}}a.jqx.browser.msie&&a.jqx.browser.version<8&&i.css("z-index",n--),i.width(parseFloat(s)+2),t.addClass(d),t.css("border-bottom-width","0px"),e.showfilterrow?t.css("border-top-width","0px"):t.css("border-top-width","1px"),t.css("box-sizing","border-box"),t.css("border-right-width","0px")},_gettableheight:function(){if(this.tableheight!=null)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,this.hScrollBar[0].style.visibility=="visible"&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showfilterbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&this.everpresentrowposition==="bottom"&&(e-=this.everpresentrowheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight,t=Math.round(e/this.rowsheight);return t}return this.autoheight||this.autorowheight||this.cardview?this.dataview.totalrows==0?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){this.that;var e=Math.round(this.host.height())+2*this.rowsheight,t=this._gettableheight(),i=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var s=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(s=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?s=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(s=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var o=s*this.rowsheight;this.cardview&&(o=Math.ceil(s/this.cardsize)*this.rowsheight);var d=0,n=0,f=0,h=this._getpagesize(),c=h*this.rowsheight,p=0;if(!this.pageable&&this.autoheight&&(i=s),s+h>0)for(;p<=s+h;){if(d+=c,p-h<s&&p>=s){var v=p-s;v>0&&(f-=c,this._pageviews[n-1]={top:f,height:c-v*this.rowsheight});break}else this._pageviews[n++]={top:f,height:c};f=d,p+=h}if(this.resizingGrid!=!0&&this.vScrollBar.jqxScrollBar({value:0}),this.hScrollBar.css("visibility")=="hidden"){var x=0;if(this.columns&&this.columns.records){for(var p=0;p<this.columns.records.length;p++)x+=isNaN(this.columns.records[p].width)?this.columns.records[p].minwidth:this.columns.records[p].width;!isNaN(x)&&parseInt(x)>this.host.width()&&(t-=30)}}return o>t&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),this.scrollmode=="deferred"?this.vScrollBar.jqxScrollBar({max:o}):(this.vScrollBar.jqxScrollBar({max:o-t}),this.cardview&&this.vScrollBar.jqxScrollBar({step:this.cardheight}))):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=h,this.dataview.updateview(),{visiblerecords:i,virtualheight:o}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),s=Math.max(this.dataview.totalrows,this.dataview.totalrecords),o=s*this.rowsheight,d=0,n=0,f=0,h=0,c=0,p=this._getpagesize();if(this.pageable)this._updatepagedview&&(o=this._updatepagedview(s,o,0)),this.autoheight&&this._arrange();else for(var v=0;v<s;v++){var x={index:v,height:this.heights[v],hidden:this.hiddens[v],details:this.details[v]};if(this.heights[v]==null&&(this.heights[v]=this.rowsheight,x.height=this.rowsheight),this.hiddens[v]==null&&(this.hiddens[v]=!1,x.hidden=!1),this.details[v]==null&&(this.details[v]=null),x.height!=e.rowsheight&&(o-=e.rowsheight,o+=x.height),x.hidden)o-=x.height;else{n+=x.height;var w=0;if(this.rowdetails){if(this.rowdetailstemplate&&!x.details){var m=typeof this.rowdetailstemplate=="function"?this.rowdetailstemplate():this.rowdetailstemplate;m.rowdetailshidden===void 0&&(m.rowdetailshidden=!0),m.rowdetailsheight===void 0&&(m.rowdetailsheight=200),m.rowdetails===void 0&&(m.rowdetails="<div></div>"),x.details=m}x.details&&x.details.rowdetails&&!x.details.rowdetailshidden&&(w=x.details.rowdetailsheight,n+=w,o+=w)}d+=x.height+w}c++,(c>=p||v==s-1)&&(this._pageviews[f++]={top:h,height:n},n=0,h=d,c=0)}var g=this._gettableheight();if(o>g)if(this.pageable&&this.gotopage&&(o=this._pageviews[0].height,o<0&&(o=this._pageviews[0].height)),this.vScrollBar.css("visibility")!="visible"&&this.vScrollBar.css("visibility","visible"),(o<=g||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),o-g>0)if(this.scrollmode!="deferred"){var b=parseInt(o-g),_=parseInt(this.vScrollInstance.max);this.vScrollBar.jqxScrollBar({max:b}),b!=_&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:o});else this.vScrollBar.jqxScrollBar({value:0,max:o});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:o}}},updatebounddata:function(e){if(e!="data"&&e!="sort"&&e!="filter"&&e!="cells"&&e!="pagechanged"&&e!="pagesizechanged"&&!this.virtualmode){if(this.virtualsizeinfo=null,this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];i.destroywidget&&i.widget&&i.destroywidget&&i.destroywidget(i.widget)}this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.showeverpresentrow&&this._removeaddnewrow(),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())}this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;(this.virtualmode||!this.pageable)&&(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();if(e>t)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height,e<0&&(e=this._pageviews[0].height)),this.vScrollBar.css("visibility")!="visible"&&this.vScrollBar.css("visibility","visible"),(e<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-t>0){var i=e-t;this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(e){if(e!=!0){if(a.jqx.isHidden(this.host))return;this.virtualsizeinfo!=null&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(var i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var s=function(g){for(var b=0;b<t.columngroups.length;b++){var _=t.columngroups[b];if(_.name===g)return _}return null},i=0;i<this.columngroups.length;i++){var o=this.columngroups[i];if(o.groups||(o.groups=null),o.parentgroup){var d=s(o.parentgroup);d&&(o.parent=d,d.groups||(d.groups=new Array),d.groups.indexOf(o)===-1&&d.groups.push(o))}}for(var i=0;i<this.columns.records.length;i++){var o=this.columns.records[i];if(o.columngroup){var d=s(o.columngroup);d&&(d.groups||(d.groups=new Array),o.parent=d,d.groups.indexOf(o)===-1&&d.groups.push(o))}}for(var n=0,i=0;i<this.columns.records.length;i++){var o=this.columns.records[i],f=o;for(o.level=0;f.parent;)f=f.parent,o.level++;var f=o,h=o.level;for(n=Math.max(n,o.level);f.parent;)f=f.parent,f&&(f.level=--h)}for(var c=function(g){var b=new Array;if(g.columngroup&&b.push(g),g.groups){for(var _=0;_<g.groups.length;_++)if(g.groups[_].columngroup)b.push(g.groups[_]);else if(g.groups[_].groups)for(var y=c(g.groups[_]),j=0;j<y.length;j++)b.push(y[j])}return b},i=0;i<this.columngroups.length;i++){var o=this.columngroups[i],p=c(o);o.columns=p;for(var v=new Array,x=0,w=0;w<p.length;w++)v.push(this.columns.records.indexOf(p[w])),p[w].pinned&&x++;if(x!=0)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");v.sort(function(_,y){return _=parseInt(_),y=parseInt(y),_<y?-1:_>y?1:0});for(var m=1;m<v.length;m++)if(v[m]!=v[m-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+n,e=this.columngroupslevel*this.columnsheight}return e},_render:function(e,t,i,s,o){if(this.dataview!=null&&!this._loading&&!this._batchupdate){if(a.jqx.isHidden(this.host)){var d=this;d.___hiddenTimer&&(clearInterval(d.___hiddenTimer),d.___hiddenTimer=null),this.___hiddenTimer=setInterval(function(){a.jqx.isHidden(d.host)||(clearInterval(d.___hiddenTimer),d.render())},300);return}if(this.contextmenuenabled){for(var d=this,n=document.createElement("div"),f="<ul>",h=0;h<this.contextmenuitems.length;h++){var c="<li>"+this.contextmenuitems[h]+"</li>";f+=c}n.innerHTML=f;var p=d.element.id+"_contextmenu";n.id=p;var v=this,x=null;this.host.on("contextmenu",function(_){return x=v.getcellatposition(_.pageX,_.pageY),a("#"+p).jqxMenu("open",_.pageX,_.pageY),!1}),a(n).on("itemclick",function(_){d.contextmenuitemclick&&d.contextmenuitemclick(_,x)}),document.body.appendChild(n),a("#"+p).jqxMenu({theme:d.theme,width:d.contextmenuwidth,height:d.contextmenuheight,autoOpenPopup:!1,mode:"popup"})}if(this.editcell!=null&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=t??!0,this._newmax=null,i)if(this._requiresupdate||s!=!1&&this._initmenu(),this.columns==null)this.columns=new a.jqx.collection(this.element);else{var w=this;this.columns&&this.columns.name==="observableArray"&&(this.columns.notifier=function(b){var _=function(){w.columns=w._columns,w.render()};switch(b.type){case"add":_();break;case"update":if(b.name==="index"){w.beginupdate();for(var y in b.newValue)w.setcolumnproperty(b.newValue.datafield,y,b.newValue[y]);w.endupdate()}else{var j=b.path.split(".");w.setcolumnproperty(w.columns[j[0]].datafield,b.name,b.newValue)}break;case"delete":_();break}}),this.columngroups&&this.columngroups.name==="observableArray"&&(this.columngroups.notifier=function(b){w.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),s==!0&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,a.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),i?(this.filterrow&&this.filterrow.detach(),a.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||a('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&a.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||a('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var m=this.columnsheight;if(m=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(m+this.filterrowheight),this.showeverpresentrow&&this.everpresentrowposition!=="bottom"&&this.columnsheader.height(m+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&this.everpresentrowposition!=="bottom"?this.columnsheader.height(m+this.everpresentrowheight):this.columnsheader.height(m),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||a("<div style='z-index: 9999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,i),this.groups.length>0&&this.groupable){var g=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=g&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),this.scrollmode=="deferred"&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(o==null||o==!0)&&this._updatelistfilters(!i),(this.filterable&&this.filtermode==="simple"||this.filtermode==="default"&&this.showfilterbar)&&this._renderfilter(),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var e=a.jqx.utilities.getBrowser();if(e.browser=="msie"&&parseInt(e.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=a("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",180),this._overlayElement.css("opacity",.001),this.isTouchDevice())if(this.vScrollBar.css("visibility")!=="hidden"||this.hScrollBar.css("visibility")!=="hidden"){var t=0;this.selectionmode=="checkbox"&&(t+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var i=this._overlayElement.css("left");if(this._overlayElement.css("left",i+t),this.cardview){this.content.prepend(this._overlayElement);var s=this;this.host.on("mouseup",function(){s._overlayElement.css("visibility","visible")}),this._overlayElement[0].onmouseup=function(o){s._overlayElement.css("visibility","hidden"),o.stopPropagation()}}}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=a("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",1800),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=a("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",1900),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if((e=="filter"||e=="sort"||e=="group")&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0;for(var t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0);if(!this._loading)for(var t=0;t<this.detailsVisibility.length;t++)this.detailsVisibility[t]===!1?this.showrowdetails(t):this.detailsVisibility[t]===!0&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if(e=="filter"||e=="sort")for(var t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],s=0;for(var o in this.groupsVisibility)o==i.group&&this.groupsVisibility[o]&&(this._setgroupstate(i,!0,!1),s++);if(s>0){var d=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(d!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else e=="group"&&(this.groupsVisibility=new Array)},rendergridcontent:function(e,o){if(this.updating())return!1;(e==null||e==null)&&(e=!1),this._requiresupdate=e;var i=this.prerenderrequired;this.prerenderrequired&&this._arrange();var s=this.that,o=o;if((o==null||o==null)&&(o=!0),this.tableheight=null,s.virtualsizeinfo=s.virtualsizeinfo||s._calculatevirtualheight(),s.pageable&&!s.autoheight&&s.dataview.totalrows<s.pagesize&&(s._requiresupdate=!0),o?s._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),s._renderrows(s.virtualsizeinfo),this.gridcontent&&(this.gridcontent[0].scrollTop!=0&&(this.gridcontent[0].scrollTop=0),this.gridcontent[0].scrollLeft!=0&&(this.gridcontent[0].scrollLeft=0)),i){var d=this.tableheight;this._arrange(),d!=this.tableheight&&this.autoheight&&s._renderrows(s.virtualsizeinfo)}if(this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&this.initializedcall!=null&&this.savestate&&this.savestate(),this.adaptive&&this.element.offsetWidth<=this.adaptivewidth){var n=0,f=s.element.offsetWidth-2;a.each(this.columns.records,function(h,c){if(n+=this.width,this.columntype==="adaptive")return!0;n>=f&&(this.adaptivehidden=!0)}),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}else this.adaptive&&(a.each(this.columns.records,function(h,c){if(this.columntype==="adaptive")return!0;this.adaptivehidden=!1}),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo));return!0},_updatecolumnwidths:function(){var e=this.host.width(),t=e,i="";if(!(this.columns==null||this.columns.records==null)){var s=this.that,x=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth,o=this.adaptive&&this.element.offsetWidth<=this.adaptivewidth,d=0;if(o){var n=1;a.each(this.columns.records,function(_,y){this.adaptivehidden&&n++});var f=this.vScrollBar[0].offsetWidth>0?this.vScrollBar[0].offsetWidth+4:0;this.vScrollBar.css("visibility")=="hidden"&&(f=0);var h=this.columns.records.length-n;d=(this.element.offsetWidth-32-f)/h}a.each(this.columns.records,function(_,y){if(!(this.hidden&&this.hideable)&&!this.adaptivehidden)if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=null){var y=0,j=s.vScrollBar[0].style.visibility=="hidden"?0:s.scrollbarsize+5;(s.scrollbarautoshow||s.scrollbarsize==0)&&(j=0);var C=t;y=parseFloat(this.width)*C/100,j+=x,this._percentagewidth!=null&&(y=parseFloat(this._percentagewidth)*(C-j)/100),y<this.minwidth&&this.minwidth!="auto"&&(y=this.minwidth),y>this.maxwidth&&this.maxwidth!="auto"&&(y=this.maxwidth),e-=y}else this.width!="auto"&&!this._width?e-=this.width:i+=this.text});var c=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>c)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var p=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var v=0;v<this.dataview.rows.length;v++)this.dataview.rows[v].group&&this.dataview.rows[v].level===0&&(p+=this.rowsheight);p>c?(e-=this.scrollbarsize+5,t-=this.scrollbarsize+5):this.vScrollBar.css("visibility")=="visible"&&(e-=this.scrollbarsize+5,t-=this.scrollbarsize+5)}else e-=this.scrollbarsize+5,t-=this.scrollbarsize+5;else this.vScrollBar.css("visibility")!="hidden"&&this.scrollbarsize>0&&(e-=this.scrollbarsize+5,t-=this.scrollbarsize+5);var x=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(t-=x,!!this.columnsheader){var w=this.columnsheader.find("#columntable"+this.element.id);if(w.length!=0){var m=0,g=this,b=0;a.each(this.columns.records,function(_,y){var j=a(this.element);!this.hidden&&!this.adaptivehidden&&this.element.style.display==="none"&&(this.element.style.display="block"),this.adaptivehidden&&(this.element.style.display="none");var C=!1,L=this.width;if((this.width.toString().indexOf("%")!=-1||this._percentagewidth!=null)&&(this._percentagewidth!=null?L=parseFloat(this._percentagewidth)*t/100:L=parseFloat(this.width)*t/100,C=!0),d>0&&this.columntype!=="adaptive")j.width(d),this.adaptivewidth=d;else if(this.width!="auto"&&!this._width&&!C)parseInt(j[0].style.width)!=this.width&&j.width(this.width);else if(C)L<this.minwidth&&this.minwidth!="auto"&&(L=this.minwidth,this.width=L),L>this.maxwidth&&this.maxwidth!="auto"&&(L=this.maxwidth,this.width=L),parseInt(j[0].style.width)!=L&&(j.width(L),this.width=L);else{var k=Math.floor(e*(this.text.length/i.length));if(b+=k,e-b<3&&e!=b&&e-b>.01?e-b===1?k++:k+=2:_==s.columns.records.length-1&&b<e&&(k+=e-b),isNaN(k)&&(k=this.minwidth),isNaN(k)&&(k=this.minwidth),k==1/0&&(k=0),k<0){var O=a("<span>"+g.escape_HTML(this.text)+"</span>");a(document.body).append(O),k=10+O.width(),O.remove()}k<this.minwidth&&(k=this.minwidth),k>this.maxwidth&&(k=this.maxwidth),this._width="auto",this.width=k,j.width(this.width)}parseInt(j[0].style.left)!=m&&j.css("left",m),!(this.hidden&&this.hideable)&&!this.adaptivehidden&&(d>0&&this.columntype!=="adaptive"?m+=d:m+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+m),w.width(this.columnsheader.width()),m==0?this.columnsheader[0].style.visibility="hidden":this.columnsheader[0].style.visibility="inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&(this.everpresentrowposition!=="bottom"?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var e=this.that;if(this.cardview?(e.cardviewcolumns.length>0&&a.each(this.columns.records,function(P,T){if(typeof e.cardviewcolumns[0]!="string"){for(var I=!1,z=0;z<e.cardviewcolumns.length;z++)e.cardviewcolumns[z].datafield===this.datafield&&(this.__width=this.width,this.width=e.cardviewcolumns[z].width||"",I=!0);I||(this.__hidden=this.hidden,this.hidden=!0)}else e.cardviewcolumns[P]?(this.__width=this.width,this.width=e.cardviewcolumns[P]):this.hideable&&(this.__hidden=this.hidden,this.hidden=!0)}),this._cardviewmode=!0):this._cardviewmode&&(a.each(this.columns.records,function(P,T){this.__width!==void 0&&(this.width=this.__width,delete this.__width),this.__hidden!==void 0&&(this.hidden=this.__hidden,delete this.__hidden)}),this._cardviewmode=!1),!this.prerenderrequired){this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&(this.everpresentrowposition!=="bottom"?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui());return}this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var t=a('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');t[0].cells=new Array;var i=0,s=0,o="",d=this.host.width(),n=d,f=new Array,h=new Array,c=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(a.each(this.columns.records,function(P,T){if(!(this.hidden&&this.hideable)&&!this.adaptivehidden)if(this.width!="auto"&&!this._width)if(this.width<this.minwidth&&this.minwidth!="auto")d-=this.minwidth;else if(this.width>this.maxwidth&&this.maxwidth!="auto")d-=this.maxwidth;else if(this.width.toString().indexOf("%")!=-1){var T=0,I=e.vScrollBar[0].style.visibility=="hidden"?0:e.scrollbarsize+5;I+=c,T=parseFloat(this.width)*(n-I)/100,T<this.minwidth&&this.minwidth!="auto"&&(T=this.minwidth),T>this.maxwidth&&this.maxwidth!="auto"&&(T=this.maxwidth),d-=T}else typeof this.width=="string"&&(this.width=parseInt(this.width)),d-=this.width;else o+=this.text;this.pinned||this.grouped||this.checkboxcolumn?(e._haspinned&&(this.pinned=!0),f[f.length]=this):h[h.length]=this}),this.rtl){var x=0;f.reverse();for(var p=this.columns.records.length-1;p>=this.columns.records.length-f.length;p--)this.columns.replace(p,f[x++]);for(var v=0;v<h.length;v++)this.columns.replace(v,h[v])}else{for(var p=0;p<f.length;p++)this.columns.replace(p,f[p]);for(var v=0;v<h.length;v++)this.columns.replace(f.length+v,h[v])}var w=this.headerZIndex,m=e.groupable?e.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&m++;var g=e.columnsheader.height();this.showfilterrow&&(this.columngroups?g-=this.filterrowheight:g=this.columnsheight),this.showeverpresentrow&&this.everpresentrowposition!=="bottom"&&(this.columngroups?g-=this.everpresentrowheight:g=this.columnsheight);var b=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>b&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var _=0;if(this.pageable){if(this.pageable)for(var y=0;y<this.dataview.rows.length;y++)this.dataview.rows[y].group&&this.dataview.rows[y].level===0&&(_+=this.rowsheight)}else var _=this.dataview.loadedrootgroups.length*this.rowsheight;_>b&&(d-=this.scrollbarsize+5,n-=this.scrollbarsize+5)}else d-=this.scrollbarsize+5,n-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(d-=this.scrollbarsize+5,n-=this.scrollbarsize+5);n-=c;var j=function(P,T){var I=e.columngroupslevel*e.columnsheight;return I=I-T.level*e.columnsheight,I},C=document.createDocumentFragment(),L=0;if(a.each(this.columns.records,function(P,T){this.height=e.columnsheight,e.columngroups&&e.columngroups.length&&(this.height=j(this.datafield,this),g=this.height);var I=e.toTP("jqx-grid-column-header")+" "+e.toTP("jqx-widget-header");e.rtl&&(I+=" "+e.toTP("jqx-grid-column-header-rtl"));var z=e.rtl?150+w+1:150+w-1,q=e.rtl?w++:w--,B=a('<div role="columnheader" style="z-index: '+q+';position: absolute; height: 100%;" class="'+I+'"><div style="height: 100%; width: 100%;"></div></div>');e.columngroups&&(B[0].style.height=g+"px",B[0].style.bottom="0px",this.pinned&&(B[0].style.zIndex=z)),this.uielement=B,this.classname!=""&&this.classname&&B.addClass(this.classname);var S=this.width,D=!1;if(this.width===null&&(this.width="auto"),(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=null)&&(this._percentagewidth!=null?S=parseFloat(this._percentagewidth)*n/100:S=parseFloat(this.width)*n/100,D=!0),this.width!="auto"&&!this._width&&!D)S<this.minwidth&&this.minwidth!="auto"&&(S=this.minwidth,this.width=S),S>this.maxwidth&&this.maxwidth!="auto"&&(S=this.maxwidth,this.width=S),B[0].style.width=parseInt(S)+"px";else if(D)S<this.minwidth&&this.minwidth!="auto"&&(S=this.minwidth),S>this.maxwidth&&this.maxwidth!="auto"&&(S=this.maxwidth),(this._percentagewidth==null||this.width.toString().indexOf("%")!=-1)&&(this._percentagewidth=this.width),B.width(S),this.width=S;else if(!this.hidden&&!this.adaptivehidden){var H=Math.floor(d*(this.text.length/o.length));if(L+=H,d-L<3&&d!=L&&d-L>.01?d-L===1?H++:H+=2:P==e.columns.records.length-1&&L<d&&(H+=d-L),isNaN(H)&&(H=this.minwidth),H<0){var G=a("<span>"+this.text+"</span>");a(document.body).append(G),H=10+G.width(),G.remove()}H<this.minwidth&&(H=this.minwidth),H>this.maxwidth&&(H=this.maxwidth),this._width="auto",this.width=H,S=this.width,B.width(this.width)}(this.hidden&&this.hideable||this.adaptivehidden)&&B.css("display","none");var N=a(B.children()[0]),A=e.rtl?e.toTP("jqx-grid-column-menubutton")+" "+e.toTP("jqx-grid-column-menubutton-rtl"):e.toTP("jqx-grid-column-menubutton");A+=" "+e.toTP("jqx-icon-arrow-down");var M=a('<div style="height: '+g+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+A+'" style="width: 100%; height:100%;"></div></div>');e.enableanimations||M.css("margin-left",-16),e.rtl&&M.css("left","0px"),this.columnsmenu=M[0],t[0].cells[P]=B[0],M[0].style.width=parseInt(e.columnsmenuwidth)+"px";var Q=e.columnsmenu,U=!1,Y=!1,E=e.groupable&&m>0&&i<m||e.rowdetails&&i<m;if(e.rtl&&(E=e.groupable&&m>0&&i<m||e.rowdetails&&i<m,E&=P>e.columns.records.length-1-m),E)i++,Q&=!1,this.sortable=!1,this.editable=!1,Y=!0;else{var R=this.renderer!=null?this.renderer(this.text,this.align,g):e._rendercolumnheader(this.text,this.align,g,e);R==null&&(R=e._rendercolumnheader(this.text,this.align,g,e)),this.renderer!=null&&(R=a(R)),Q&=!0,U=!0}if(e.WinJS?MSApp.execUnsafeLocalFunction(function(){N.append(a(R))}):this.renderer?N.append(a(R)):R&&(N[0].innerHTML=R),R!=null){var $=a('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+e.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+e.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+e.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+e.toTP("jqx-grid-column-sortascbutton")+" "+e.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+e.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+e.toTP("jqx-grid-column-sortdescbutton")+" "+e.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div><div class="sorticon '+e.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; visibility: hidden; width: 16px;"><div class="'+e.toTP("jqx-grid-column-sorticon")+" "+e.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');M.addClass(e.toTP("jqx-widget-header")),N.append($);var F=$.children();this.sorticon=F[3],this.sortasc=F[1],this.sortdesc=F[2],this.filtericon=F[0],this.iconscontainer=$,e.rtl&&($.css("margin-left","0px"),$.css("left","0px"),a(this.sorticon).css("float","left"),a(this.sortasc).css("float","left"),a(this.filtericon).css("float","left"),a(this.sortdesc).css("float","left")),!e.autoshowfiltericon&&this.filterable&&a(this.filtericon).css("display","block")}if(this.element=B[0],Q&&(e._handlecolumnsmenu(e,N,B,M,this),this.menu||M.hide()),C.appendChild(B[0]),e.groupable&&U)if(B[0].id=e.dataview.generatekey(),e._handlecolumnstogroupsdragdrop)e._handlecolumnstogroupsdragdrop(this,B);else throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");e.columnsreorder&&this.draggable&&e._handlecolumnsdragreorder&&e._handlecolumnsdragreorder(this,B);var W=this;W._applyStyle(),e.addHandler(B,"mouseenter",function(Z){W.hovered=!0,W._applyStyle()}),e.addHandler(B,"mouseleave",function(Z){W.hovered=!1,W._applyStyle()});var V=function(Z,ie,se){if(Z.selectable){var K=e.getrows();if(Z.selected===void 0&&(Z.selected=!1),(!ie.shiftKey||e._clickedcolumn===void 0)&&(e._clickedcolumn=Z),ie.shiftKey&&e._clickedcolumn&&se===void 0){var oe=e.columns.records.indexOf(e._clickedcolumn),ne=e.columns.records.indexOf(Z),he=Math.min(oe,ne),fe=Math.max(oe,ne);e.clearselection();for(var ue=he;ue<=fe;ue++)V(e.columns.records[ue],ie,!0);e._renderrows(this.virtualsizeinfo);return}se?Z.selected=!0:(ie.ctrlKey||e.clearselection(),Z.selected=!Z.selected);for(var ue=0;ue<K.length;ue++)e._applycellselection(K[ue].boundindex,Z.displayfield,Z.selected,!1,!1);Z.selected?Z.element.setAttribute("selected",""):Z.element.removeAttribute("selected"),Z._applyStyle(),se===void 0&&(e.virtualsizeinfo=e._calculatevirtualheight(),e._renderrows(e.virtualsizeinfo))}};if(e.addHandler(B,"click",function(Z){if(W.checkboxcolumn)return!0;if(e.sorttogglestates>0&&e._togglesort&&!e._loading){if(e.suspendClick)return!0;(e.sortmode!=="many"||e.sortmode==="many"&&!e.sortmodekey||e.sortmode==="many"&&e.sortmodekey==="Control"&&Z.ctrlKey||e.sortmode==="many"&&e.sortmodekey==="ctrlKey"&&Z.ctrlKey)&&e._togglesort(W)}V(W,Z),Z.preventDefault(),e._raiseEvent(7,{column:W.getcolumnproperties(),datafield:W.datafield,originalEvent:Z})}),W.toggleSelection=V,W.resizable&&e.columnsresize&&!Y){var le=!1,re="mousemove";e.isTouchDevice()&&e.touchmode!==!0&&(le=!0,re=a.jqx.mobile.getTouchEventName("touchstart")),e.addHandler(B,re,function(Z){var ie=parseInt(Z.pageX),se=5,K=parseInt(B.coord().left);if(e.hasTransform&&(K=a.jqx.utilities.getOffset(B).left),e.resizing)return!0;if(e.columnsresize!==!1&&e._handlecolumnsresize){if(le){var oe=e.getTouches(Z),ne=oe[0];return ie=ne.pageX,se=40,ie>=K+W.width-se?(e.resizablecolumn={columnelement:B,column:W},B.css("cursor","col-resize")):(B.css("cursor",""),e.resizablecolumn=null),!0}var he=W.width;if(e.rtl&&(he=0),ie>=K+he-se){if(ie<=K+he+se)return e.resizablecolumn={columnelement:B,column:W},B.css("cursor","col-resize"),!1;B.css("cursor",""),e.resizablecolumn=null}else B.css("cursor",""),ie<K+he-se&&!W._animating&&!W._menuvisible&&B.mouseenter(),e.resizablecolumn=null}})}if(B.css("left",s),!(this.hidden&&this.hideable)&&!this.adaptivehidden&&(s+=S),W.rendered){var ae=W.rendered(a(N[0].firstChild),W.align,g);ae&&$!=null&&$.hide()}if(W.checkboxcolumn){if($&&$.hide(),!e.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");N.html('<div style="cursor: pointer; margin-left: 3px; top: 50%; margin-top: -9px; position: relative;"></div>');var ee=N.find("div:first");ee.jqxCheckBox({rippleEffect:!1,_canFocus:!1,disabled:e.disabled,disabledContainer:!0,theme:e.theme,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0}),ee.addClass(e.toThemeProperty("jqx-checkbox")),W.checkboxelement=ee;var te=ee.data().jqxCheckBox.instance;e._checkboxcolumn=W,te.updated=function(Z,ie,se){e._checkboxcolumnupdating=!0,e.disabled&&(ee.jqxCheckBox({disabled:e.disabled}),ie=se),ie?e.selectallrows():e.unselectallrows(),e._checkboxcolumnupdating=!1}}}),s>0?this.columnsheader.width(2+s):this.columnsheader.width(s),t[0].appendChild(C),t[0].setAttribute("role","row"),this.columnsrow=t,e.columnsheader.append(t),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?t.height(this.columngroupslevel*this.columnsheight):t.height(this.columnsheight),!this.filterrow){var k=a("<div style='position: relative !important; '></div>");k[0].id="filterrow."+this.element.id,k.height(this.filterrowheight),this.filterrow=k}this.filterrow.width(2+s),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&this.everpresentrowposition!=="bottom"){if(this.columngroups?t.height(this.columngroupslevel*this.columnsheight):t.height(this.columnsheight),!this.addnewrowtop){var O=a("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");O[0].id="addnewrowtop."+this.element.id,O.height(this.everpresentrowheight),this.addnewrowtop=O}this.addnewrowtop.width(2+s),this.everpresentrowposition=="topAboveFilterRow"?this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&this.everpresentrowposition==="bottom"){if(!this.addnewrowbottom){var X=a("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");X[0].id="addnewrowbottom."+this.element.id,X.height(this.everpresentrowheight),this.addnewrowbottom=X}this.addnewrowbottom.width(2+s),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}s==0?t[0].style.visibility="hidden":t[0].style.visibility="inherit",t.width(s),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var e=0,t=0;t<this.columns.records.length;t++)this.columns.records[t].pinned&&e++;var i=this.headerZIndex-e+this.columns.records.length,s=this.that,o=s.toTP("jqx-grid-column-header")+" "+s.toTP("jqx-grid-columngroup-header")+" "+s.toTP("jqx-widget-header");s.rtl&&(o+=" "+s.toTP("jqx-grid-columngroup-header-rtl"));var d=this.columnsheader.find("#columntable"+this.element.id);d.find("jqx-grid-columngroup-header").remove();for(var n=0;n<this.columngroupslevel-1;n++)for(var t=0;t<this.columngroups.length;t++){var f=this.columngroups[t],h=f.level;if(h===n){var c=h*this.columnsheight,p=99999;if(f.groups){var v=function(y){for(var j=0,C=0;C<y.groups.length;C++){var L=y.groups[C];L.groups?j+=v(L):L.hidden||(j+=L.width,p=Math.min(parseFloat(L.element.style.left),p))}return j};f.width=v(f),f.left=p;var x=this.columnsheight,w=i--,m=a('<div role="columnheader" style="z-index: '+w+';position: absolute;" class="'+o+'"></div>'),g=a(this._rendercolumnheader(f.text,f.align,this.columnsheight,this));if(f.renderer){var g=a("<div style='height: 100%; width: 100%;'></div>"),b=f.renderer(f.text,f.align,x);g.html(b)}m.append(g),m[0].style.left=p+"px",p===0&&(m[0].style.borderLeftColor="transparent"),this.showcolumnheaderlines||(m[0].style.borderRightColor="transparent",m[0].style.borderBottomColor="transparent",m[0].style.boxShadow="none"),m[0].style.top=c+"px",m[0].style.height=x+"px",m[0].style.width=-1+f.width+"px",d.append(m),f.element=m,f.rendered&&f.rendered(g,f.align,x)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level,s=i*this.columnsheight,o=99999;if(t.groups){var d=function(h){for(var c=0,p=0;p<h.groups.length;p++){var v=h.groups[p];v.groups?c+=d(v):v.hidden||(c+=v.width,o=Math.min(parseFloat(v.element.style.left),o))}return c};t.width=d(t),t.left=o;var n=this.columnsheight,f=t.element;f[0].style.left=o+"px",f[0].style.top=s+"px",f[0].style.height=n+"px",f[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(e,t,i,s,o){e.dragmousedown=null,s[0].id=e.dataview.generatekey(),t.append(s),i[0].columnsmenu=s[0],o.element=i[0];var d=this.columnsmenuwidth+1,n=function(){if(!o.menu)return!1;if(!e.resizing){if(o._menuvisible&&e._hasOpenedMenu)return!1;if(o._animating=!0,e.menuitemsarray&&e.menuitemsarray.length>0)if(e.enableanimations){s.css("display","block"),s.stop(),o.iconscontainer.stop(),e.rtl?(s.css("margin-left",-d),s.animate({"margin-left":"0px"},"fast",function(){s.css("display","block"),o._animating=!1,o._menuvisible=!0})):(s.css("margin-left","0px"),s.animate({"margin-left":-d},"fast",function(){s.css("display","block"),o._animating=!1,o._menuvisible=!0}));var w=e.rtl?d:-(32+d);o.iconscontainer.animate({"margin-left":w},"fast")}else{s.css("display","block");var w=e.rtl?16:-48;o.iconscontainer.css("margin-left",w+"px"),o._animating=!1,o._menuvisible=!0}}},f="mouseenter";if(e.isTouchDevice()&&(f="touchstart"),e.addHandler(i,f,function(w){var m=parseInt(w.pageX),g=e.columnsresize&&o.resizable?3:0,b=parseInt(i.coord().left);e.hasTransform&&(b=a.jqx.utilities.getOffset(i).left);var _=o.width;if(e.rtl&&(_=0),g!=0&&m>=b+_-g&&m<=b+_+g)return!1;var y=e.vScrollInstance.isScrolling();o.menu&&e.autoshowcolumnsmenubutton&&!y&&!e.disabled&&n()}),!e.autoshowcolumnsmenubutton){s.css("display","block");var h=e.rtl?16:-48;o.iconscontainer.css("margin-left",h+"px"),e.rtl?s.css({"margin-left":"0px"}):s.css({"margin-left":-d})}e.addHandler(i,"mouseleave",function(w){if(e.menuitemsarray&&e.menuitemsarray.length>0&&o.menu){var m=a.data(document.body,"contextmenu"+e.element.id);if(m!=null&&s[0].id==m.columnsmenu.id)return;if(e.autoshowcolumnsmenubutton)if(e.enableanimations){e.rtl?s.css("margin-left","0px"):s.css("margin-left",-d),s.stop(),o.iconscontainer.stop(),e.rtl?s.animate({"margin-left":-d},"fast",function(){s.css("display","none"),o._menuvisible=!1}):s.animate({"margin-left":0},"fast",function(){s.css("display","none"),o._menuvisible=!1});var g=e.rtl?0:-32;o.iconscontainer.animate({"margin-left":g},"fast")}else{s.css("display","none");var g=e.rtl?0:-32;o.iconscontainer.css("margin-left",g+"px"),o._menuvisible=!1}}});var c=!0,p="",v=a(o.filtericon);e.addHandler(s,"mousedown",function(w){e.gridmenu||e._initmenu(),c=!a.data(e.gridmenu[0],"contextMenuOpened"+e.gridmenu[0].id),p=a.data(document.body,"contextmenu"+e.element.id),p!=null&&(p=p.column.datafield)}),e.addHandler(v,"mousedown",function(w){e.gridmenu||e._initmenu(),c=!a.data(e.gridmenu[0],"contextMenuOpened"+e.gridmenu[0].id),p=a.data(document.body,"contextmenu"+e.element.id),p!=null&&(p=p.column.datafield)});var x=function(){if(!o.menu)return!1;e.gridmenu||e._initmenu();var w=document.querySelectorAll(".jqx-menu-wrapper");if(e.gridmenu.parent().attr("tabindex",w.length-1),e.disabled)return!1;for(var m=0;m<e.columns.records.length;m++)e.columns.records[m].datafield!=o.datafield&&(e.columns.records[m]._menuvisible=!1);var g=s.coord(!0),b=s.height();if(!c&&(c=!0,p==o.datafield))return e._closemenu(),!1;var _=e.host.coord(!0);if(e.hasTransform&&(_=a.jqx.utilities.getOffset(e.host),g=a.jqx.utilities.getOffset(s)),_.left+e.host.width()>parseInt(g.left)+e.gridmenu.width()?e.gridmenu.jqxMenu("open",g.left,g.top+b):e.gridmenu.jqxMenu("open",s.width()+g.left-e.gridmenu.width(),g.top+b),e.gridmenu.width()<100&&e._arrangemenu(),e.adaptive&&e.element.offsetWidth<e.adaptivewidth){e.gridmenu.jqxMenu("close"),e.gridmenu.jqxMenu("open",_.left,g.top+b);for(var y=0,m=0;m<e.columns.records.length;m++){var j=e.columns.records[m];j.hidden||j.adaptivehidden||j.columntype==="adaptive"||(y+=j.adaptivewidth)}e.gridmenu.width(y),e.gridmenu.height(e.content.height())}(!e.filterable||e.filterable&&e.showfilterrow)&&setTimeout(function(){e.gridmenu.focus();for(var H=e.gridmenu.find(".jqx-item"),G=0;G<H.length;G++)H[G].active&&(H[G].active=!1);var N=H[0];H[0].className.indexOf("disabled")>=0&&(N=H[1]),a(H).removeClass("jqx-fill-state-focus"),a(N).addClass("jqx-fill-state-focus"),N.active=!0},225),e._hasOpenedMenu=!0;var C=e._getmenuitembyindex(0),L=e._getmenuitembyindex(1),k=e._getmenuitembyindex(2),O=e._getmenuitembyindex(3),X=e._getmenuitembyindex(4),P=e._getmenuitembyindex(5);if(C!=null&&L!=null&&k!=null){var T=o.sortable&&e.sortable;if(e.gridmenu.jqxMenu("disable",C.id,!T),e.gridmenu.jqxMenu("disable",L.id,!T),e.gridmenu.jqxMenu("disable",k.id,!T),o.displayfield!=null){var I=e.getsortinformation(),z=I&&I.sortcolumns&&I.sortcolumns.find(function(H){return H.dataField===o.displayfield});if(e.sortcolumn==o.displayfield||z){var I=e.getsortinformation();T&&(I.sortdirection.ascending?e.gridmenu.jqxMenu("disable",C.id,!0):e.gridmenu.jqxMenu("disable",L.id,!0))}else e.gridmenu.jqxMenu("disable",k.id,!0)}}if(O!=null&&X!=null&&(!e.groupable||!o.groupable?(e.gridmenu.jqxMenu("disable",X.id,!0),e.gridmenu.jqxMenu("disable",O.id,!0)):e.groups&&e.groups.indexOf(o.datafield)!=-1?(e.gridmenu.jqxMenu("disable",O.id,!0),e.gridmenu.jqxMenu("disable",X.id,!1)):(e.gridmenu.jqxMenu("disable",O.id,!1),e.gridmenu.jqxMenu("disable",X.id,!0))),P!=null){e.menuOwner=o,e._updatefilterpanel(e,P,o);var q=0;e.sortable&&e._togglesort&&e.showsortmenuitems&&(q+=3),e.groupable&&e.addgroup&&e.showgroupmenuitems&&(q+=2);var S=q*36+6,B=e._measureMenuElement(),S=q*B+20;a.jqx.browser.msie&&a.jqx.browser.version<8&&(S+=20,a(P).height(220)),e.isTouchDevice()&&(S+=10),e.filterable&&e.showfiltermenuitems&&(o.filterable?(e.gridmenu.height(S+230),a(P).css("display","block")):(e.gridmenu.height(S),a(P).css("display","none")))}if(e.columnmenuopening){var D=e.columnmenuopening(e.gridmenu,o.displayfield,e.gridmenu.height());D===!1&&setTimeout(function(){e._closemenu()})}a.data(document.body,"contextmenu"+e.element.id,{column:o,columnsmenu:s[0]})};e.addHandler(v,"click",function(w){return o.menu&&(e.showfilterrow||(s[0].style.display!="block"&&i.trigger("mouseenter"),setTimeout(function(){s[0].style.display!="block"&&i.trigger("mouseenter"),x()},200))),!1}),e.addHandler(s,"click",function(w){return o.menu&&x(),!1}),e.isTouchDevice()&&e.addHandler(s,a.jqx.mobile.getTouchEventName("touchstart"),function(w){return o.menu&&(e._hasOpenedMenu?e._closemenu():x()),!1})},_removecolumnhandlers:function(e){var t=this.that,i=a(e.element);if(i.length>0){t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave");var s=a(e.filtericon);if(t.removeHandler(s,"mousedown"),t.removeHandler(s,"click"),t.removeHandler(i,"click"),t.removeHandler(i,"mousemove"),t.columnsreorder&&(t.removeHandler(i,"mousedown.drag"),t.removeHandler(i,"mousemove.drag")),t.removeHandler(i,"dragstart"),i[0].columnsmenu){var o=a(i[0].columnsmenu);t.removeHandler(o,"click"),t.removeHandler(o,"mousedown"),t.removeHandler(o,a.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,s){if(s.columngroups?i/2-this._columnheight/2:this.columnsheight!=32&&this.columnsheight/2-this._columnheight/2,this.enableellipsis)return t=="left"?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; line-height: "+i+'px;"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; line-height: "+i+'px;"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(t=="center"||t=="middle")return'<div style="padding-bottom: 2px; text-align: center; line-height: '+i+'px;"><a href="#">'+e+"</a></div>";var o='<a style="line-height: '+i+"px; float: "+t+';" href="#">'+e+"</a>";return o},_renderrows:function(e,t,i){var s=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length<this.dataview.rows.length&&(s.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var o=this.source.totalrecords;isNaN(o)||this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length!=o&&(s.prerenderrequired=!0)}(this.autoheight||this.autorowheight)&&!s.prerenderrequired&&this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0))),s._prerenderrows(e),s._requiresupdate&&(s._requiresupdate=!1,s._updatepageviews());var d=function(){s._loading||(s.WinJS?MSApp.execUnsafeLocalFunction(function(){s._rendervisualrows()}):s._rendervisualrows(),s.virtualmode&&s.showaggregates&&s._updateaggregates&&s.refreshaggregates())},n=a.jqx.browser.msie&&a.jqx.browser.version<10;if(this.virtualmode){var f=function(){if(s.rendergridrows){var j=s._startboundindex;j==null&&(j=0);var C=j+1+s.dataview.pagesize;if(j!=null&&C!=null){var L=!!s.source._source,k=L?s.source._source.recordstartindex:s.source.recordstartindex;if(k!=j||t==!0){if(!L)s.source.recordstartindex=j,s.source.recordendindex=C;else{if(C>=s.source._source.totalrecords&&(C=s.source._source.totalrecords,j=C-s.dataview.pagesize-1,j<0&&(j=0),s.source._source.recordendindex==C&&s.source._source.recordstartindex==j))return;s.source._source.recordstartindex=j,s.source._source.recordendindex=C}s.updatebounddata("cells")}}}};this.loadondemand&&(d(),f(),this.loadondemand=!1);var h=this._browser==null?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()||this.autoheight?d():h||n||navigator&&navigator.userAgent.indexOf("Safari")!=-1?(this._scrolltimer!=null&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){d()},5)):d()}else{if(this.scrollmode=="deferred"&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){this._scrolltimer!=null&&clearInterval(this._scrolltimer);var c=this._getfirstvisualrow();if(c!=null){var p=function(C){if(c==null)return"";var L="<table>",k=s.deferreddatafields;k==null&&s.columns.records.length>0&&(k=new Array,k.push(s.columns.records[0].displayfield));for(var O=0;O<k.length;O++){var X=k[O],P=s._getcolumnbydatafield(X);if(P){var T=s._getcellvalue(P,c);P.cellsformat!=""&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(T)?T=a.jqx.dataFormat.formatdate(T,P.cellsformat,s.gridlocalization):a.jqx.dataFormat.isNumber(T)&&(T=a.jqx.dataFormat.formatnumber(T,P.cellsformat,s.gridlocalization))),L+="<tr><td>"+T+"</td></tr>"}}return L+="</table>",L},v=this.scrollfeedback?this.scrollfeedback(c.bounddata):p(c.bounddata);v!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=v,this._scrollelementcontent=v)}this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),this._scrolltimer=setInterval(function(){!s.hScrollInstance.isScrolling()&&!s.vScrollInstance.isScrolling()&&(d(),s._scrollelement.css("visibility","hidden"),s._scrollelementoverlay.css("visibility","hidden"),clearInterval(s._scrolltimer),c&&s.ensurerowvisible(c.visibleindex))},100);return}navigator&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")!=-1&&(this._updatedelay=1),this.touchDevice!=null&&this.touchDevice==!0&&(this._updatedelay=5);var h=this._browser==null?this._isIE10():this._browser;if((h||n)&&(this._updatedelay=5),h&&this.hScrollInstance.isScrolling()){d();return}a.jqx.browser.mozilla&&this._updatedelay==0&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0);var x=this.isTouchDevice();if(x&&(this._updatedelay=0),this.updatedelay!=null&&(this._updatedelay=this.updatedelay),this._updatedelay==0)d();else{var w=this._jqxgridrendertimer;w!=null&&clearTimeout(w),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?w=setTimeout(function(){d()},this._updatedelay):(w=null,d()),this._jqxgridrendertimer=w):(this._jqxgridrendertimer=w,d())}}if(s.autorowheight&&!s.autoheight&&this._pageviews.length>0){var m=this._gettableheight(),g=this._pageviews[0].height;if(g>m)if(this.pageable&&this.gotopage&&(g=this._pageviews[0].height,g<0&&(g=this._pageviews[0].height)),this.vScrollBar.css("visibility")!="visible"&&this.vScrollBar.css("visibility","visible"),(g<=m||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),g-m>0){if(this.scrollmode!="deferred"){var b=g-m,_=this.vScrollInstance.max;if(this.vScrollBar.jqxScrollBar({max:b}),Math.round(b)!=Math.round(_)){var y=this.vScrollBar.jqxScrollBar("value");y>b&&this.vScrollBar.jqxScrollBar({value:0})}}}else this.vScrollBar.jqxScrollBar({value:0,max:g});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=g)}},scrolling:function(){var e=this.vScrollInstance.isScrolling(),t=this.hScrollInstance.isScrolling();return{vertical:e,horizontal:t}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;this.hScrollBar.css("visibility")==="hidden"&&(e.value=0,t=0);var i=parseInt(t);if(this.table!=null){var s=this.table[0].rows.length,o=this.columnsrow,d=this.groupable&&this.groups.length>0?this.groups.length:0,n=this.columns.records.length-d,f=this.columns.records,h=this.dataview.rows.length==0;if(this.rtl&&this.hScrollBar.css("visibility")!="hidden"&&(i=e.max-i),h&&!this._haspinned){for(var c=0;c<s;c++)for(var p=this.table[0].rows[c],v=0;v<d+n;v++){var x=p.cells[v];if(x!=null){var w=f[v];if(w.pinned&&(x.style.marginLeft=i+"px",c==0)){var m=o[0].cells[v];m.style.marginLeft=i+"px"}}}this.table[0].style.marginLeft=-i+"px",o[0].style.marginLeft=-i+"px"}else if(this._haspinned||this._haspinned==null){for(var c=0;c<s;c++)for(var p=this.table[0].rows[c],v=0;v<d+n;v++){var x=p.cells[v];if(x!=null){var w=f[v];if(w.pinned){if(i==0&&x.style.marginLeft=="")continue;var g=null,b=null,_=null;if(this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(_=this.addnewrowtop[0].cells[v]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(b=this.filterrow[0].cells[v]),this.showaggregates&&this.statusbar[0].cells&&(g=this.statusbar[0].cells[v]),this.rtl){if(x.style.marginLeft=-parseInt(t)+"px",c==0){var m=o[0].cells[v];m.style.marginLeft=-parseInt(t)+"px",g&&(g.style.marginLeft=-parseInt(t)+"px"),b&&(b.style.marginLeft=-parseInt(t)+"px"),_&&(_.style.marginLeft=-parseInt(t)+"px")}}else if(x.style.marginLeft=i+"px",c==0){var m=o[0].cells[v];m.style.marginLeft=i+"px",g&&(g.style.marginLeft=i+"px"),b&&(b.style.marginLeft=i+"px"),_&&(_.style.marginLeft=i+"px")}}}}this.table[0].style.marginLeft=-i+"px",o[0].style.marginLeft=-i+"px"}else this._haspinned==!1&&(this.table[0].style.marginLeft=-i+"px",o[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var y=0;this.rtl&&this.vScrollBar.css("visibility")!="hidden"&&this.hScrollBar.css("visibility")!="hidden"&&(y=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+y+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var e=0;e<this._rowdetailselementscache.length;e++)a(this._rowdetailselementscache[e]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,s,o,d,n){var f=this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()||this._keydown;if((this.rowdetails||this.rtl||this.editcell&&f||this.width&&this.width.toString().indexOf("%")>=0&&!f&&!this.editcell||this.exporting)&&!n)return{start:0,end:i+s};var h=0,c=-1,p=i+s,v=!1;if(this.autorowheight)return{start:0,end:i+s};if(!o){for(var x=0;x<i+s;x++)if(v||this.columns.records[x].pinned&&d&&(v=!0),!this.columns.records[x].hidden&&!this.columns.records[x].adaptivehidden&&(h+=this.columns.records[x].width),h>=e&&c==-1&&(c=x),h>t+e){p=x;break}}return p++,p>i+s&&(p=i+s),(c==-1||v)&&(c=0),{start:c,end:p}},_getvirtualcolumnsindexes:function(e,t,i,s,o){var d=this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()||this._keydown;if(this.enableoptimization&&(this.rowdetails||this.rtl||this.editcell&&d||this.width&&this.width.toString().indexOf("%")>=0&&!d&&!this.editcell||this.exporting))return{start:0,end:i+s};if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+s};var n=0,f=-1,h=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!o){for(var c=0;c<i+s;c++)if(!this.columns.records[c].hidden&&!this.columns.records[c].adaptivehidden&&(n+=this.columns.records[c].width),n>=e&&f==-1&&(f=c),n>t+e){h=c;break}}return h++,h>i+s&&(h=i+s),f==-1&&(f=0),{start:f,end:h}},_getfirstvisualrow:function(){var e=this.vScrollInstance,t=e.value,i=parseInt(t);if(this._pagescache.length==0&&(this.dataview.updateview(),this._loadrows()),this.vScrollBar[0].style.visibility!="visible"&&(i=0),!this.pageable){var s=this._findvisiblerow(i,this._pageviews);if(s==-1)return null;s!=this.dataview.pagenum?(this.dataview.pagenum=s,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var o=this._findvisiblerow(i,this._pagescache[this.dataview.pagenum]),d=this._pagescache[this.dataview.pagenum];if(d&&d[0])return d[o]},_rendervisualrows:function(){if(this.virtualsizeinfo){var e=this.vScrollInstance,t=this.hScrollInstance,i=e.value,s=t.value,o=parseInt(i),d=parseInt(s),n=this._gettableheight(),f=this._hostwidth!=null?this._hostwidth:this.host.width();this.hScrollBar[0].style.visibility=="visible"&&(n+=29),this.scrollmode=="deferred"&&this._newmax!=0&&o>this._newmax&&this._newmax!=null&&(o=this._newmax);var h=e.isScrolling()||t.isScrolling()||this._keydown,c=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&this.editrow==null&&this._hidecelleditor(!1),this.editrow!=null&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),this._pagescache.length==0&&(this.dataview.updateview(),this._loadrows()),this.vScrollBar[0].style.visibility=="hidden"&&(o=0),!this.pageable){var p=this._findvisiblerow(o,this._pageviews);p==-1&&(this._clearvisualrows(),this._renderemptyrow(),this._updaterowdetailsvisibility()),p!=this.dataview.pagenum?(this.dataview.pagenum=p,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var v=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var x=this.columns.records.length-v,w=this._findvisiblerow(o,this._pagescache[this.dataview.pagenum]),m=this._pagescache[this.dataview.pagenum],g=w;g<0&&(g=0);var b=0,_=0,y=0,j=0,C=this.virtualsizeinfo.visiblerecords,L=this.groupable?this.groups.length:0,k=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(k+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&this.groups.length===0)&&(C=this.dataview.pagesize),c&&(k=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(k+=" "+this.toTP("jqx-touch")),this.autorowheight&&(k+=" jqx-grid-cell-wrap");var O=this.rowsheight;this.cardview&&(O=this.cardheight);var X=this._rendercell,P=!0,T=this._getvisualcolumnsindexes(d,f,v,x,c,!0),I=T.start,z=T.end,q=this._getvirtualcolumnsindexes(d,f,v,x,c),B=q.start,S=q.end;if(a.jqx.browser.msie&&a.jqx.browser.version<9,(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(g=0),g>=0){this._updaterowdetailsvisibility(),this._startboundindex=m!=null?m[g].bounddata.boundindex:0,this._startvisibleindex=m!=null?m[g].bounddata.visibleindex:0;var D=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var H=function(ve){return!!(ve&&ve.parentNode&&ve.parentNode.nodeName!="#document-fragment")},G=0;G<D.length;G++){var N=D[G];N.className="";for(var A=0;A<B;A++){var M=A;if(!this.columns.records[M].pinned&&this.columns.records[M].datafield!=null){var Q=N.cells[M];H(Q)&&Q.parentNode.removeChild(Q);var U=this.columns.records[M].element;this.columns.records[M]._rendered=!1,H(U)&&this.columnsrow[0].removeChild(U),this.filterrow&&H(this.filterrow[0].cells[M])&&this.columns.records[M].filterable&&this.filterrow[0].cells[M].parentNode.removeChild(this.filterrow[0].cells[M])}}for(var A=S;A<this.columns.records.length;A++){var M=A;if(!this.columns.records[M].pinned&&this.columns.records[M].datafield!=null){var Q=N.cells[M];H(Q)&&Q.parentNode.removeChild(Q);var U=this.columns.records[M].element;this.columns.records[M]._rendered=!1,H(U)&&this.columnsrow[0].removeChild(U),this.filterrow&&H(this.filterrow[0].cells[M])&&this.columns.records[M].filterable&&this.filterrow[0].cells[M].parentNode.removeChild(this.filterrow[0].cells[M])}}for(var A=B;A<S;A++){var M=A,Q=N.cells[M];H(Q)||N.appendChild(Q);var U=this.columns.records[M].element;this.columns.records[M]._rendered=!0,U.selectable&&(Q.removeAttribute("selected"),U.selected&&Q.setAttribute("selected","")),H(U)||this.columnsrow[0].appendChild(U),this.filterrow&&this.showfilterrow&&!H(this.filterrow[0].cells[M])&&this.columns.records[M].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[M])}}if(this.cardview)for(var G=0;G<this.table[0].rows.length;G++){var N=this.table[0].rows[G];N.innerHTML=""}for(var Y=0;Y<C&&_<C;Y+=1){var E=m!=null?m[g+Y]:null;if(this.virtualmode&&Y>=this.source.totalrecords&&(E=null),E==null){if(g=-Y,this._pagescache[this.dataview.pagenum+1])m=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var R=this._pageviews.length;do if(this.dataview.pagenum<this._pageviews.length-1)this.dataview.pagenum++,m=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),m=this._pagescache[this.dataview.pagenum]);else{m=void 0;break}while(m==null&&this.dataview.pagenum<R)}m!=null&&(E=m[g+Y])}if(E!=null){if(E.hidden)continue;if(this._endboundindex=this._startboundindex+Y,this._endvisibleindex=this._startvisibleindex+Y,Y==0){var $=Math.abs(o-E.top);this.table[0].style.top=-$+"px";var F=this.table;a.jqx.browser.chrome&&(this._chromeTimer&&clearTimeout(this._chromeTimer),this._chromeTimer=setTimeout(function(){F[0].style.top=-$+.01+"px"},50)),j=-$}var N=this.table[0].rows[_];if(!N)continue;parseInt(N.style.height)!=E.height&&(N.style.height=parseInt(E.height)+"px"),N.setAttribute("row-id",E.bounddata.uid),y+=E.height;var W=this.rowdetails&&E.rowdetails,V=!E.rowdetailshidden;W&&V&&(N.style.height=parseInt(E.height-E.rowdetailsheight)+"px",C++);for(var le=this._isrowselected(P,E),A=I;A<z;A++){var M=A;this._rendervisualcell(X,k,le,W,V,c,L,N,E,M,_,h)}if(E.group!=null&&this._rendergroup&&this._rendergroup(L,N,E,v,x,_,f),this.autorowheight&&(this.autoheight||this.pageable)){for(var O=this.rowsheight,A=I;A<z;A++){if(this.editable&&this.editcell&&this.editcell.column==this.columns.records[A].datafield&&this.editcell.row==this.getboundindex(E)&&this.editcell.editor){O=Math.max(O,this.editcell.editor.height());continue}N.cells[A].firstChild&&(O=Math.max(O,8+parseInt(N.cells[A].firstChild.offsetHeight)))}N.style.height=parseInt(O)+"px",this.heights[this._startboundindex+Y]=O,W&&V&&(O+=E.rowdetailsheight),E.height=O}if(this.cardview){N.innerHTML="";var re='<div class="jqx-grid-card-row"',ae="";re+='style="grid-template-columns: ';for(var ee=100/this.cardsize+"%",te=g,Z=0;Z<this.cardsize;Z++)if(m!=null&&(E=m[te*this.cardsize+Y*this.cardsize+Z]),!!E){re+=ee+" ";var ie='<div id="'+E.bounddata.uid+'" class="jqx-grid-card-cell">';ie+="<table>";for(var A=I;A<z;A++){var M=A,se=null,K=this.columns.records[M];if(!(K.hidden&&K.__hidden===void 0)){var oe=this._getcellvalue(K,E);if(K.cellsformat!=""&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(oe)?oe=a.jqx.dataFormat.formatdate(oe,K.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(oe)&&(oe=a.jqx.dataFormat.formatnumber(oe,K.cellsformat,this.gridlocalization))),K.cellsrenderer!=null){var ne=K.cellsrenderer(this.getboundindex(E),K.datafield,oe,null,K.getcolumnproperties(),E.bounddata);ne!=null&&(oe=ne)}var Q=N.cells[M],he=this.editable&&K.editable?'<span row="'+E.bounddata.uid+'"  class="jqx-icon-edit"></span>':"";ie+='<tr class="jqx-grid-card-table-row">',ie+='<td class="jqx-grid-card-cell-label"><div>'+K.text+"</div></td>",K.cellclassname!=""&&K.cellclassname?ie+='<td class="jqx-grid-card-cell-value '+K.cellclassname+'"><div>'+oe+"</div></td>":ie+='<td class="jqx-grid-card-cell-value"><div>'+oe+"</div></td>",ie+="</tr>"}}ie+="</table>",ie+=he,ie+="</div>",ae+=ie}re+=';">'+ae+"</div>",N.innerHTML+=re,_++;continue}if(this.visiblerows[this.visiblerows.length]=E,this.hittestinfo[this.hittestinfo.length]={row:E,visualrow:N,details:!1},W&&V){_++;var N=this.table[0].rows[_];this._renderrowdetails(k,N,E,v,x,_),this.visiblerows[this.visiblerows.length]=E,this.hittestinfo[this.hittestinfo.length]={row:E,visualrow:N,details:!0}}if(!this.autorowheight&&y+j>=n)break}else this._clearvisualrow(d,c,_,v,x),y+b+j<=n&&(b+=O);_++}if(this._horizontalvalue=d,b>0&&this.vScrollBar[0].style.visibility=="visible"){parseInt(this.table.css("top"));var fe=this._pageviews[this._pageviews.length-1],ue=e.max,ce=fe.top+fe.height-n;this.hScrollBar.css("visibility")=="visible"&&(ce+=this.scrollbarsize+22),ue!=ce&&!this.autorowheight&&ce>=0&&(this.scrollmode!="deferred"?(e.max=ce,e.setPosition(e.max)):this._newmax!=ce&&(this._newmax=ce,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var we=0,xe=0,G=0;G<this.visiblerows.length;G++){var pe=this.visiblerows[G];pe.top=we,we+=pe.height,xe+=pe.height;var W=this.rowdetails&&pe.rowdetails,V=!pe.rowdetailshidden,N=this.table[0].rows[G];W&&V&&G++;for(var A=I;A<z;A++){var K=this.columns.records[A];if(!K.hidden&&!K.adaptivehidden&&!K.cellsrenderer){var se=N.cells[A],ge=0;if(se.firstChild){var ge=(pe.height-parseInt(se.firstChild.offsetHeight)-8)/2;if(W&&V)var ge=(pe.height-pe.rowdetailsheight-a(se.firstChild).height()-8)/2}else var ge=(pe.height-parseInt(a(se).height())-8)/2;if(ge>=0&&(ge=parseInt(ge)+4,se.firstChild&&se.firstChild.className.indexOf("jqx-grid-groups-row")==-1&&K.columntype!="checkbox"&&K.columntype!="button")){if(this.editable&&this.editcell&&this.editcell.column==K.datafield&&this.editcell.row==this.getboundindex(pe))continue;se.firstChild.style.marginTop=ge+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=xe),this._arrange()}if(this._renderemptyrow(),this.toCompile&&this.toCompile.length>0){var ye=this;a.each(ye.toCompile,function(ve,qe){if(this.compiled)return!0;var be=this.cell;if(!be)return!0;a.jqx.angularCompile&&a.jqx.angularCompile(be,"<div>"+this.value+"</div>"),this.compiled=!0})}}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var e=this.table[0].rows[0];if(e)for(var t=!1,i=0;i<e.cells.length;i++){var s=a(e.cells[i]);s.css("display")!="none"&&!t&&(s.width()==this.host.width()||s.text()==this.gridlocalization.emptydatastring)&&(s[0].checkbox=null,s[0].button=null,t=!0,s[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&this.dataview.records.length==0&&this.showemptyrow){var e=!1,t=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var i=this.table[0].rows[0];this.table[0].style.top="0px";for(var s=0;s<i.cells.length;s++){var o=a(i.cells[s]);if(o.css("display")!="none"&&!e){o[0].checkbox=null,o[0].button=null,o[0].className=t,e=!0,o[0].innerHTML="";var d=a("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");d.text(this.gridlocalization.emptydatastring),o.append(d);var n=0;this.oldhscroll||(n=parseInt(this.table[0].style.marginLeft),this.rtl&&(o.css("z-index",999),o.css("overflow","visible"))),d.css("left",-n-d.width()/2),d.css("top",this._gettableheight()/2-d.height()/2),a.jqx.browser.msie&&a.jqx.browser.version<8&&(d.css("margin-left","0px"),d.css("left",this.host.width()/2-d.width()/2));var f=Math.abs(parseInt(this.table[0].style.top));isNaN(f)&&(f=0),a(i).height(this._gettableheight()+f),o.css("margin-left","0px"),o.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}o.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance,i=t.value,s=parseInt(i),o=this.groupable&&this.groups.length>0;if(this.columns.records)for(var d=0;d<e;d++)this._clearvisualrow(s,o,d,0,this.columns.records.length)},_iscellselected:function(e,t,i){var s=!1,o=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(o=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var d=this.getrowboundindexbyid(t.bounddata.uid);if(d!=-1){for(var n in this.selectedcells)n==d+"_"+i&&(s=!0);return s}return!1}if(e&&t.bounddata!=null){if(this.selectionmode!="singlerow"){if(this.dataview.filters.length>0)if(!this.virtualmode&&t.bounddata.dataindex!=null)for(var n in this.selectedcells)n==o+t.bounddata.dataindex+"_"+i&&(s=!0);else for(var n in this.selectedcells)n==o+t.bounddata.boundindex+"_"+i&&(s=!0);else for(var n in this.selectedcells)if(n==o+t.bounddata.boundindex+"_"+i){s=!0;break}}else if(this.dataview.filters.length>0){if(!this.virtualmode&&t.bounddata.dataindex!=null){for(var n in this.selectedcells)if(n==o+t.bounddata.dataindex+"_"+i){s=!0;break}}else for(var n in this.selectedcells)if(n==o+t.bounddata.boundindex+"_"+i){s=!0;break}}else for(var n in this.selectedcells)if(n==o+t.bounddata.boundindex==this.selectedrowindex){s=!0;break}}return s},_isrowselected:function(e,t){var i=!1,s=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(s=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var o=this.getrowboundindexbyid(t.bounddata.uid);return o==null||o==-1?!1:(this.selectedrowindexes.indexOf(o)!=-1&&(i=!0),i||(i=o==this.selectedrowindex&&this.selectedrowindex!=-1),i)}return e&&t.bounddata!=null&&(this.selectionmode!="singlerow"?this.dataview.filters.length>0?!this.virtualmode&&t.bounddata.dataindex!=null?this.selectedrowindexes.indexOf(s+t.bounddata.dataindex)!=-1&&(i=!0):this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)!=-1&&(i=!0):this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)!=-1&&(i=!0):this.dataview.filters.length>0?!this.virtualmode&&t.bounddata.dataindex!=null?this.selectedrowindexes.indexOf(s+t.bounddata.dataindex)!=-1&&(i=!0):this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)!=-1&&(i=!0):s+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(e,t,i,s,o,d,n,f,h,c,p,v){var x=this.columns.records[c];if(x.hidden||x.adaptivehidden){var m=f.cells[c];m.innerHTML="";return}var w=this._getcellvalue(x,h),m=f.cells[c],g=t;if(this.selectionmode.indexOf("cell")!=-1&&(this.dataview.filters.length>0?this.selectedcells[h.bounddata.dataindex+"_"+x.datafield]?i=!0:i=!1:this.selectedcells[h.boundindex+"_"+x.datafield]?i=!0:i=!1,this.editcell&&this.editcell.row===h.boundindex&&this.editcell.column===x.datafield&&x.columntype!=="checkbox"&&(i=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(i=this._iscellselected(!0,h,x.datafield))),x.cellclassname!=""&&x.cellclassname)if(typeof x.cellclassname=="string")g+=" "+x.cellclassname;else{this._columnClassNameCache||(this._columnClassNameCache=[]);var b=this.getboundindex(h);if(this._columnClassNameCache[b+"_"+x.datafield+"_"+w]!==void 0&&this.enableoptimization){var _=this._columnClassNameCache[b+"_"+x.datafield+"_"+w];_&&(g+=" "+_)}else{var _=x.cellclassname(b,x.datafield,w,h.bounddata);_&&(g+=" "+_),this._columnClassNameCache[b+"_"+x.datafield+"_"+w]=_}}var y=this.showsortcolumnbackground&&this.sortcolumn&&x.displayfield==this.sortcolumn;if(this.sortmode==="many"&&this.showsortcolumnbackground)for(var j=this.getsortcolumns(),C=0;C<j.length;C++)x.displayfield===j[C].dataField&&(y=!0);if(y&&(g+=" "+this.toTP("jqx-grid-cell-sort")),x.filter&&this.showfiltercolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-filter")),h.bounddata.totalsrow&&(g+=" "+this.toTP("jqx-grid-cell-pinned")),(x.pinned&&this.showpinnedcolumnbackground||x.grouped)&&(d?h.bounddata.totalsrow||(g+=" "+this.toTP("jqx-grid-cell-pinned")):g+=" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&h.group==null){var L=h.visibleindex;L>=this.altstart&&(this.altstart+L)%(1+this.altstep)==0&&(y?g+=" "+this.toTP("jqx-grid-cell-sort-alt"):g+=" "+this.toTP("jqx-grid-cell-alt"),x.filter&&this.showfiltercolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-filter-alt")),x.pinned&&this.showpinnedcolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(this.batcheditable){var k=h.bounddata["_temp"+x.datafield];k!==void 0&&(g+=" "+this.toTP("jqx-grid-cell-batch"))}if(c<=n){if(d||this.rowdetails||this.pageable&&this.virtualmode){var O=a(m),X=this.columns.records[c].width;m.style.width!=parseInt(X)+"px"&&O.width(X)}}else if((d||this.rowdetails)&&this._hiddencolumns){var O=a(m),X=this.columns.records[c].width;parseInt(m.style.width)!=X&&O.width(X)}var P=!0;if(this.rowdetails&&s&&(o&&!d?g+=" "+this.toTP("jqx-grid-details-cell"):d&&(g+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn)){if(this.rtl){if(h.group==null&&c==f.cells.length-n-1){var I=this.toThemeProperty("jqx-icon-arrow-down");if(o)g+=" "+this.toTP("jqx-grid-group-expand-rtl"),g+=" "+I;else{g+=" "+this.toTP("jqx-grid-group-collapse-rtl");var I=this.toThemeProperty("jqx-icon-arrow-left");g+=" "+I}P=!1,m.title="",m.innerHTML="",m.className!=g&&(m.className=g);return}}else if(h.group==null&&c==n&&!h.bounddata.totalsrow){if(this.disablerowdetails){var T=this.disablerowdetails(h.bounddata.boundindex);if(T===!0){P=!1,m.title="",m.innerHTML="",m.className!=g&&(m.className=g);return}}var I=this.toThemeProperty("jqx-icon-arrow-down");if(o)g+=" "+this.toTP("jqx-grid-group-expand"),g+=" "+I;else{g+=" "+this.toTP("jqx-grid-group-collapse");var I=this.toThemeProperty("jqx-icon-arrow-right");g+=" "+I}P=!1,m.title="",m.innerHTML="",m.className!=g&&(m.className=g);return}}if(i&&P&&c>=n&&(g+=" "+this.toTP("jqx-grid-cell-selected"),g+=" "+this.toTP("jqx-fill-state-pressed")),m.className!=g&&(m.className=g),x._applyCellStyle(m),h.group!=null){w="",m.title="",m.innerHTML="";return}e(this,x,h,w,m,v)},_rendercell:function(e,t,i,s,o,d){var n=s+"_"+t.visibleindex;if(t.columntype=="number"||t.cellsrenderer!=null)var n=i.uniqueid+"_"+t.visibleindex;if(t.columntype=="number"&&(s=i.visibleindex),t.columntype==="adaptive"&&(s="..."),t._applyCellStyle(o),e.showrowlines?o.style.borderBottomColor="":o.style.borderBottomColor="transparent",e.showcolumnheaderlines?(t.element.style.borderRightColor="",t.element.style.boxShadow=""):(t.element.style.borderRightColor="transparent",t.element.style.boxShadow="none"),e.showcolumnlines?o.style.borderRightColor="":o.style.borderRightColor="transparent",e.editcell&&e.editrow==null){if(e.editmode=="selectedrow"&&t.editable&&e.editable){if(e.editcell.row==e.getboundindex(i)&&e._showcelleditor){!e.hScrollInstance.isScrolling()&&!e.vScrollInstance.isScrolling()?e._showcelleditor(e.editcell.row,t,o,e.editcell.init):e._showcelleditor(e.editcell.row,t,o,!1,!1),o.className+=" "+e.toTP("jqx-grid-cell-edit");return}}else if(e.editcell.row==e.getboundindex(i)&&e.editcell.column==t.datafield&&(e.editcell.element=o,e.editcell.editing&&e._showcelleditor)){!e.hScrollInstance.isScrolling()&&!e.vScrollInstance.isScrolling()?e._showcelleditor(e.editcell.row,t,e.editcell.element,e.editcell.init):e._showcelleditor(e.editcell.row,t,e.editcell.element,e.editcell.init,!1),o.className+=" "+e.toTP("jqx-grid-cell-edit");return}}var f=e._defaultcellsrenderer(s,t),h=e._cellscache[n];if(h){if(t.columntype=="checkbox"){if(e.host.jqxCheckBox){s===""&&(s=null);var c=o.innerHTML.toString().length==0;if(o.checkbox&&!e.groupable&&!c?(o.checkboxrow=e.getboundindex(i),s==""&&(s=!1),s=="1"&&(s=!0),s=="0"&&(s=!1),s==1&&(s=!0),s==0&&(s=!1),s=="true"&&(s=!0),s=="false"&&(s=!1),s==null&&!t.threestatecheckbox&&(s=!1),t.checkboxcolumn&&(s=!1,e.dataview.filters.length>0&&!e.virtualmode&&i.bounddata.dataindex!=null?e.selectedrowindexes.indexOf(i.bounddata.dataindex)!=-1&&(s=!0):e.selectedrowindexes.indexOf(i.bounddata.boundindex)!=-1&&(s=!0)),e.disabled||(o.checkboxinstance?o.checkboxinstance._setState(s):o.checkbox.jqxCheckBox("_setState",s))):e._rendercheckboxcell(e,o,t,i,s),t.cellsrenderer!=null){var p=t.cellsrenderer(e.getboundindex(i),t.datafield,s,f,t.getcolumnproperties(),i.bounddata);p!=null&&(o.innerHTML=p)}return}}else if(t.columntype=="button"){if(e.host.jqxButton){s==""&&(s=!1),t.cellsrenderer!=null&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,f,t.getcolumnproperties(),i.bounddata)),o.innerHTML==""&&(o.buttonrow=e.getboundindex(i),o.button=null,e._renderbuttoncell(e,o,t,i,s)),o.button&&!e.groupable?(o.buttonrow=e.getboundindex(i),o.button.val(s)):e._renderbuttoncell(e,o,t,i,s);return}}else if(t.columntype=="progressbar"||t.columntype==="rating"){if(e.host.jqxButton){s==""&&(s=!1),t.cellsrenderer!=null&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,f,t.getcolumnproperties(),i.bounddata)),o.innerHTML==""&&(o.progressrow=e.getboundindex(i),o.progress=null,e._renderprogresscell(e,o,t,i,s)),o.progress&&!e.groupable?(o.progressrow=e.getboundindex(i),o.progress.val(s)):e._renderprogresscell(e,o,t,i,s),e.enabletooltips&&t.enabletooltips&&(o.title=""+s);return}}else if(t.columntype==="sparklines"){if(e.host.jqxButton){var v=o.offsetWidth,x=o.offsetHeight,w=t.sparklines;w||(w={type:"column"}),v===0&&(v=10);var m=e._renderSparklinesCell({width:v-10,height:Math.max(0,x-7),points:""+s,colors:w.colors||["#D50000","#E67C73","#F4511E","#F6BF26","#33B679","#0B8043","#039BE5","#3F51B5","#7986CB","#8E24AA","#616161"],type:w.type,gap:w.gap,max:w.max,min:w.min,strokeWidth:w.strokeWidth,colorFunction:w.colorFunction,tooltipFormatFunction:w.tooltipFormatFunction});o.innerHTML='<div style="padding-top: 5px; padding-left: 5px; padding-right: 5px;">'+m+"</div>"}e.enabletooltips&&t.enabletooltips&&(o.title=""+s);return}if(t.createwidget){if(o.innerHTML==""&&(o.widgetrow=e.getboundindex(i),o.widget=null,t.widget=null,e._renderwidgetcell(e,o,t,i,s)),o.widget&&!e.groupable)if(o.widgetrow=e.getboundindex(i),t.initwidget)t.initwidget(e.getboundindex(i),t.datafield,s,o.firstChild);else throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");else e._renderwidgetcell(e,o,t,i,s);return}var C=h.element;if(t.cellsrenderer!=null||o.childNodes&&o.childNodes.length==0||e.groupable||e.rowdetails)o.innerHTML!=C&&(o.innerHTML=C);else if(o.innerHTML.indexOf("editor")>=0)o.innerHTML=C;else if(d){var g=C.indexOf(">"),b=C.indexOf("</"),_=C.substring(g+1,b),y=o.childNodes[0];if(_.indexOf(">")>=0)o.innerHTML=C;else if(y.childNodes[0])y.childNodes[0].nodeName!=="#text"?o.innerHTML=C:_!=y.childNodes[0].nodeValue&&(_.indexOf("&")>=0?o.innerHTML=C:y.childNodes[0].nodeValue=_);else{var j=document.createTextNode(_);y.appendChild(j)}}else o.innerHTML!=C&&(o.innerHTML=C);e.enabletooltips&&t.enabletooltips&&(o.title=h.title);return}if(t.columntype=="checkbox"){e._rendercheckboxcell(e,o,t,i,s),e._cellscache[n]={element:"",title:s},e.enabletooltips&&t.enabletooltips&&(o.title=""+s);return}else if(t.columntype=="button"){t.cellsrenderer!=null&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,f,t.getcolumnproperties(),i.bounddata)),e._renderbuttoncell(e,o,t,i,s),e._cellscache[n]={element:"",title:s},e.enabletooltips&&t.enabletooltips&&(o.title=""+s);return}else if(t.columntype=="progressbar"||t.columntype==="rating"){t.cellsrenderer!=null&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,f,t.getcolumnproperties(),i.bounddata)),e._renderprogresscell(e,o,t,i,s),e._cellscache[n]={element:"",title:s},e.enabletooltips&&t.enabletooltips&&(o.title=""+s);return}else if(t.columntype==="sparklines"){t.cellsrenderer!=null&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,f,t.getcolumnproperties(),i.bounddata)),e._cellscache[n]={element:"",title:s},e.enabletooltips&&t.enabletooltips&&(o.title=""+s);var v=o.offsetWidth,x=o.offsetHeight,w=t.sparklines;w||(w={type:"column"}),v===0&&(v=10);var m=e._renderSparklinesCell({width:v-10,height:Math.max(0,x-7),points:""+s,colors:w.colors||["#D50000","#E67C73","#F4511E","#F6BF26","#33B679","#0B8043","#039BE5","#3F51B5","#7986CB","#8E24AA","#616161"],type:w.type,gap:w.gap,max:w.max,min:w.min,strokeWidth:w.strokeWidth,colorFunction:w.colorFunction,tooltipFormatFunction:w.tooltipFormatFunction});o.innerHTML='<div style="padding-top: 5px; padding-left: 5px; padding-right: 5px;">'+m+"</div>",o.onmousemove=function(z){if(w.type==="column"||w.type==="bar")for(var q=o.querySelectorAll("rect"),B=0;B<q.length;B++){var S=q[B],D=S.getBoundingClientRect();S.removeAttribute("highlight"),D.left<=z.clientX&&z.clientX<=D.right&&D.top<=z.clientY&&z.clientY<=D.bottom&&S.setAttribute("highlight","")}if(w.type==="pie")for(var H=!1,q=o.querySelectorAll("path"),B=0;B<q.length;B++){var S=q[B],D=S.getBoundingClientRect();S.removeAttribute("highlight"),H||D.left<=z.clientX&&z.clientX<=D.right&&D.top<=z.clientY&&z.clientY<=D.bottom&&(S.setAttribute("highlight",""),H=!0)}if(w.type==="line")for(var G=o.querySelectorAll("line"),B=0;B<G.length;B++){var N=G[B],D=N.getBoundingClientRect();N.removeAttribute("highlight"),D.left<=z.clientX&&z.clientX<=D.right&&(N.previousElementSibling&&(N.previousElementSibling.style.display="none"),N.nextElementSibling&&(N.nextElementSibling.style.display="none"),N.setAttribute("highlight",""),D.left+D.width/2>=z.clientX?N.previousElementSibling&&(N.previousElementSibling.style.display=""):N.nextElementSibling&&(N.nextElementSibling.style.display=""))}},o.onmouseleave=function(){for(var z=o.querySelectorAll("rect"),q=0;q<z.length;q++){var B=z[q];B.removeAttribute("highlight")}for(var S=o.querySelectorAll("path"),q=0;q<S.length;q++){var D=S[q];D.removeAttribute("highlight")}for(var H=o.querySelectorAll("line"),q=0;q<H.length;q++){var G=H[q];G.removeAttribute("highlight")}for(var N=o.querySelectorAll("circle"),q=0;q<N.length;q++)w.type==="line"&&(N[q].style.display="none")};return}else t.columntype=="number"&&(s=i.visibleindex);if(t.createwidget){t.cellsrenderer!=null&&(s=t.cellsrenderer(e.getboundindex(i),t.datafield,s,f,t.getcolumnproperties(),i.bounddata)),e._renderwidgetcell(e,o,t,i,s),e._cellscache[n]={element:"",title:s},e.enabletooltips&&t.enabletooltips&&(o.title=s);return}var C=null;if(t.cellsrenderer!=null){e._columnCellsRenderCache||(e._columnCellsRenderCache=[]);var L=e.getboundindex(i);if(e._columnCellsRenderCache[L+"_"+t.datafield+"_"+s]!==void 0&&e.enableoptimization?C=e._columnCellsRenderCache[L+"_"+t.datafield+"_"+s]:(C=t.cellsrenderer(e.getboundindex(i),t.datafield,s,f,t.getcolumnproperties(),i.bounddata),e._columnCellsRenderCache[L+"_"+t.datafield+"_"+s]=C),C&&(C.indexOf("<jqx-")>=0||C.indexOf(" ng-")>=0)){e.toCompile&&e.toCompile.push({cell:o,value:C,row:e.getboundindex(i)});return}}else C=f;C==null&&(C=f);var k=s;if(e.enabletooltips&&t.enabletooltips&&(t.cellsformat!=""&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(s)?k=a.jqx.dataFormat.formatdate(k,t.cellsformat,e.gridlocalization):a.jqx.dataFormat.isNumber(s)&&(k=a.jqx.dataFormat.formatnumber(k,t.cellsformat,e.gridlocalization))),o.title=k),e.WinJS)a(o).html(C);else{var O=o.innerHTML;if(O.indexOf("editor")>=0||t.cellsrenderer!=null||e.groupable||e.virtualmode)o.innerHTML=C;else if(O.length>0){var g=C.indexOf(">"),b=C.indexOf("</"),_=C.substring(g+1,b),y=o.childNodes[0];if(_.indexOf(">")>=0)o.innerHTML=C;else if(y.childNodes[0])_!=y.childNodes[0].nodeValue&&(_.indexOf("&")>=0||O.indexOf("span")>=0||O.indexOf("img")>=0?o.innerHTML=C:y.childNodes[0].nodeValue=_);else{var j=document.createTextNode(_);y.appendChild(j)}}else O!=C&&(o.innerHTML=C)}return e._cellscache[n]={element:o.innerHTML,title:k},!0},_isIE10:function(){if(this._browser==null){var e=a.jqx.utilities.getBrowser();if(e.browser=="msie"&&parseInt(e.version)>9)this._browser=!0;else if(this._browser=!1,e.browser=="msie"){var t="Browser CodeName: "+navigator.appCodeName;t+="Browser Name: "+navigator.appName,t+="Browser Version: "+navigator.appVersion,t+="Platform: "+navigator.platform,t+="User-agent header: "+navigator.userAgent,t.indexOf("Zune 4.7")!=-1&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(e,t,i,s,o){a(t),t.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(e,t,i,s,o){if(e.host.jqxCheckBox){var d=a(t);if(o===""&&(i.threestatecheckbox?o=null:o=!1),o===null&&!i.threestatecheckbox&&(o=!1),o=="1"&&(o=!0),o=="0"&&(o=!1),o==1&&(o=!0),o==0&&(o=!1),o=="true"&&(o=!0),o=="false"&&(o=!1),i.checkboxcolumn){o=!1;var n=this.getboundindex(s);this.selectedrowindexes.indexOf(n)!=-1&&(o=!0)}if(d.find(".jqx-checkbox").length==0){t.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>',a(t.firstChild).jqxCheckBox({rippleEffect:!1,disabled:e.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:i.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:e.theme,checked:o}),this.enabletooltips&&i.enabletooltips&&(t.title=""+o),this.editable&&i.editable&&a(t.firstChild).jqxCheckBox({locked:!1}),i.checkboxcolumn&&a(t.firstChild).jqxCheckBox({locked:!1}),t.checkbox=a(t.firstChild),t.checkboxinstance=t.checkbox.data().jqxCheckBox.instance,t.checkboxrow=this.getboundindex(s);var f=a.data(t.firstChild,"jqxCheckBox").instance;f.updated=function(h,c,p){if(e.disabled){c=p;for(var v=e.table[0].rows.length,x=e._getcolumnindex(i.datafield),w=0;w<v;w++){var m=e.table[0].rows[w].cells[x].firstChild;m&&a(m).jqxCheckBox({disabled:e.disabled})}}if(i.editable&&!e.disabled){var v=e.table[0].rows.length,x=e._getcolumnindex(i.datafield);if(e.editrow!==void 0&&e.editcell[i.datafield]===void 0&&(e.editcell[i.datafield]=p),i.cellbeginedit){var g=i.cellbeginedit(t.checkboxrow,i.datafield,i.columntype,!c);if(g==!1){e.setcellvalue(t.checkboxrow,i.datafield,!c,!0);return}}if(i.cellvaluechanging){var b=i.cellvaluechanging(t.checkboxrow,i.datafield,i.columntype,p,c);b!=null&&(c=b)}if(e.editmode!=="selectedrow")for(var w=0;w<v;w++){var m=e.table[0].rows[w].cells[x].firstChild;m&&a(m).jqxCheckBox("destroy")}if(e.editcell&&e.editcell.validated==!1)e.setcellvalue(t.checkboxrow,i.datafield,!c,!0);else if(e.editmode!=="selectedrow"||e.editcell==null){var _=e.getrowdata(t.checkboxrow);e._raiseEvent(17,{rowindex:t.checkboxrow,row:_,datafield:i.datafield,value:p,columntype:i.columntype}),e.pushToHistory=!0,e.setcellvalue(t.checkboxrow,i.datafield,c,!0),e.pushToHistory=!1,e._raiseEvent(18,{rowindex:t.checkboxrow,row:_,datafield:i.datafield,oldvalue:p,value:c,columntype:i.columntype})}else e.pushToHistory=!0,e.setcellvalue(t.checkboxrow,i.datafield,c,!1,!1),e.pushToHistory=!1;i.cellendedit&&i.cellendedit(t.checkboxrow,i.datafield,i.columntype,c)}else i.checkboxcolumn&&(e.editcell&&e.endcelledit(e.editcell.row,e.editcell.column,!1,!0),e.disabled||(c?e.selectrow(t.checkboxrow):e.unselectrow(t.checkboxrow),e.autosavestate&&e.savestate&&e.savestate()))}}else t.checkboxrow=this.getboundindex(s),a(t.firstChild).jqxCheckBox("_setState",o,!(this.editable&&i.editable)&&!i.checkboxcolumn)}},_renderwidgetcell:function(e,t,i,s,o){var d=a(t);if(d.find(".jqx-grid-widget").length==0){var n='<div class="jqx-grid-widget" style="opacity: 1; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>';t.innerHTML=n,i.createwidget(s,i.datafield,o,t.firstChild),a(t.firstChild).attr("hideFocus","true"),a(t.firstChild).children().addClass("jqx-grid-widget"),t.widget=a(t.firstChild),t.widgetrow=e.getboundindex(s),i.widget=a(t.firstChild)}else i.initwidget(e.getboundindex(s),i.datafield,o,t.firstChild),t.widgetrow=e.getboundindex(s),a(t.firstChild).val(o)},_renderprogresscell:function(e,t,i,s,o){var d=a(t);if(i.columntype==="rating"){if(!e._linkadded){var n=document.createElement("link");n.rel="stylesheet",n.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",document.head.appendChild(n),e._linkadded=!0}i.ratingmax||(i.ratingmax=5);for(var f="",h=0;h<i.ratingmax;h++)o>=h+1?f+='<span style="color: rgba(255, 165, 0, 1);" class="fa fa-star checked"></span>':f+='<span style="color: rgba(255, 165, 0, .3);" class="fa fa-star"></span>';var c=i.cellsalign;c==="right"&&(c="flex-end"),t.innerHTML='<div style="display: flex; width: 100%; height: 100%; justify-content: '+c+'; padding: 5px; box-sizing: border-box; font-size: 16px; align-items: center;">'+f+"</div>";return}o==""&&(o=!1),d.find(".jqx-progress").length==0?(t.innerHTML='<progress class="jqx-progress" max="100" style="opacity: 1; position: absolute; top: 10%; left: 10%; width:80%; height:80%; padding: 0px;"/>',a(t.firstChild).val(o),t.progress=a(t.firstChild),t.progressrow=e.getboundindex(s)):(t.progressrow=e.getboundindex(s),a(t.firstChild).val(o))},_renderSparklinesCell:function(e){var t=this,i={svg:null,width:e.width||100,height:e.height||30,gap:e.gap||5,strokeWidth:e.strokeWidth||2,type:e.type||"column",colors:e.colors||["var(--jqx-primary)"],points:e.points,labels:e.labels,colorFunction:e.colorFunction,tooltipFormatFunction:e.tooltipFormatFunction,min:e.min,max:e.max};i.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),i.svg.setAttribute("width",i.width),i.svg.setAttribute("height",i.height);function s(o){Array.isArray(o.colors)||(o.colors=t.colors.split(",")),o.points&&(o.points=o.points.split(",").map(function(d){return parseInt(d,10)}))}switch(s(i),i.type){case"column":return t._renderColumn(i);case"bar":return t._renderBar(i);case"line":return t._renderLine(i);case"pie":return t._renderPie(i);case"stacked":return t._renderStacked(i)}},_renderColumn:function(e){for(var t=e.gap/e.points.length+e.width/e.points.length-e.gap,i=e.max||this._getMaxPoint(e.points),s=e.min||this._getMinPoint(e.points),o=e.height/(Math.abs(s)+Math.abs(i)),d=Math.abs(s)*o,n=0;n<e.points.length;n++){var f=e.points[n],h=n,c=document.createElementNS("http://www.w3.org/2000/svg","rect"),p=Math.abs(f)*o;isNaN(p)&&(p=0),c.setAttribute("x",h*t+h*e.gap),c.setAttribute("point",f);var v=f>=0?"var(--jqx-primary)":"var(--jqx-error)";if(i>0&&s<0?f>=0?c.setAttribute("y",e.height-d-1-p):c.setAttribute("y",e.height-d-1):i>=0&&s>=0?c.setAttribute("y",e.height-p):s<=0&&i<=0&&c.setAttribute("y",p),c.setAttribute("width",t),c.setAttribute("height",p),e.colorFunction){var x=e.colorFunction(f);x&&(v=x)}c.setAttribute("fill",v);var w=e.tooltipFormatFunction?e.tooltipFormatFunction(f):f;c.setAttribute("data-title",w),e.svg.appendChild(c)}return e.svg.outerHTML},_getMinPoint:function(e){for(var t=e[0],i=1;i<e.length;i++)t=Math.min(t,e[i]);return t},_getMaxPoint:function(e){for(var t=e[0],i=1;i<e.length;i++)t=Math.max(t,e[i]);return t},_renderBar:function(e){for(var t=e.height-5,i=Math.max(5,e.gap/e.points.length+t/e.points.length-e.gap),s=e.max||this._getMaxPoint(e.points),o=e.min||this._getMinPoint(e.points),d=e.width/(Math.abs(o)+Math.abs(s)),n=Math.abs(o)*d,f=0;f<e.points.length;f++){var h=e.points[f],c=f,p=document.createElementNS("http://www.w3.org/2000/svg","rect"),v=Math.abs(h)*d;p.setAttribute("y",c*i+c*e.gap),p.setAttribute("point",h);var x=h>=0?"var(--jqx-primary)":"var(--jqx-error)";if(s>0&&o<0?h>=0?p.setAttribute("x",n):p.setAttribute("x",n-v):(s>=0&&o>=0||o<=0&&s<=0)&&p.setAttribute("x",0),p.setAttribute("width",v),p.setAttribute("height",i),e.colorFunction){var w=e.colorFunction(h);w&&(x=w)}p.setAttribute("fill",x);var m=e.tooltipFormatFunction?e.tooltipFormatFunction(h):h;p.setAttribute("data-title",m),e.svg.appendChild(p)}return e.svg.outerHTML},_renderLine:function(e){var t=e.width/(e.points.length-1),i=e.max||this._getMaxPoint(e.points),s=e.min||this._getMinPoint(e.points),o=e.height/(Math.abs(s)+Math.abs(i)),d=Math.abs(s)*o,n="var(--jqx-primary)",f=[],h=[];e.svg.setAttribute("overflow","visible");for(var c=0;c<e.points.length;c++){var p=e.points[c],v=c*t,x=e.height-d-p*o;h.push({x:v,y:x,point:p}),h.length===2&&(f.push(h),h=[]),f.length>0&&h.length===0&&h.push(f[f.length-1][1])}for(var c=0;c<f.length;c++){var h=f[c];if(e.colorFunction){var w=e.colorFunction(h[0].point);w&&(n=w)}if(c===0){var m=document.createElementNS("http://www.w3.org/2000/svg","circle");e.svg.appendChild(m),m.setAttribute("cx",h[0].x),m.setAttribute("cy",h[0].y),m.setAttribute("r",3),m.setAttribute("fill",n);var _=e.tooltipFormatFunction?e.tooltipFormatFunction(h[0].point):h[0].point;m.setAttribute("data-title",_),m.style.display="none"}var g=document.createElementNS("http://www.w3.org/2000/svg","line");e.svg.appendChild(g),g.setAttribute("x1",h[0].x),g.setAttribute("y1",h[0].y),g.setAttribute("x2",h[1].x),g.setAttribute("y2",h[1].y);var b=document.createElementNS("http://www.w3.org/2000/svg","circle");e.svg.appendChild(b),b.setAttribute("cx",h[1].x),b.setAttribute("cy",h[1].y),b.setAttribute("r",3),b.setAttribute("fill",n);var _=e.tooltipFormatFunction?e.tooltipFormatFunction(h[1].point):h[1].point;b.setAttribute("data-title",_),b.style.display="none",g.setAttribute("fill","none"),g.setAttribute("stroke-width",e.strokeWidth),g.setAttribute("stroke",n)}return e.svg.outerHTML},_renderPie:function(e){for(var t=Math.min(e.width,e.height)/2,i=e.width/2,s=e.height/2,o=e.points.reduce(function(L,k){return L+Math.abs(k)},0),d=0,n=0,f=0;f<e.points.length;f++){var h=e.points[f],c=e.color;if(c||e.colors&&(c=e.colors[n],c||(n=0),c=e.colors[n]),n++,e.colorFunction){var p=e.colorFunction(h);p&&(c=p)}var v=Math.abs(h)/o*2*Math.PI,x=d+v,w=i+t*Math.cos(d),m=s+t*Math.sin(d),g=i+t*Math.cos(x),b=s+t*Math.sin(x),_=document.createElementNS("http://www.w3.org/2000/svg","path");h===o&&(_=document.createElementNS("http://www.w3.org/2000/svg","circle"),_.setAttribute("r",t),_.setAttribute("cx",i),_.setAttribute("cy",s));var y=v>Math.PI?1:0,j="M "+i+","+s+" L "+w+","+m+" A "+t+","+t+" 0 "+y+" 1 "+g+","+b+" Z";_.setAttribute("d",j),_.setAttribute("fill",c);var C=e.tooltipFormatFunction?e.tooltipFormatFunction(h):""+(h/o*100).toFixed(2)+"%";_.setAttribute("data-title",C),e.svg.appendChild(_),d=x}return e.svg.outerHTML},_renderStacked:function(e){for(var t=e.points.reduce(function(x,w){return x+w},0),i=(e.points.length-1)*e.gap,s=e.width-i,o=0,d=0;d<e.points.length;d++){var n=d,f=e.points[d],h=e.colors[n%e.colors.length],c=f/t*s,p=document.createElementNS("http://www.w3.org/2000/svg","rect");p.setAttribute("x",o),p.setAttribute("y",0),p.setAttribute("width",c),p.setAttribute("height",e.height),p.setAttribute("fill",h);var v=document.createElementNS("http://www.w3.org/2000/svg","title");v.textContent=f,p.appendChild(v),e.svg.appendChild(p),o+=c+e.gap}return e.svg.outerHTML},_renderbuttoncell:function(e,t,i,s,o){if(e.host.jqxButton){var d=a(t);if(o==""&&(o=!1),d.find(".jqx-button").length==0){t.innerHTML='<input type="button" style="opacity: 1; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',a(t.firstChild).val(o),a(t.firstChild).attr("hideFocus","true"),a(t.firstChild).jqxButton({disabled:e.disabled,theme:e.theme,height:e.rowsheight-4,width:i.width-4}),t.button=a(t.firstChild),t.buttonrow=e.getboundindex(s);var n=this.isTouchDevice();if(n){var f=a.jqx.mobile.getTouchEventName("touchend");e.addHandler(a(t.firstChild),f,function(h){i.buttonclick&&i.buttonclick(t.buttonrow,h)})}else e.addHandler(a(t.firstChild),"click",function(h){i.buttonclick&&i.buttonclick(t.buttonrow,h)})}else t.buttonrow=e.getboundindex(s),a(t.firstChild).val(o)}},_clearvisualrow:function(e,t,i,s,o){var d=this.toTP("jqx-grid-cell");t&&(d=" "+this.toTP("jqx-grid-group-cell")),d+=" "+this.toTP("jqx-grid-cleared-cell");for(var n=this.table[0].rows,f=0;f<s+o;f++)if(n[i]){var h=n[i].cells[f];h.className!=d&&(h.className=d);var c=this.columns.records[f];this._horizontalvalue!=e&&!c.pinned&&this.oldhscroll==!0&&(h.style.marginLeft=-e+"px");var p=c.width;c.adaptivewidth&&(p=c.adaptivewidth),p<c.minwidth&&(p=c.minwidth),p>c.maxwidth&&(p=c.maxwidth),parseInt(h.style.width)!=p&&(p!="auto"?a(h)[0].style.width=p+"px":a(h)[0].style.width=p),h.title!=""&&(h.title=""),h.innerHTML!=""&&(h.innerHTML="")}if(n[i]){var v=this.rowsheight;this.cardview&&(v=this.cardheight),parseInt(n[i].style.height)!=v&&(n[i].style.height=parseInt(v)+"px")}},_findgroupstate:function(e){var t=this._findgroup(e);return t==null?!1:t.expanded},_findgroup:function(e){var t=null;return this.expandedgroups[e]?this.expandedgroups[e]:t},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this._columnClassNameCache=new Array,this._columnCellsRenderCache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(e){if(this._columnsbydatafield==null&&(this._columnsbydatafield=new Array),this._columnsbydatafield[e])return this._columnsbydatafield[e];var t=e,i=null;return a.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this.text,i=this,!1}),this._columnsbydatafield[e]={label:t,column:i},this._columnsbydatafield[e]},_getcolumnbydatafield:function(e){if(this.__columnsbydatafield==null&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[e])return this.__columnsbydatafield[e];var t=null;return a.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return this.text,t=this,!1}),this.__columnsbydatafield[e]=t,this.__columnsbydatafield[e]},isscrollingvertically:function(){var e=this.vScrollBar.jqxScrollBar("isScrolling");return e},_renderrowdetails:function(e,t,i,s,o,d){if(t!=null){var n=a(t),f=0,h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var c=0;c<=o;c++){var p=a(t.cells[c]);p[0].innerHTML="",p[0].className="jqx-grid-details-cell"}var p=a(t.cells[f]);if(p[0].style.display=="none"){for(var v=t.cells[f],x=2,w=f;v!=null&&v.style.display=="none"&&x<10;)v=t.cells[w+x-1],x++;p=a(v)}if(this.rtl)for(var m=s;m<o;m++)t.cells[m].innerHTML="",t.cells[m].className="jqx-grid-details-cell";p.css("width","100%"),n.height(i.rowdetailsheight),p[0].className=e;var g=this.getboundindex(i),b=g+"_";if(this._rowdetailscache[b]){var _=this._rowdetailscache[b],y=_.html;if(this.initrowdetails){if(this._rowdetailscache[b].element){var j=this._rowdetailscache[b].element,C=p.coord(),L=this.gridcontent.coord(),k=parseInt(C.top)-parseInt(L.top),O=parseInt(C.left)-parseInt(L.left);this.rtl&&(O=0),a(j).css("top",k),a(j).css("left",O),a(j).css("display","block"),a(j).width(this.host.width()-h),this.layoutrowdetails&&this.layoutrowdetails(g,j,this.element,this.getrowdata(g))}}else p[0].innerHTML=y;return}p[0].innerHTML="",this.enablerowdetailsindent||(h=0);var X='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+h+'px;">'+i.rowdetails+"</div>";if(this.rtl)var X='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+h+'px;">'+i.rowdetails+"</div>";if(this._rowdetailscache[b]={id:t.id,html:X},this.initrowdetails){var j=a(X)[0];a(this.gridcontent).prepend(a(j)),a(j).css("position","absolute"),a(j).width(this.host.width()-h),a(j).height(p.height());var C=p.coord();a(j).css("z-index",1799),this.isTouchDevice()&&a(j).css("z-index",1999),a(j).addClass(this.toThemeProperty("jqx-widget-content"));var C=p.coord(),L=this.gridcontent.coord(),k=parseInt(C.top)-parseInt(L.top),O=parseInt(C.left)-parseInt(L.left);a(j).css("top",k),a(j).css("left",O),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var P=a(a(j).children()[0]);P[0].id!=""&&(P[0].id=P[0].id+g),this.initrowdetails(g,j,this.element,this.getrowdata(g)),this._rowdetailscache[b].element=j,this._rowdetailselementscache[g]=j}else p[0].innerHTML=X}},_defaultcellsrenderer:function(e,t){t.cellsformat!=""&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(e)?e=a.jqx.dataFormat.formatdate(e,t.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(e)&&(e=a.jqx.dataFormat.formatnumber(e,t.cellsformat,this.gridlocalization)));var i="8px";if(this.rowsheight!=31&&(i=this.rowsheight/2-this._cellheight/2,i<0&&(i=4),i+="px"),this.enableellipsis){if(t.cellsalign=="center"||t.cellsalign=="middle")return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+i+';">'+e+"</div>";if(t.cellsalign=="left")return'<div class="jqx-grid-cell-left-align" style="margin-top: '+i+';">'+e+"</div>";if(t.cellsalign=="right")return'<div class="jqx-grid-cell-right-align" style="margin-top: '+i+';">'+e+"</div>"}return t.cellsalign=="center"||t.cellsalign=="middle"?'<div style="text-align: center; margin-top: '+i+';">'+e+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+i+"; float: "+t.cellsalign+';">'+e+"</span>"},getcelltext:function(e,t){if(e==null||t==null)return null;var i=this.getcellvalue(e,t),s=this.getcolumn(t);return s&&s.cellsformat!=""&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(i)?i=a.jqx.dataFormat.formatdate(i,s.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(i)&&(i=a.jqx.dataFormat.formatnumber(i,s.cellsformat,this.gridlocalization))),i},getcelltextbyid:function(e,t){if(e==null||t==null)return null;var i=this.getcellvaluebyid(e,t),s=this.getcolumn(t);return s&&s.cellsformat!=""&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(i)?i=a.jqx.dataFormat.formatdate(i,s.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(i)&&(i=a.jqx.dataFormat.formatnumber(i,s.cellsformat,this.gridlocalization))),i},_getcellvalue:function(e,t){var i=null;if(i=t.bounddata[e.datafield],this.batcheditable){var s=t.bounddata["_temp"+e.datafield];s!==void 0&&(i=s)}if(e.displayfield!=null&&(i=t.bounddata[e.displayfield],this.batcheditable)){var s=t.bounddata["_temp"+e.displayfield];s!==void 0&&(i=s)}if(i==null&&(i=""),this.enableSanitize&&i&&typeof i=="string"){var o=this.escape_HTML(i);return o}return i},getcell:function(e,t){if(e==null||t==null)return null;var i=parseInt(e),s=e,o="";return isNaN(i)||(s=this.getrowdata(i)),s!=null&&(o=s[t]),this._getcellresult(o,e,t)},getrenderedcell:function(e,t){if(e==null||t==null)return null;var i=parseInt(e),s=e,o="";return isNaN(i)||(s=this.getrenderedrowdata(i)),s!=null&&(o=s[t]),this._getcellresult(o,e,t)},_getcellresult:function(e,t,i){var s=this.getcolumn(i);if(s==null||s==null)return null;var o=s.getcolumnproperties(),d=o.hidden,n=o.width,f=o.pinned,h=o.cellsalign,c=o.cellsformat,p=this.getrowheight(t);return p==!1?null:{value:e,row:t,column:i,datafield:i,width:n,height:p,hidden:d,pinned:f,align:h,format:c}},setcellvaluebyid:function(e,t,i,s,o){var d=this.getrowboundindexbyid(e);return this.setcellvalue(d,t,i,s,o)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(e,t,i,s,o){if(e==null||t==null)return!1;var d=parseInt(e);this._columnClassNameCache=[];var n=e;isNaN(d)||(n=this.getrowdata(d));var f=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(f=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var h="",c="";if(n[t]&&i&&a.jqx.dataFormat.isDate(n[t])&&a.jqx.dataFormat.isDate(i)&&n[t].toString()===i.toString()){!this._updating&&s!=!1&&this._renderrows(this.virtualsizeinfo);return}if(n!=null&&n[t]!==i){if(n[t]===null&&i==="")return;var p=this._getcolumnbydatafield(t),v="string";this.source||(this.source=new a.jqx.dataAdapter({}));var x=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(x){var w="";a.each(x,function(){if(this.name==p.displayfield)return this.type&&(w=this.type),!1}),w&&(v=w),c=n[p.displayfield]}if(h=n[t],this.pushToHistory&&(this._undoRedoIndex=-1,this._undoRedo.push({action:"setcellvalue",data:{oldvalue:h,value:i,datafield:t,row:e}})),!p.nullable||i!=null&&i!==""&&p.nullable&&i.label===void 0){if(a.jqx.dataFormat.isNumber(h)||v=="number"||v=="float"||v=="int"||v=="decimal"&&v!="date")this.gridlocalization&&this.gridlocalization.decimalseparator==","&&i&&i.indexOf&&i.indexOf(",")>=0&&(i=i.replace(",",".")),i=new Number(i),i=parseFloat(i),isNaN(i)&&(i=0);else if((a.jqx.dataFormat.isDate(h)||v=="date")&&i!=""){var m=i;m=new Date(m),m!="Invalid Date"&&m!=null?i=m:m=="Invalid Date"&&(m=a.jqx.dataFormat.parsedate(i,p.cellsformat),i=m)}if(n[t]===i){!this._updating&&s!=!1&&this._renderrows(this.virtualsizeinfo);return}}var g=this.source&&this.source._source.localdata&&this.source._source.localdata.name==="observableArray";if(n[t]=i,g){var b=this.source._source.localdata;b._updating||(b._updating=!0,b[e][t]=i,b._updating=!1)}var _=this.getrenderedrowdata(d,!0);if(!_)return;if(_[t]=i,this.batcheditable&&(n["_temp"+t]=i,_["_temp"+t]=i,n[t]=h,_[t]=h),i!=null&&i.label!=null){var p=this._getcolumnbydatafield(t);n[p.displayfield]=i.label,_[p.displayfield]=i.label,n[t]=i.value,_[t]=i.value,g&&!b._updating&&(b._updating=!0,b[e][t]=i.value,b[e][p.displayfield]=i.label,b._updating=!1)}f&&n.dataindex!=null&&(n.dataindex,this.dataview.cachedrecords[n.dataindex][t]=i,i!=null&&i.label!=null&&(this.dataview.cachedrecords[n.dataindex][t]=i.value,this.dataview.cachedrecords[n.dataindex][p.displayfield]=i.label))}else return!this._updating&&s!=!1&&this._renderrows(this.virtualsizeinfo),!1;if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var y=d;f&&n.dataindex!=null&&(y=n.dataindex);var j=this.source._source._localdata()[y];this.source.suspendKO=!0;var C=j;if(C[t]&&C[t].subscribe)i!=null&&i.label!=null?(C[p.displayfield](i.label),C[t](i.value)):C[t](i);else{var x=this.source._source.datafields,L=null;if(x&&a.each(x,function(){if(this.name==t)return L=this.map,!1}),L==null)i!=null&&i.label!=null?(C[t]=i.value,C[p.displayfield]=i.label):C[t]=i;else{var k=L.split(this.source.mapChar);if(k.length>0){for(var O=C,X=0;X<k.length-1;X++)O=O[k[X]];O[k[k.length-1]]=i}}this.source._source._localdata.replace(j,a.extend({},C))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var P=this.getsortinformation();if(this.sortcolumn==t&&this.sortmode!=="many")this.dataview.clearsortdata(),this.dataview.sortby(P.sortcolumn,P.sortdirection.ascending);else if(this.sortmode==="many"){var T=this.getsortcolumns();this.dataview.clearsortdata(),this.sortby(null);for(var I=0;I<T.length;I++)this.sortby(T[I].dataField,T[I].ascending)}}else this._updating||this.dataview.sortby&&this.dataview.sortcache[t]&&(this.dataview.sortcache[t]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(o==null||o==!0)){var z=!1,q=this.that,B=function(A){A==!1&&(q.setcellvalue(e,t,h,!0,!1),h!=c&&q.setcellvalue(e,q.getcolumn(t).displayfield,c,!0,!1))};try{var S=this.getrowid(d);z=this.source.updaterow(S,n,B),z==null&&(z=!0)}catch{z=!1,q.setcellvalue(e,t,h,!0,!1),h!=c&&q.setcellvalue(e,q.getcolumn(t).displayfield,c,!0,!1);return}}var D=this.vScrollInstance.value;if(this._updating&&s!=!0&&(s=!1),s==!0||s==null){var q=this.that,H=function(){q.pageable&&q.updatepagerdetails&&(q.updatepagerdetails(),(q.autoheight||q.autorowheight)&&q._updatepageviews())},G=this.groupable&&this.groups.length>0;f&&!G?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),H(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!G?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),H(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable?this.groups.indexOf(t)!=-1?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(D),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var N=this.getcolumn(t).filtertype;(N=="list"||N=="checkedlist")&&this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:e,datafield:t,newvalue:i,value:i,oldvalue:h}),!0},getcellvalue:function(e,t){if(e==null||t==null)return null;var i=parseInt(e),s=e;if(isNaN(i)||(s=this.getrowdata(i)),s!=null){var o=s[t];return o}return null},getrows:function(){var e=this.dataview.records.length;if(this.virtualmode){for(var t=new Array,i=0;i<this.dataview.records.length;i++){var s=this.dataview.records[i];s&&t.push(s)}this.dataview.records.length===void 0&&a.each(this.dataview.records,function(){var n=this;n&&t.push(n)});var o=0;return this.pageable&&(o=this.dataview.pagenum*this.dataview.pagesize),t.length>this.source._source.totalrecords-o?t.slice(0,this.source._source.totalrecords-o):t}if(this.dataview.sortdata){for(var t=new Array,i=0;i<e;i++){var d={};d=a.extend({},this.dataview.sortdata[i].value),t[i]=d}return t}else return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),s=0;s<i.length;s++)if(i[s]&&i[s].uid==e)return s;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){if(e==null&&(e=0),this.virtualmode){var t=this.dataview.records[e];return t}else{var t=this.getboundrows()[e];return t}},getrenderedrowdata:function(e,t){if(e==null&&(e=0),this.virtualmode){var s=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[s];return i}var s=this.getrowvisibleindex(e);if(s>=0){if(this.groupable&&this.groups.length>0)var i=this.dataview.loadedrecords[s];else{var i=this.dataview.loadedrecords[s];if(this.pageable&&(t==null||t==!1))var i=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return i}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i]){if(t[i].dataindex!==void 0){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex}return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?e.bounddata.dataindex!==void 0&&(t=e.bounddata.dataindex):e.dataindex!==void 0&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?t.dataindex!==void 0?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){var i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum];if(i==null)break;e.push(i)}return e}else if(this._startboundindex!=null&&this._endboundindex!=null){for(var e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i=this.dataview.loadedrecords[t];if(i==null)break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(e==null&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}else{var i=null,s=this.dataview.filters.length>0;if(e>=0&&e<this.dataview.bounditems.length&&!s){if(this.groupable&&this.groups.length>0)var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];else var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}if(this.dataview.filters.length>0){var i=this.getboundrows()[e];return i&&i.uid!=null?i.uid:null}}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),e=="updaterow"?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(e==="updaterow"&&(this.dataview.refresh(),this.virtualmode||this._render(!0,!0,!1,!1,!1)),this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(e,t,i){if(e!=null&&t!=null){var s=this.that,o=!1;if(s._datachanged=!0,this._columnClassNameCache=[],this.pushToHistory){var d=this.getrowdatabyid(e);this._undoRedoIndex=-1,this._undoRedo.push({action:"updaterow",data:{id:e,rowdata:t,oldrowdata:d}})}var n=function(h,c,p){if(h._loading)throw new Error("jqxGrid: "+h.loadingerrormessage);var v=!1;a.isArray(c)?(a.each(c,function(y,j){var C=""+this;v=h.dataview.updaterow(C,p[y],!1)}),h._cellscache=new Array,h._pagescache=new Array,h.dataview.refresh()):v=h.dataview.updaterow(c,p);var x=h.vScrollInstance.value;if((i==null||i==!0)&&(h._updating==null||h._updating==!1)&&h._updateGridData("updaterow"),h.showaggregates&&h._updatecolumnsaggregates&&h._updatecolumnsaggregates(),h.source&&h.source._knockoutdatasource&&!h._updateFromAdapter&&h.autokoupdates&&h.source._source._localdata){var w=h.dataview.recordsbyid["id"+c],m=h.dataview.records.indexOf(w),g=h.source._source._localdata()[m];h.source.suspendKO=!0,h.source._source._localdata.replace(g,a.extend({},w)),h.source.suspendKO=!1}var b=h.source&&h.source._source.localdata&&h.source._source.localdata.name==="observableArray";if(b&&!h.source._source.localdata._updating){h.source._source.localdata._updating=!0;var _=h.getrowboundindexbyid(c);h.source._source.localdata.set(_,p),h.source._source.localdata._updating=!1}return h.vScrollInstance.setPosition(x),v};if(this.source.updaterow){var f=function(h){h==!0||h==null?n(s,e,t):o=!1};try{o=this.source.updaterow(e,t,f),o==null&&(o=!0)}catch{o=!1}}else o=n(s,e,t);return o}return!1},deleterow:function(e,t){if(e!=null){this._datachanged=!0;var i=!1,s=this.that,o=this.getrowboundindexbyid(e),d=new Array;if(new Array,o!=null&&(this.selectedrowindexes.indexOf(o)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(o),1),this.selectedrowindex==o&&(this.selectedrowindex=-1),!this.virtualmode)){if(s.selectionmode.indexOf("row")>=0)a.each(this.selectedrowindexes,function(){var v=s.getrowid(this);d.push(v)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(s.selectionmode.indexOf("cell")>=0)for(var n in s.selectedcells){var f=s.selectedcells[n],h=s.getrowid(f.rowindex);f.rowid=h}this._rendervisualrows()}var c=function(v,x){if(v._loading)throw new Error("jqxGrid: "+v.loadingerrormessage);var w=!1,m=v.vScrollInstance.value;if(a.isArray(x))a.each(x,function(){w=v.dataview.deleterow(this,!1)}),v._cellscache=new Array,v._pagescache=new Array,v.dataview.refresh();else var w=v.dataview.deleterow(x);if(!v.virtualmode)if(v.selectionmode.indexOf("row")>=0)a.each(d,function(){var k=v.getrowboundindexbyid(this);k!=-1&&v.selectrow(k,!1)});else{var g=new Array;for(var b in v.selectedcells){var _=v.selectedcells[b],y=_.rowid,j=v.getrowboundindexbyid(y);j!=-1&&(_.rowindex=j,g[j+"_"+_.datafield]=_)}v.selectedcells=g}(v._updating==null||v._updating==!1)&&(t==null||t==!0)&&setTimeout(function(){v._render(!0,!0,!1,!1),v.vScrollBar.css("visibility")!="visible"&&(v._arrange(),v._updatecolumnwidths(),v._updatecellwidths(),v._renderrows(v.virtualsizeinfo)),v.vScrollInstance.setPosition(m)}),v.source&&v.source._knockoutdatasource&&!v._updateFromAdapter&&v.autokoupdates&&v.source._source._localdata&&(v.source.suspendKO=!0,v.source._source._localdata.pop(),v.source.suspendKO=!1);var C=v.source&&v.source._source.localdata&&v.source._source.localdata.name==="observableArray";if(C&&(v.source._source.localdata._updating||(v.source._source.localdata._updating=!0,v.source._source.localdata.splice(o,1),v.source._source.localdata._updating=!1)),v.dataview.sortby&&v.sortmode!=="many"){var L=v.getsortinformation();L.sortcolumn&&(v.dataview.clearsortdata(),v.dataview.sortby(L.sortcolumn,L.sortdirection?L.sortdirection.ascending:null))}return v.vScrollInstance.setPosition(m),w};if(this.source.deleterow){var p=function(v){(v==!0||v==null)&&c(s,e)};try{this.source.deleterow(e,p),i==null&&(i=!0)}catch{i=!1}}else i=c(s,e);return i}return!1},addrow:function(e,t,i){if(t!=null){this._datachanged=!0,i==null&&(i="last");var s=!1,o=this.that;if(e==null){var d=this.dataview.filters&&this.dataview.filters.length>0,n=d?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(a.isArray(t)){var f=new Array;a.each(t,function(p,v){var x=o.dataview.getid(o.dataview.source.id,t[p],n+p);f.push(x)}),e=f}else for(e=this.dataview.getid(this.dataview.source.id,t,n);this.dataview.recordsbyid["id"+e]!=null;)e++}var h=function(p,v,x,w){if(p._loading)throw new Error("jqxGrid: "+p.loadingerrormessage);var m=p.vScrollInstance.value,g=!1;a.isArray(x)?(a.each(x,function(y,j){this.dataindex!=null&&delete this.dataindex;var C=null;v!=null&&v[y]!=null&&(C=v[y]),g=p.dataview.addrow(C,this,w,!1)}),p._cellscache=new Array,p._pagescache=new Array,p.dataview.refresh()):(x!=null&&x.dataindex!=null&&delete x.dataindex,g=p.dataview.addrow(v,x,w)),(p._updating==null||p._updating==!1)&&(p._render(!0,!0,!1,!1),p.invalidate()),p.source&&p.source._knockoutdatasource&&!p._updateFromAdapter&&p.autokoupdates&&p.source._source._localdata&&(p.source.suspendKO=!0,p.source._source._localdata.push(x),p.source.suspendKO=!1);var b=p.source&&p.source._source.localdata&&p.source._source.localdata.name==="observableArray";if(b&&!p.source._source.localdata._updating){p.source._source.localdata._updating=!0;var _=p.getrowboundindexbyid(v);p.source._source.localdata.set(_,x),p.source._source.localdata._updating=!1}return p.scrollmode!="deferred"?p.vScrollInstance.setPosition(m):p.vScrollInstance.setPosition(0),g};if(this.source&&this.source.addrow){var c=function(p,v){(p==!0||p==null)&&(v!=null&&(e=v),h(o,e,t,i))};try{s=this.source.addrow(e,t,i,c),s==null&&(s=!0)}catch{s=!1}if(s==!1)return!1}else h(this,e,t,i);return s}return!1},_findvisiblerow:function(e,t){e==null&&(e=parseInt(this.vScrollInstance.value));var i=0;(t==null||t==null)&&(t=this.rows.records);for(var s=t.length;i<=s;){var o=parseInt((i+s)/2),d=t[o];if(d==null)break;if(d.top>e&&d.top+d.height>e)s=o-1;else if(d.top<e&&d.top+d.height<e)i=o+1;else return o}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(t.gridcontent!=null){t.table==null&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,s=0,o=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(o=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),o=t.dataview.rows.length)),!t.groupable&&!t.pageable&&(t.autoheight||t.autorowheight)&&(o=t.dataview.totalrecords),t.rowdetails&&(o+=t.dataview.pagesize),!!t.columns.records){for(var d=t.columns.records.length,n=t.table[0].rows,f=0;f<o;f++){var h=n[f];if(!h)break;for(var c=h.cells,p=0,v=0;v<d;v++){var x=t.columns.records[v],w=x.width;x.adaptivewidth&&(w=x.adaptivewidth);var m=c[v];parseInt(m.style.left)!=p&&(m.style.left=p+"px"),parseInt(m.style.width)!=w&&(m.style.width=w+"px"),!(x.hidden&&x.hideable)&&!x.adaptivehidden?(p+=parseFloat(w),t.adaptive&&(m.style.display="")):m.style.display="none"}s==0&&(t.table.width(parseFloat(p)+2),s=p)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,s=e.vScrollBar[0].style.visibility;s=="visible"&&(i=e.scrollbarsize+3),e.scrollbarsize==0&&(i=0),e.scrollbarautoshow&&(i=0);var o=e.element.style.width;if(o.toString().indexOf("%")>=0?o=e.host.width():o=parseInt(o),parseInt(e.table[0].style.width)-2>o-i){if(t!="visible"&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),s=="visible")if(e.scrollmode!="deferred"&&!e.virtualmode){if(e.virtualsizeinfo){var d=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(d)&&d>0&&(t!="hidden"?e.vScrollBar.jqxScrollBar("max",d+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",d))}}else e._updatevscrollbarmax();else i=-2,e.table.width()-e.host.width()===3&&(i=-3);e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else t!="hidden"&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_hascolumnstyle:function(){if(this._hascolumnstyles!==void 0)return this._hascolumnstyles;this._hascolumnstyles=!1;for(var e=0;e<this.columns.records.length;e++){var t=this.columns.records[e];if(t.style.headerBackgroundColor||t.style.headerColor||t.style.headerBackgroundHoveredColor||t.style.headerHoveredColor||t.style.headerBackgroundSelectedColor||t.style.headerSelectedColor||t.style.backgroundColor||t.style.color||t.style.backgroundHoveredColor||t.style.hoveredColor||t.style.backgroundSelectedColor||t.style.selectedColor)return this._hascolumnstyles=!0,!0}return!1},_prerenderrows:function(e){var t=this.that;if(t.prerenderrequired==!0){if(t.prerenderrequired=!1,t.editable&&t._destroyeditors&&t._destroyeditors(),t.gridcontent==null)return;t.gridcontent.find("#contenttable"+t.element.id).remove(),t.table!=null&&(t.table.remove(),t.table=null),t.table=a('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.gridcontent.addClass(t.toTP("jqx-grid-content")),t.gridcontent.addClass(t.toTP("jqx-widget-content")),t.gridcontent.append(t.table);var i=t.groupable&&t.groups.length>0,s=0;t.table[0].rows=new Array;var o=t.toTP("jqx-grid-cell");i&&(o=" "+t.toTP("jqx-grid-group-cell"));var d=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(d=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),d=t.dataview.rows.length,d<t.dataview.pagesize&&(d=t.dataview.pagesize))),!t.pageable&&(t.autoheight||t.autorowheight)&&(d=t.dataview.totalrecords),t.groupable&&t.groups.length>0&&(t.autoheight||t.autorowheight)&&!t.pageable&&(d=t.dataview.rows.length),t.rowdetails&&(t.autoheight||t.autorowheight?d+=t.dataview.pagesize:d+=d),!t.columns.records)return;var n=t.columns.records.length;a.jqx.browser.msie&&a.jqx.browser.version>8&&t.table.css("opacity","0.99"),a.jqx.browser.mozilla,navigator.userAgent.indexOf("Safari")!=-1;var f=a.jqx.browser.msie&&a.jqx.browser.version<8;f&&t.host.attr("hideFocus","true");var h=t.tableZIndex;d*n>h&&(h=d*n),t.dataview.records.length==0,t.isTouchDevice();var c="";t._hiddencolumns=!1;for(var p=5+t.columns.records.length,v=0;v<d;v++){var x='<div role="row" style="position: relative; height:'+t.rowsheight+'px;" id="row'+v+t.element.id+'">';if(f){var x='<div role="row" style="position: relative; z-index: '+h+"; height:"+t.rowsheight+'px;" id="row'+v+t.element.id+'">';h--}for(var w=0,m=0;m<n;m++){var g=t.columns.records[m],b=g.width;if(b<g.minwidth&&(b=g.minwidth),b>g.maxwidth&&(b=g.maxwidth),t.rtl){var _=h-n+2*m,y='<div columnindex="'+m+'" role="gridcell" style="left: '+w+"px; z-index: "+_+"; width:"+b+"px;";h--}else var y='<div columnindex="'+m+'" role="gridcell" style="left: '+w+"px; z-index: "+h--+"; width:"+b+"px;";!(g.hidden&&g.hideable)&&!g.adaptivehidden?w+=b:(y+="display: none;",t._hiddencolumns=!0,h++),v===0&&m===0&&(y+='" tabindex="'+p+'"'),y+='" class="'+o+'">';var j=this._defaultcellsrenderer("",g);y+=j,y+="</div>",x+=y}s==0&&(t.table.width(parseInt(w)+2),s=w),x+="</div>",c+=x}t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(c)}):t.table[0].innerHTML=c,t.table[0].rows=new Array;for(var C=t.table.children(),v=0;v<d;v++){var L=C[v];t.table[0].rows.push(L),L.cells=new Array;for(var k=a(L).children(),m=0;m<n;m++)L.cells.push(k[m])}if(d==0){var w=0;if(t.showemptyrow){var x=a('<div style="position: relative;" id="row0'+t.element.id+'"></div>');t.table.append(x),x.height(t.rowsheight),t.table[0].rows[0]=x[0],t.table[0].rows[0].cells=new Array}for(var m=0;m<n;m++){var g=t.columns.records[m],b=g.width;if(t.showemptyrow){var y=a('<div style="position: absolute; height: 100%; left: '+w+"px; z-index: "+h--+"; width:"+b+'px;" class="'+o+'"></div>');y.height(t.rowsheight),x.append(y),t.table[0].rows[0].cells[m]=y[0]}b<g.minwidth&&(b=g.minwidth),b>g.maxwidth&&(b=g.maxwidth),!(g.hidden&&g.hideable)&&!g.adaptivehidden&&(w+=b)}t.table.width(parseInt(w)+2),s=w}t._updatescrollbarsafterrowsprerender(),t.rendered&&t.rendered("rows"),t.toCompile=new Array,t._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,s=!1,o=!1;if((i.width!=null&&i.width.toString().indexOf("px")!=-1||i.width!=null&&!isNaN(i.width))&&(e=i.width),i.width!=null&&i.width.toString().indexOf("%")!=-1&&(e=i.width,s=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var d=0,n=0;n<i.columns.records.length;n++){var f=i.columns.records[n].width;f=="auto"&&(f=i._measureElementWidth(i.columns.records[n].text)),d+=f}i.vScrollBar.css("visibility")!="hidden"&&(d+=i.scrollbarsize+4),e=d,i.width=e}(i.height!=null&&i.height.toString().indexOf("px")!=-1||i.height!=null&&!isNaN(i.height))&&(t=i.height),i.height!=null&&i.height.toString().indexOf("%")!=-1&&(t=i.height,o=!0);var h=function(){var I=0,z=i.showheader&&i.columnsheader!=null?i.columnsheader.height()+2:0;return I+=z,i.pageable&&(I+=i.pagerheight),i._groupsheader()&&(I+=i.groupsheaderheight),i.showtoolbar&&(I+=i.toolbarheight),i.showfilterbar&&(I+=i.toolbarheight),i.showstatusbar&&(I+=i.statusbarheight),i.showeverpresentrow&&i.everpresentrowposition==="bottom"&&(I+=i.everpresentrowheight),i.hScrollBar[0].style.visibility=="visible"&&(I+=15),I};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage){var c=0;t=c+(i._pageviews[0]?i._pageviews[0].height:0),t+=h(),i.showemptyrow&&i.dataview.totalrecords==0&&(t+=i.rowsheight)}else{var c=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=c+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=h(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&(t=250,i.dataloadelement.height(t)),t+=h(),t>1e4&&(t=1e4));e!=null?(e=parseInt(e),s?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),s&&(e=i.host.width(),e<=2&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),t!=null?(this.autoheight&&(t+=2),o||(t=parseInt(t)),o?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),o&&!i.autoheight&&(t=i.host.height(),t==0&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var p=0;if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),p+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showfilterbar?(i.filterbar.width(e),i.filterbar.height(i.toolbarheight-1),i.filterbar.css("top",p),p+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.filterbar[0].style.height="0px",i.showstatusbar?(i.showaggregates?i.statusbar.width(i.table?Math.max(e,i.table.width()):e):i.statusbar.width(e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&i.everpresentrowposition==="bottom"?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()){i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",p);var v=i.groupsheader.height()+1;p+=v,t>v&&(t-=parseInt(v))}else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=p+"px"&&i.groupsheader.css("top",p);var v=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0,x=p+v+"px";i.content[0].style.top!=x&&i.content.css("top",p+i.groupsheaderheight)}var w=i.scrollbarsize;isNaN(w)&&(w=parseInt(w),isNaN(w)?w="17px":w=w+"px"),w=parseInt(w);var m=4,g=2,b=0;i.scrollbarautoshow&&(m=0),i.vScrollBar[0].style.visibility=="visible"&&(b=w+m),i.hScrollBar[0].style.visibility=="visible"&&(g=w+m+2),w==0&&(b=0,g=0);var _=0;i.pageable&&(_=i.pagerheight,g+=i.pagerheight),i.showstatusbar&&(g+=i.statusbarheight,_+=i.statusbarheight),i.showeverpresentrow&&i.everpresentrowposition==="bottom"&&(g+=i.everpresentrowheight,_+=i.everpresentrowheight),i.hScrollBar[0].style.height!=w+"px"&&(i.hScrollBar[0].style.height=parseInt(w)+"px"),(i.hScrollBar[0].style.top!=p+t-m-w-_+"px"||i.hScrollBar[0].style.left!="0px")&&i.hScrollBar.css({top:p+t-m-w-_+"px",left:"0px"});var y=i.hScrollBar[0].style.width,j=!1,C=!1;b==0?y!=e-2+"px"&&(i.hScrollBar.width(e-2),j=!0):y!=e-w-m+"px"&&(i.hScrollBar.width(e-w-m+"px"),j=!0),i.autoheight||(i.vScrollBar[0].style.width!=w+"px"&&(i.vScrollBar.width(w),C=!0),i.vScrollBar[0].style.height!=parseInt(t)-g+"px"&&(i.vScrollBar.height(parseInt(t)-g+"px"),C=!0),(i.vScrollBar[0].style.left!=parseInt(e)-parseInt(w)-m+"px"||i.vScrollBar[0].style.top!=p+"px")&&i.vScrollBar.css({left:parseInt(e)-parseInt(w)-m+"px",top:p})),i.rtl&&(i.vScrollBar.css({left:"0px",top:p}),i.vScrollBar.css("visibility")!="hidden"&&i.hScrollBar.css({left:w+2}));var L=i.vScrollInstance;L.disabled=i.disabled,i.autoheight||C&&L.refresh();var k=i.hScrollInstance;k.disabled=i.disabled,j&&k.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var O=function(I){if(I.vScrollBar[0].style.visibility=="visible"&&I.hScrollBar[0].style.visibility=="visible"){I.bottomRight[0].style.visibility="visible",I.bottomRight.css({left:1+parseInt(I.vScrollBar.css("left")),top:parseInt(I.hScrollBar.css("top"))}),I.rtl&&I.bottomRight.css("left","0px"),I.bottomRight.width(parseInt(w)+3),I.bottomRight.height(parseInt(w)+4);var z=I.showeverpresentrow&&I.everpresentrowposition=="bottom",q=z?I.everpresentrowheight:0;q>0&&!I.showaggregates&&(I.bottomRight.css("z-index",99),I.bottomRight.height(parseInt(w)+4+q),I.bottomRight.css({top:parseInt(I.hScrollBar.css("top"))-q})),I.showaggregates&&(I.bottomRight.css("z-index",99),I.bottomRight.height(parseInt(w)+4+I.statusbarheight+q),I.bottomRight.css({top:parseInt(I.hScrollBar.css("top"))-I.statusbarheight-q}))}else I.bottomRight[0].style.visibility="hidden"};if(O(this),i.content[0].style.width!=e-b+"px"&&i.content.width(e-b),i.content[0].style.height!=t-g+3+"px"&&i.content.height(t-g+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=p+"px"&&i.content.css("top",p),i.rtl&&(i.content.css("left",b),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var X=i.table.width();X<e-b&&i.content.css("left",e-X)}if(i.showstatusbar&&(i.statusbar.css("top",p+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.autoheight&&(i.statusbar.css("top",p+t-2-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.statusbar.height(i.statusbarheight+2)),i.showaggregates&&(i.hScrollBar.css("visibility")=="visible"&&(i.hScrollBar.css({top:p+t-m-w-_+i.statusbarheight+"px"}),i.statusbar.css("top",1+p+t-w-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),O(this)),i.rtl&&(i.hScrollBar.css("visibility")!="visible"?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&i.everpresentrowposition==="bottom"&&(i.addnewrow.css("top",p+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&(i.hScrollBar.css("visibility")!="visible"?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",p+t-i.pagerheight-1)):i.pager[0].style.height="0px",i.table!=null){var P=-2;if(i.table.width()-i.host.width()===3&&(P=-3),i.vScrollBar[0].style.visibility=="visible"&&(P=i.scrollbarsize+3),i.hScrollBar[0].style.visibility=="visible"){var T=P+i.table.width()-i.host.width();T>=0&&i.hScrollBar.jqxScrollBar("max",T),i.hScrollBar[0].style.visibility=="visible"&&T==0&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),this.pagergotoinput&&(this.pagergotoinput.offset().top!==this.pagergoto.offset().top?(this.pagergotoinput.css("visibility","hidden"),this.pagergoto.css("visibility","hidden")):(this.pagergotoinput.css("visibility","inherit"),this.pagergoto.css("visibility","inherit"))),i._hostwidth=e},destroy:function(){if(delete a.jqx.dataFormat.datescache,delete this.gridlocalization,delete this._undoRedo,a.jqx.utilities.resize(this.host,null,!0),(document.referrer!=""||window.frameElement)&&window.top!=null&&window.top!=window.self&&this.removeHandler(a(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var e=this.table[0].rows.length,t=0;t<e;t++){for(var i=this.table[0].rows[t],s=i.cells,o=s.length,d=0;d<o;d++)a(i.cells[d]).remove(),i.cells[d]=null,delete i.cells[d];i.cells=null,i.cells&&delete i.cells,a(this.table[0].rows[t]).remove(),this.table[0].rows[t]=null}try{delete this.table[0].rows}catch{}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(var t=0;t<this.columns.records.length;t++){var n=this.columns.records[t];n.addnewrowwidget&&n.destroyeverpresentrowwidget&&n.destroyeverpresentrowwidget(n.addnewrowwidget),n.destroywidget&&n.destroywidget&&n.destroywidget(n.widget),this._removecolumnhandlers(this.columns.records[t]),n.element&&(a(n.element).remove(),a(n.sortasc).remove(),a(n.sortdesc).remove(),a(n.filtericon).remove(),a(n.menu).remove(),n.element=null,n.uielement=null,n.sortasc=null,n.sortdesc=null,n.filtericon=null,n.menu=null,delete n.element,delete n.uielement,delete n.sortasc,delete n.sortdesc,delete n.filtericon,delete n.menu,delete this.columnsrow[0].cells[t])}try{delete this.columnsrow[0].cells}catch{}delete this.columnsrow}if(a.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(a(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(a(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(a(document),"selectstart."+this.element.id),this.removeHandler(a(document),"mousedown.resize"+this.element.id),this.removeHandler(a(document),"mouseup.resize"+this.element.id),this.removeHandler(a(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var f=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,h=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,c=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(a(document),f),this.removeHandler(a(document),h),this.removeHandler(a(document),c)}if(this.removeHandler(a(document),"mousedown.reorder"+this.element.id),this.removeHandler(a(document),"mouseup.reorder"+this.element.id),this.removeHandler(a(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){var f=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,h=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,c=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(a(document),f),this.removeHandler(a(document),h),this.removeHandler(a(document),c)}if(this.removeHandler(a(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable){var f="mousemove.grouping"+this.element.id,h="mousedown.grouping"+this.element.id,c="mouseup.grouping"+this.element.id;this.removeHandler(a(document),f),this.removeHandler(a(document),h),this.removeHandler(a(document),c)}if(this.columnsreorder){var f="mousemove.reorder"+this.element.id,h="mousedown.reorder"+this.element.id,c="mouseup.reorder"+this.element.id;this.removeHandler(a(document),f),this.removeHandler(a(document),h),this.removeHandler(a(document),c),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length)for(var p=this.menuitemsarray.length,t=0;t<p;t++)a(this.menuitemsarray[t]).remove();delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},closeSidePanel:function(){var e=this;e._sideDialogPanel&&e._sideDialogPanel.close()},_createDialog:function(e){var t=this,i=document.createElement("div");e||(e={width:"auto",height:"auto",moda:!1,screenModal:!1}),e.modal!==void 0&&(i.modal=e.modal),e.screenModal!==void 0&&(i.screenModal=e.screenModal),i.setAttribute("animation","none"),i.classList.add("jqx-window","jqx-grid-dialog"),i.style.width=e.width==="auto"?e.width:e.width+"px",i.style.height=e.height==="auto"?e.height:e.height+"px",e.width&&typeof e.width=="string"&&(i.style.width=e.width),e.height&&typeof e.height=="string"&&(i.style.height=e.height),i.style.left="",i.style.top="",i.innerHTML='<div class="jqx-container"><div class="jqx-content-container" jqx-id="container"><div id="headerSection" class="jqx-header-section"><div class="jqx-header"></div><div class="jqx-buttons-container"><button title="Close" class="jqx-button jqx-element jqx-close-button" aria-label="Close" jqx-id="closeButton"></button></div></div><div class="jqx-content"><div class="jqx-content-container"></div></div><div class="jqx-footer"><div class="jqx-stack-layout right spacing"><jqx-button class="jqx-confirm-button item primary">Ok</jqx-button><jqx-button class="jqx-cancel-button item">Cancel</jqx-button></div></div></div></div>',i.querySelector&&i.querySelector(".jqx-content")&&(i.content=i.querySelector(".jqx-content").firstChild),i.footer=i.querySelector(".jqx-footer"),i.header=i.querySelector(".jqx-header"),i.btnConfirm=i.querySelector(".jqx-confirm-button"),i.btnCancel=i.querySelector(".jqx-cancel-button"),i.btnClose=i.querySelector(".jqx-close-button"),i.headerSection=i.querySelector(".jqx-header-section");var s=document.createElement("div");return s.classList.add("jqx-grid-dialog-overlay"),s.onclick=function(){i.overlayClick&&i.overlayClick()},i.overlay=s,i.remove=function(){i.parentNode&&i.parentNode.removeChild(i)},i.close=function(){i.classList.contains("open")&&(i.classList.remove("open"),delete t._resizeHandling,i.addEventListener("transitionend",i.remove),i.addEventListener("transitioncancel",i.remove),i.modal&&i.overlay.parentNode&&i.overlay.parentNode.removeChild(i.overlay),i.onClose&&i.onClose())},i.open=function(o,d){if(i.removeEventListener("transitionend",i.remove),i.removeEventListener("transitioncancel",i.remove),t.isInShadowDOM){var n=t.getRootNode();n.appendChild(i)}else document.body.appendChild(i);if(t._resizeHandling=!1,o===void 0&&(o=e.left),d===void 0&&(d=e.top),requestAnimationFrame(function(){var f=i.querySelector('[bind="name"]');if(f){var h=f.querySelector("jqx-input");h&&t.editing.enabled&&h.focus()}var c=function(p,v){var x=t.host.offset();switch(p==="center"&&v==="horizontal"&&(p="middle"),p){case"top":return x.top;case"bottom":return Math.max(x.top,x.top+t.offsetHeight-i.offsetHeight);case"center":return Math.max(x.top,x.top+t.offsetHeight/2-i.offsetHeight/2);case"left":return x.left;case"middle":return x.left+t.offsetWidth/2-i.offsetWidth/2;case"right":return x.left+t.offsetWidth-i.offsetWidth}return v==="horizontal"?parseInt(p)+x.left:v==="vertical"?parseInt(p)+x.top:typeof p=="number"?p:parseInt(p)};i.style.left=c(o,"horizontal")+"px",i.style.top=c(d,"vertical")+"px",i.setPosition=function(p,v){v?i.style.left=c(p,"horizontal")+"px":i.style.top=c(p,"vertical")+"px"},o==="center"&&parseInt(i.style.left)<0&&(i.style.left="5%",i.style.maxWidth="90%"),o==="screenMiddle"&&(i.style.left="calc(50% - "+i.offsetWidth/2+"px)"),d==="screenCenter"&&(i.style.top="calc(50% - "+i.offsetHeight/2+"px)")}),i.modal)if(i.screenModal)if(t.isInShadowDOM){var n=t.getRootNode();n.appendChild(i.overlay)}else document.body.appendChild(i.overlay);else t.appendChild(i.overlay);i.onOpen&&i.onOpen()},i},showSidePanel:function(e,t,i){var s=this,o;t||(t=400);var d=s._sideDialogPanel&&s._sideDialogPanel.classList.contains("open");s._sideDialogPanel&&(s._sideDialogPanel.remove(),delete s._sideDialogPanel),o||(o=s._createDialog(),o.classList.add("jqx-grid-side-panel"),d&&(o.style.transition="none"),s._sideDialogPanel=o),o.btnClose.onclick=function(){o.style.transition="",o.close()},o.footer.classList.add("jqx-hidden"),o.content.parentElement.style.height="100%",o.content.parentElement.style.paddingTop="0px",o.headerSection.style.background="var(--jqx-background)",o.headerSection.style.height=o.headerSection.style.minHeight="30px",o.btnConfirm.remove(),o.onOpen=function(){requestAnimationFrame(function(){var c=s.host.offset();o.style.width=t+"px",o.style.left=c.left+s.element.offsetWidth-o.offsetWidth+"px",o.style.top=c.top+"px",o.style.height=o.style.maxHeight=s.element.offsetHeight-10+"px",o.classList.add("open")})},o.open();var n=o.content;if(n.innerHTML="",typeof e=="string"){if(e.startsWith("#")){var f=document.querySelector(e);if(f){var h=f.cloneNode(!0);h.removeAttribute("id"),h.style.display="block",n.appendChild(h),i&&setTimeout(function(){i(n)});return}}n.innerHTML=e,i&&i(n);return}if(e instanceof HTMLElement){var h=e.cloneNode(!0);h.removeAttribute("id"),h.style.display="block",n.appendChild(h),i&&setTimeout(function(){i(n)});return}if(e instanceof HTMLTemplateElement){n.appendChild(e.content.cloneNode(!0)),i&&setTimeout(function(){i(n)});return}n.innerHTML="<p>Unsupported content type.</p>"},_initializeColumns:function(){var e=this.source?this.source.datafields:null;e==null&&this.source&&this.source._source&&(e=this.source._source.datafields);var t=e?e.length>0:!1;if(this.autogeneratecolumns){var i=new Array;if(e)a.each(e,function(){var v={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};i.push(v)});else if(this.source.records.length>0){var s=this.source.records[0];for(var o in s)if(o!="uid"){var d={width:100,datafield:o,text:o};i.push(d)}}this.columns=i}if(this.columns&&this.columns.records)for(var n=0;n<this.columns.records.length;n++)this._removecolumnhandlers(this.columns.records[n]);var f=this.that,h=new a.jqx.collection(this.element),c=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.commandcolumn&&this.columns.push({text:"",visible:this.editable,width:120,filterable:!1,sortable:!1,editable:!1,resizable:!1,draggable:!1,cellsrenderer:function(v,x){if(f.commandcolumnrenderer){var w=f.commandcolumnrenderer(v,x,f._commandColumnEdit&&f._commandColumnEdit.boundindex===v);if(w!==void 0)return w}return f._commandColumnEdit&&f._commandColumnEdit.boundindex===v?'<span style="display: flex; justify-content: center; height: 100%; align-items: center;"><span style="cursor: pointer; text-decoration: underline;" update>'+f.gridlocalization.udpaterowstring+'</span><span style="cursor: pointer; text-decoration: underline; margin-left: 10px;" cancel>'+f.gridlocalization.cancelstring+"</span></span>":'<span style="display: flex; justify-content: center; height: 100%; align-items: center;"><span style="cursor: pointer; text-decoration: underline;" edit>'+f.gridlocalization.editstring+"</span></span>"},datafield:"_commandColumn"}),this.groupable&&a.each(this.groups,function(v){var x=new r(f,this);x.visibleindex=c++,x.width=f.groupindentwidth,h.add(x),x.grouped=!0,x.filterable=!1,x.sortable=!1,x.editable=!1,x.resizable=!1,x.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn){var d=new r(f,this);d.visibleindex=c++,d.width=f.groupindentwidth,d.pinned=!0,d.editable=!1,d.filterable=!1,d.draggable=!1,d.groupable=!1,d.resizable=!1,h.add(d),f._haspinned=!0}if(this.selectionmode=="checkbox"){var d=new r(f,null);d.visibleindex=c++,d.width=f.groupindentwidth,d.checkboxcolumn=!0,d.editable=!1,d.columntype="checkbox",d.groupable=!1,d.draggable=!1,d.filterable=!1,d.resizable=!1,d.datafield="_checkboxcolumn",h.add(d)}var p=new Array;if(a.each(this.columns,function(v){if(f.columns[v]!=null){var x=new r(f,this);if(x.visibleindex=c++,this.dataField!=null&&(this.datafield=this.dataField),this.pinned&&(f._haspinned=!0),f.showeverpresentrow&&(this.datafield==="addButtonColumn"||this.datafield==="resetButtonColumn"||this.datafield==="updateButtonColumn"||this.datafield==="deleteButtonColumn")&&(x.editable=!1,x.groupable=!1,x.draggable=!1,x.filterable=!1,x.resizable=!1,x.menu=!1),this.datafield==null)f.source&&f.source._source&&f.source._source.datatype=="array"&&(t||(f.source._source.datafields?f.source._source.datafields.push({name:v.toString()}):(f.source._source.datafields=new Array,f.source._source.datafields.push({name:v.toString()}))),this.datafield=v.toString(),this.displayfield=v.toString(),x.datafield=this.datafield,x.displayfield=this.displayfield);else{if(p[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");p[this.datafield]=!0}h.add(x)}}),this.adaptive){var d=new r(f,null);d.visibleindex=c++,d.width=f.groupindentwidth,d.editable=!1,d.columntype="adaptive",d.cellsalign="center",d.groupable=!1,d.draggable=!1,d.menu=!1,d.sortable=!1,d.filterable=!1,d.resizable=!1,d.datafield="_adaptivecolumn",h.add(d)}this.rtl&&h.records.reverse(),this.columns=h},_initializeRows:function(){var e=new a.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=e},_raiseEvent:function(e,t){if(t==null&&(t={owner:null}),this._trigger!==!1){var i=this.events[e];if(this._camelCase||(i=i.toLowerCase()),(e==2||e==15)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var s=this;setTimeout(function(){s.updateeverpresentrow()},50)}var o=t;o.owner=this;var d=new a.Event(i);d.owner=this,d.args=o;var n=this.host.trigger(d);return t=d.args,n}},wheel:function(e,t){if(t.autoheight&&t.hScrollBar.css("visibility")!="visible")return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),e.originalEvent!=null&&(e.originalEvent.mouseHandled=!0),e.stopPropagation!=null&&e.stopPropagation()),s?(s=!1,e.returnValue=s,s):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if(this.vScrollBar.css("visibility")!="hidden"){var t=this.vScrollInstance.value;e<0?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;if(t!=i)return!0}else if(this.hScrollBar.css("visibility")!="hidden"){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return this._activeFilterElement&&this._activeFilterElement.jqxDropDownList("close"),!0}return!1},scrollDown:function(){if(this.vScrollBar.css("visibility")!="hidden"){var e=this.vScrollInstance;e.value+this.rowsheight<=e.max?e.setPosition(parseInt(e.value)+this.rowsheight):e.setPosition(e.max)}},scrollUp:function(){if(this.vScrollBar.css("visibility")!="hidden"){var e=this.vScrollInstance;e.value-this.rowsheight>=e.min?e.setPosition(parseInt(e.value)-this.rowsheight):e.setPosition(e.min)}},_removeHandlers:function(){var e=this.that;e.removeHandler(a(window),"orientationchange.jqxgrid"+e.element.id),e.removeHandler(a(window),"orientationchanged.jqxgrid"+e.element.id),e.removeHandler(e.vScrollBar,"valueChanged"),e.removeHandler(e.hScrollBar,"valueChanged"),e.vScrollInstance.valueChanged=null,e.hScrollInstance.valueChanged=null;var t="mousedown.jqxgrid";e.isTouchDevice()&&(t=a.jqx.mobile.getTouchEventName("touchend")),e.removeHandler(e.host,"dblclick.jqxgrid"),e.removeHandler(e.host,t),e.removeHandler(e.content,"mousemove",e._mousemovefunc),e.removeHandler(e.host,"mouseleave.jqxgrid"),e.removeHandler(e.content,"mouseenter"),e.removeHandler(e.content,"mouseleave"),e.removeHandler(e.content,"mousedown"),e.removeHandler(e.content,"scroll"),e.removeHandler(e.content,"selectstart."+e.element.id),e.removeHandler(e.host,"dragstart."+e.element.id),e.removeHandler(e.host,"keydown.edit"+e.element.id),e.removeHandler(a(document),"keydown.edit"+e.element.id),e.removeHandler(a(document),"keyup.edit"+e.element.id),e._mousemovedocumentfunc&&e.removeHandler(a(document),"mousemove.selection"+e.element.id,e._mousemovedocumentfunc),e.removeHandler(a(document),"mouseup.selection"+e.element.id),e._mousewheelfunc&&e.removeHandler(e.host,"mousewheel",e._mousewheelfunc),e.editable&&e.removeHandler(a(document),"mousedown.gridedit"+e.element.id),e.host.off&&(e.content.off("mousemove"),e.host.off("mousewheel"))},_addHandlers:function(){var e=this.that,t=e.isTouchDevice();t||e.addHandler(e.host,"dragstart."+e.element.id,function(d){return!1}),e.scrollbarautoshow&&(e.addHandler(e.host,"mouseenter.gridscroll"+e.element.id,function(d){e.vScrollBar.fadeIn("fast"),e.hScrollBar.fadeIn("fast")}),e.addHandler(e.host,"mouseleave.gridscroll"+e.element.id,function(d){!e.vScrollInstance.isScrolling()&&!e.hScrollInstance.isScrolling()&&(e.vScrollBar.fadeOut("fast"),e.hScrollBar.fadeOut("fast"))})),e.editable&&e.addHandler(a(document),"mousedown.gridedit"+e.element.id,function(d){if(e.editable&&e.begincelledit&&e.editcell&&!e.vScrollInstance.isScrolling()&&!e.vScrollInstance.isScrolling()){var n=e.host.coord(),f=e.host.width(),h=e.host.height(),c=!1,p=!1;if((d.pageY<n.top||d.pageY>n.top+h)&&(c=!0,p=!0),(d.pageX<n.left||d.pageX>n.left+f)&&(c=!0),c){if(e.editcell&&e.editcell.editor)switch(e.editcell.columntype){case"datetimeinput":if(e.editcell.editor.jqxDateTimeInput&&e.editcell.editor.jqxDateTimeInput("container")&&e.editcell.editor.jqxDateTimeInput("container")[0].style.display=="block"){var v=e.editcell.editor.jqxDateTimeInput("container").coord().top,x=e.editcell.editor.jqxDateTimeInput("container").coord().top+e.editcell.editor.jqxDateTimeInput("container").height();if(p&&(d.pageY<v||d.pageY>x))c=!0,e.editcell.editor.jqxDateTimeInput("close");else return}break;case"combobox":if(e.editcell.editor.jqxComboBox&&e.editcell.editor.jqxComboBox("container")&&e.editcell.editor.jqxComboBox("container")[0].style.display=="block"){var v=e.editcell.editor.jqxComboBox("container").coord().top,x=e.editcell.editor.jqxComboBox("container").coord().top+e.editcell.editor.jqxComboBox("container").height();if(p&&(d.pageY<v||d.pageY>x))c=!0,e.editcell.editor.jqxComboBox("close");else return}break;case"dropdownlist":if(e.editcell.editor.jqxDropDownList&&e.editcell.editor.jqxDropDownList("container")&&e.editcell.editor.jqxDropDownList("container")[0].style.display=="block"){var v=e.editcell.editor.jqxDropDownList("container").coord().top,x=e.editcell.editor.jqxDropDownList("container").coord().top+e.editcell.editor.jqxDropDownList("container").height();if(p&&(d.pageY<v||d.pageY>x))c=!0,e.editcell.editor.jqxDropDownList("close");else return}break;case"template":case"custom":for(var w=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],m=function(_){var y=e.editcell.editor.data();if(y[_]&&y[_].instance.container&&y[_].instance.container[0].style.display=="block"){var j=y[_].instance,C=j.container.coord().top,L=j.container.coord().top+j.container.height();return p&&(d.pageY<C||d.pageY>L)?(c=!0,j.close(),!0):!1}},g=0;g<w.length;g++){var b=m(w[g]);if(b==!1)return}break}if(e.editmode==="programmatic"){e._oldselectedcell=null;return}e.endcelledit(e.editcell.row,e.editcell.column,!1,!0),e._oldselectedcell=null}}}),e.vScrollInstance.valueChanged=function(d){e.virtualsizeinfo&&(e._closemenu(),e.scrollmode!="physical"||e.currentScrollValue!=null&&Math.abs(e.currentScrollValue-d.currentValue)>=5,e._renderrows(e.virtualsizeinfo),e.currentScrollValue=d.currentValue,!e.pageable&&!e.groupable&&e.dataview.virtualmode&&(e.loadondemandupdate&&clearTimeout(e.loadondemandupdate),e.loadondemandupdate=setTimeout(function(){e.loadondemand=!0,e._renderrows(e.virtualsizeinfo)},100)),t&&(e._lastScroll=new Date))},e.hScrollInstance.valueChanged=function(d){if(e.virtualsizeinfo){e._closemenu();var n=function(){e._renderhorizontalscroll(),e._renderrows(e.virtualsizeinfo),e.editcell&&!e.editrow&&e._showcelleditor&&e.editcell.editing&&(e.hScrollInstance.isScrolling()||e._showcelleditor(e.editcell.row,e.getcolumn(e.editcell.column),e.editcell.element,e.editcell.init))};t?n():(e._browser==null?e._isIE10():e._browser,navigator&&navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1?(e._hScrollTimer&&clearTimeout(e._hScrollTimer),e._hScrollTimer=setTimeout(function(){n()},1)):a.jqx.browser.msie?(e._hScrollTimer&&clearTimeout(e._hScrollTimer),e._hScrollTimer=setTimeout(function(){n()},.01)):n()),t&&(e._lastScroll=new Date)}},e._mousewheelfunc=e._mousewheelfunc||function(d){if(!e.editcell&&e.enablemousewheel)return e.wheel(d,e),!1},e.removeHandler(e.host,"mousewheel",e._mousewheelfunc),e.addHandler(e.host,"mousewheel",e._mousewheelfunc);var i="mousedown.jqxgrid";t&&(i=a.jqx.mobile.getTouchEventName("touchend")),e.addHandler(e.host,i,function(d){if(e.isTouchDevice()&&(e._newScroll=new Date,e._newScroll-e._lastScroll<500||a(d.target).ischildof(e.vScrollBar)||a(d.target).ischildof(e.hScrollBar)))return!1;e._mousedown=new Date;var n=e._handlemousedown(d,e);return e.isNestedGrid&&!e.resizablecolumn&&!e.columnsreorder&&d.stopPropagation(),e._lastmousedown=new Date,n}),t||(e.addHandler(e.host,"dblclick.jqxgrid",function(d){return e.editable&&e.begincelledit&&e.editmode=="dblclick"?e._handledblclick(d,e):a.jqx.browser.msie&&a.jqx.browser.version<9&&e._handlemousedown(d,e),e.mousecaptured=!1,e._lastmousedown=new Date,!0}),e._mousemovefunc=function(d){if(e._handlemousemove)return e._handlemousemove(d,e)},e.addHandler(e.content,"mousemove",e._mousemovefunc),e._handlemousemoveselection&&(e._mousemovedocumentfunc=function(d){if(e._handlemousemoveselection)return e._handlemousemoveselection(d,e)},e.addHandler(a(document),"mousemove.selection"+e.element.id,e._mousemovedocumentfunc)),e.addHandler(a(document),"mouseup.selection"+e.element.id,function(d){if(e._handlemouseupselection){if(d.shiftKey&&a(d.target).ischildof(e.host)&&e.autofill){var n=e.editable;e.editable=!1,e._lastmousedown=new Date(2e3,1,1),e._handlemousedown(d,e),e.mousecaptured=!0,e.editable=n}e._handlemouseupselection(d,e)}}));try{if((document.referrer!=""||window.frameElement)&&window.top!=null&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&s.indexOf(document.location.host)!=-1){var o=function(d){if(e._handlemouseupselection)try{e._handlemouseupselection(d,e)}catch{}};e.addHandler(a(window.top.document),"mouseup.grid"+e.element.id,o)}}}catch{}e.focused=!1,t||(e.addHandler(e.content,"mouseenter",function(d){e.focused=!0,e.wrapper&&(e.wrapper.attr("tabindex",1),e.content.attr("tabindex",2)),e._overlayElement&&(e.vScrollInstance.isScrolling()||e.hScrollInstance.isScrolling()?e._overlayElement[0].style.visibility="visible":e._overlayElement[0].style.visibility="hidden")}),e.addHandler(e.content,"mouseleave",function(d){e._handlemousemove&&e.enablehover&&e._clearhoverstyle(),e._overlayElement&&(e._overlayElement[0].style.visibility="hidden"),e.focused=!1}),(e.groupable||e.columnsreorder)&&e.addHandler(a(document),"selectstart."+e.element.id,function(d){if(e.__drag===!0)return!1}),e.addHandler(e.content,"selectstart."+e.element.id,function(d){if(e.enablebrowserselection||e.showfilterrow&&a(d.target).ischildof(e.filterrow)||e.showeverpresentrow&&(a(d.target).ischildof(e.addnewrow)||e.addnewrowtop&&a(d.target).ischildof(e.addnewrowtop))||d.target.className&&d.target.className.indexOf&&d.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(!e.editcell)return!1;d.stopPropagation&&d.stopPropagation()}),e.addHandler(a(document),"keyup.edit"+e.element.id,function(d){e._keydown=!1}),e.addHandler(a(document),"keydown.edit"+e.element.id,function(d){if(e.adaptiveview)return!0;e._keydown=!e.editcell;var n=d.charCode?d.charCode:d.keyCode?d.keyCode:0;if(n===20&&(e._capsLock?e._capsLock=!1:e._capsLock=!0),e.handlekeyboardnavigation&&(e.focused||d.target===e.element||a(d.target).ischildof(e.host))){var f=e.handlekeyboardnavigation(d);if(f==!0)return!1}if(e.editable&&e.editcell&&(n==13||n==27||n==9||n==32)&&e._handleeditkeydown&&(h=e._handleeditkeydown(d,e)),n==27&&(e.mousecaptured=!1,e.selectionarea.css("visibility")=="visible"&&e.selectionarea.css("visibility","hidden")),a.jqx.browser.msie&&a.jqx.browser.version<12&&e.focused&&!e.isNestedGrid){if(n==13&&h==!1)return h;var h=!0,n=d.charCode?d.charCode:d.keyCode?d.keyCode:0;if(!e.editcell&&e.editable&&e.editmode!="programmatic"&&e._handleeditkeydown&&(h=e._handleeditkeydown(d,e)),h&&e.keyboardnavigation&&e._handlekeydown)return h=e._handlekeydown(d,e),h||(d.preventDefault&&d.preventDefault(),d.stopPropagation!=null&&d.stopPropagation()),h}return!0}),e.addHandler(e.host,"keyup.edit"+e.element.id,function(d){if(e.adaptiveview)return!0;if(d.keyCode===9&&!a(document.activeElement).ischildof(e.filterrow)&&!a(document.activeElement).ischildof(e.pager))switch(e.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":e.getselectedcell();break;default:e.getselectedrowindex();break}}),e.addHandler(e.host,"keydown.edit"+e.element.id,function(d){var n=!0;if(e.adaptiveview)return!0;if(e.handlekeyboardnavigation){var f=e.handlekeyboardnavigation(d);if(f==!0)return!1}if(e.editable&&e.editmode!="programmatic"&&e._handleeditkeydown&&(n=e._handleeditkeydown(d,e),e.isNestedGrid&&d.stopPropagation()),!e.editcell&&d.altKey&&!a(document.activeElement).ischildof(e.filterrow)&&!a(document.activeElement).ischildof(e.pager))if(d.keyCode===40){var h=e.getselectedcell();h&&e.openmenu(h.column)}else d.keyCode===38&&e._closemenu();return a.jqx.browser.msie&&a.jqx.browser.version<8?e.isNestedGrid&&n&&e.keyboardnavigation&&e._handlekeydown&&(n=e._handlekeydown(d,e),d.stopPropagation()):n&&e.keyboardnavigation&&e._handlekeydown&&(n=e._handlekeydown(d,e),e.isNestedGrid&&d.stopPropagation()),n||(d.preventDefault&&d.preventDefault(),d.stopPropagation!=null&&d.stopPropagation()),n&&e.selectedcells&&e.selectedcells.length>0&&d.keyCode===9&&d.shiftKey&&e.table&&e.table[0].rows&&e.table[0].rows.length>0&&(a(document.activeElement).ischildof(e.filterrow)||a(document.activeElement).ischildof(e.pager)||e.table[0].rows[0].cells[0].focus()),n}))},_hittestrow:function(e,t){if(!(this.vScrollInstance==null||this.hScrollInstance==null)){var i=this.vScrollInstance,s=this.hScrollInstance,o=i.value;this.vScrollBar.css("visibility")!="visible"&&(o=0),s.value,this.hScrollBar.css("visibility")!="visible",this.scrollmode=="deferred"&&this._newmax!=null&&o>this._newmax&&(o=this._newmax);var d=parseInt(o)+t;if(this.visiblerows!=null&&this.visiblerows.length!=0){var n=!1,f=this._findvisiblerow(d,this.visiblerows);if(f>=0){var h=this.visiblerows[f],c=this.rowdetails&&h.rowdetails,p=!h.rowdetailshidden;if(c){var v=this.visiblerows[f-1];if(v==h&&(h=v,f--),p){var x=a(this.hittestinfo[f].visualrow).position().top+parseInt(this.table.css("top")),w=a(this.hittestinfo[f].visualrow).height();t>=x&&t<=x+w||(f++,h=this.visiblerows[f],n=!0)}}}return{index:f,row:h,details:n}}}},getcellatposition:function(e,t){var i=this.that,s=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0,d=this.showtoolbar?this.toolbarheight:0,n=this.showfilterbar?this.toolbarheight:0;o+=d,o+=n;var f=this.host.coord();this.hasTransform&&(f=a.jqx.utilities.getOffset(this.host));var h=e-f.left,c=t-s-f.top-o,p=this._hittestrow(h,c),v=p.row,x=p.index,w=this.table[0].rows[x];if(this.dataview&&this.dataview.records.length==0){for(var m=this.table[0].rows,g=0,b=0;b<m.length;b++){if(c>=g&&c<g+this.rowsheight){w=m[b];break}g+=this.rowsheight}v={boundindex:b}}if(w==null)return!0;var _=this.hScrollInstance,y=_.value,j=0;this.groupable&&this.groups.length;for(var b=0;b<w.cells.length;b++){var C=parseInt(a(this.columnsrow[0].cells[b]).css("left")),e=C-y;if(i.columns.records[b].pinned&&(e=C),!(i.columns.records[b].hidden||i.columns.records[b].adaptivehidden)){var L=e+a(this.columnsrow[0].cells[b]).width();if(L>=h&&h>=e){j=b;break}}}if(v!=null){var k=this._getcolumnat(j);return{row:this.getboundindex(v),column:k.datafield,value:this.getcellvalue(this.getboundindex(v),k.datafield)}}return null},_handlecardedit:function(e){var t=e.target.getAttribute("row"),i=document.createElement("div"),s=this.getrowdatabyid(t),o='<div class="jqx-grid-card-cell">';o+="<table>";for(var d=0;d<this.columns.records.length;d++){var n=this.columns.records[d];if(!(n.hidden&&n.__hidden===void 0)){var f=s[n.datafield];n.cellsformat!=""&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(f)?f=a.jqx.dataFormat.formatdate(f,n.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(f)&&(f=a.jqx.dataFormat.formatnumber(f,n.cellsformat,this.gridlocalization))),o+='<tr class="jqx-grid-card-table-row">',o+='<td class="jqx-grid-card-cell-label"><div>'+n.text+"</div></td>",o+='<td class="jqx-grid-card-cell-value"><div><input datafield="'+n.datafield+'" class="jqx-widget jqx-input" value="'+f+'"/></div></td>',o+="</tr>"}}o+="</table>",o+="</div>",o+='<div class="jqx-card-edit-buttons"><input style="margin-right: 5px;" type="button" dataid="Save" value="Save" /><input dataid="Cancel" type="button" value="Cancel" /></td>',o+="</div>",i.innerHTML="<div>"+this.gridlocalization.udpaterowstring+" "+t+'</div><div style="overflow: hidden;">'+o+"</div></div>";var h=i.querySelector('[dataid="Save"]'),c=i.querySelector('[dataid="Cancel"]');a(h).jqxButton({template:"primary",width:"40%",theme:this.theme}),a(c).jqxButton({width:"40%",theme:this.theme});var p=this;h.onclick=function(){for(var v=a(i).find("[datafield]"),x={},w=0;w<v.length;w++){for(var m=v[w].getAttribute("datafield"),g=v[w].value,b=0;b<p.dataview.source.datafields.length;b++){var _=p.dataview.source.datafields[b];if(_.name===m){(_.type==="bool"||_.type==="boolean")&&(g=!0);var y=p._getcolumnbydatafield(_.name),j=_.type,C=j==="number"||j==="float"||j==="int"||j==="integer",L=j==="date"||j==="time";if(C||j==="string"&&(y.cellsformat.indexOf("p")!=-1||y.cellsformat.indexOf("c")!=-1||y.cellsformat.indexOf("n")!=-1||y.cellsformat.indexOf("f")!=-1)){if(g===""&&y.nullable)return"";g.indexOf&&g.indexOf(p.gridlocalization.currencysymbol)>-1&&(g=g.replace(p.gridlocalization.currencysymbol,""));var k=function(z,q,B){var S=z;if(q==B)return z;for(var D=S.indexOf(q);D!=-1;)S=S.replace(q,B),D=S.indexOf(q);return S},O=g;if(O=parseFloat(O),!isNaN(O))g=O;else{g=k(g,p.gridlocalization.thousandsseparator,""),g=g.replace(p.gridlocalization.decimalseparator,"."),g.indexOf(p.gridlocalization.percentsymbol)>-1&&(g=g.replace(p.gridlocalization.percentsymbol,""));for(var X="",P=0;P<g.length;P++){var T=g.substring(P,P+1);T==="-"&&(X+="-"),T==="."&&(X+="."),T.match(/^[0-9]+$/)!=null&&(X+=T)}g=X,g=g.replace(/ /g,""),g=new Number(g),isNaN(g)&&(g="")}}if(L||j==="string"&&(y.cellsformat.indexOf("H")!=-1||y.cellsformat.indexOf("m")!=-1||y.cellsformat.indexOf("M")!=-1||y.cellsformat.indexOf("y")!=-1||y.cellsformat.indexOf("h")!=-1||y.cellsformat.indexOf("d")!=-1)){if(g===""&&y.nullable)return"";var I=g;a.jqx.dataFormat&&(g=a.jqx.dataFormat.tryparsedate(I,p.gridlocalization)),(g=="Invalid Date"||g==null)&&(g="")}}}x[m]=g}p.updaterow(t,x),a(i).jqxWindow("close")},c.onclick=function(){a(i).jqxWindow("close")},document.body.appendChild(i),a(i).jqxWindow({position:{left:this.host.offset().left,top:this.host.offset().top},modalOpacity:.01,width:this.element.offsetWidth,height:this.element.offsetHeight,isModal:!0,autoOpen:!1,resizable:!1,draggable:!1}),a(i).jqxWindow("open"),this.cardwindow&&a(this.cardwindow).remove(),this.cardwindow=i},_handlemousedown:function(e,t){if(e.target==null||t.disabled||a(e.target).ischildof(this.columnsheader)||a(e.target).ischildof(this.hScrollBar)||a(e.target).ischildof(this.vScrollBar)||e.target===t.bottomRight[0])return!0;t.cardview&&e.target&&e.target.className.indexOf("jqx-icon-edit")>=0&&t._handlecardedit(e);var i;e.which?i=e.which==3:e.button&&(i=e.button==2);var s;if(e.which?s=e.which==2:e.button&&(s=e.button==1),s||this.adaptiveview&&(a(e.target).ischildof(a(this.adaptiveview))||e.target==this.adaptiveview)||this.showstatusbar&&(a(e.target).ischildof(this.statusbar)||e.target==this.statusbar[0])||this.showtoolbar&&(a(e.target).ischildof(this.toolbar)||e.target==this.toolbar[0])||this.showfilterbar&&(a(e.target).ischildof(this.filterbar)||e.target==this.filterbar[0])||this.pageable&&(a(e.target).ischildof(this.pager)||e.target==this.pager[0])||!this.columnsheader||!this.editcell&&this.pageable&&a(e.target).ischildof(this.pager))return!0;var o=this.showheader?this.columnsheader.height()+2:0,d=this._groupsheader()?this.groupsheader.height():0,n=this.showtoolbar?this.toolbarheight:0,f=this.showfilterbar?this.toolbarheight:0;d+=n,d+=f;var h=this.host.coord();if(this.hasTransform){h=a.jqx.utilities.getOffset(this.host);var c=this._getBodyOffset();h.left-=c.left,h.top-=c.top}var p=parseInt(e.pageX),v=parseInt(e.pageY);if(this.isTouchDevice()){var x=t.getTouches(e),w=x[0];p=parseInt(w.pageX),v=parseInt(w.pageY),t.touchmode==!0&&w._pageX!=null&&(p=parseInt(w._pageX),v=parseInt(w._pageY))}var m=p-h.left,g=v-o-h.top-d;if(this.pageable&&!this.autoheight&&this.gotopage){var b=this.pager.coord().top-h.top-d-o;if(g>b)return}var _=this._hittestrow(m,g);if(_&&!_.details){var y=_.row,j=_.index,C=e.target.className,L=this.table[0].rows[j];if(L==null)return t.editable&&t.begincelledit&&t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),!0;t.mousecaptured=!0,t.mousecaptureposition={left:e.pageX,top:e.pageY-d,clickedrow:L};var k=this.hScrollInstance,O=k.value;this.rtl&&this.hScrollBar.css("visibility")!="hidden"&&(O=k.max-k.value);var X=-1,P=this.groupable?this.groups.length:0;this.rtl&&(this.vScrollBar[0].style.visibility!="hidden"&&(O-=this.scrollbarsize+4),this.hScrollBar[0].style.visibility=="hidden"&&(O=-parseInt(this.content.css("left"))));for(var T=0;T<L.cells.length;T++){var I=parseInt(a(this.columnsrow[0].cells[T]).css("left")),p=I-O;t.columns.records[T].pinned&&!t.rtl&&(p=I);var z=this._getcolumnat(T);if(!(z!=null&&z.hidden)&&!(z!=null&&z.adaptivehidden)){var q=p+a(this.columnsrow[0].cells[T]).width();if(q>=m&&m>=p){X=T,t.mousecaptureposition.clickedcell=T;break}}}if(this.rtl&&this._haspinned)for(var T=L.cells.length-1;T>=0&&t.columns.records[T].pinned;T--){var I=a(this.columnsrow[0].cells[T]).coord().left-this.host.coord().left,p=I,z=this._getcolumnat(T);if(!(z!=null&&z.hidden)&&!(z!=null&&z.adaptivehidden)){var q=p+a(this.columnsrow[0].cells[T]).width();if(q>=m&&m>=p){X=T,t.mousecaptureposition.clickedcell=T;break}}}if(y!=null&&X>=0){this._raiseEvent(1,{rowindex:this.getboundindex(y),visibleindex:y.visibleindex,row:y,group:y.group,rightclick:i,originalEvent:e});var z=this._getcolumnat(X),B=this.getcellvalue(this.getboundindex(y),z.datafield);if(this.editable&&this.editcell&&(this._currentEditableColumn=X,z.datafield==this.editcell.column&&this.getboundindex(y)==this.editcell.row&&(this.mousecaptured=!1)),z.columntype==="adaptive"){var S=document.createElement("div"),D=document.createElement("div"),H=document.createElement("a"),G=document.createElement("a"),N=document.createElement("div"),A=this.getrowdata(this.getboundindex(y));H.href="#",G.href="#",S.style.zIndex=99999,S.style.position="absolute",S.style.left="0px",S.style.top="0px",S.style.width="100%",S.style.height="100%",S.className="jqx-adaptive-view jqx-widget-content",N.style.position="relative",N.style.top="100%",N.style.textAlign="center",N.style.marginTop="-40px",D.style.position="absolute",D.style.left="0px",D.style.top="0px",D.style.width="100%",D.style.height="100%",this.theme&&(S.className="jqx-widget-content jqx-widget-content-"+this.theme);var M=document.createElement("span");M.className="jqx-icon-close",this.theme&&(M.className="jqx-icon-close jqx-widget-close-"+this.theme),M.style.zIndex=99,M.style.position="absolute",M.style.right="10px",M.style.top="10px",M.style.width="16px",M.style.height="16px",S.appendChild(D),S.appendChild(M),H.innerHTML=this.gridlocalization.okstring,G.innerHTML=this.gridlocalization.cancelstring,H.addEventListener("mousedown",function(ee){for(var te={},Z=t.adaptiveview.querySelectorAll("input"),ie=0;ie<Z.length;ie++){var se=t.escape_HTML(Z[ie].value),K=Z[ie].getAttribute("data-column");te[K]=se}return t.updaterow(A.uid,te),S.parentNode.removeChild(S),t.adaptiveview=null,ee.stopPropagation(),!1}),G.addEventListener("mousedown",function(){return S.parentNode.removeChild(S),t.adaptiveview=null,e.stopPropagation(),!1}),this.editable&&(N.appendChild(H),N.appendChild(G),S.appendChild(N));for(var Q="<table class='jqx-adaptive-table'><tr>",j=0,T=0;T<this.columns.records.length;T++){var z=this.columns.records[T];if(z.columntype!=="adaptive"&&z.datafield!=="_checkboxcolumn"){T>0&&j%2===0&&(Q+="</tr><tr>");var U=A[z.displayfield];z.cellsformat!=""&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(U)?U=a.jqx.dataFormat.formatdate(U,z.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(U)&&(U=a.jqx.dataFormat.formatnumber(U,z.cellsformat,this.gridlocalization)));var Y=this.filterable?'<div datafield="'+z.datafield+'" class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="position: relative; top: 4px; display: inline-block; width: 16px; height:16px;"></div>':"";this.editable?z.editable?Q+="<td>"+Y+this.escape_HTML(z.text)+": <input data-column='"+z.displayfield+"' value='"+U+"'/></td>":Q+="<td>"+Y+this.escape_HTML(z.text)+": <input data-column='"+z.displayfield+"' readonly value='"+U+"'/></td>":Q+="<td>"+Y+this.escape_HTML(z.text)+": "+U+"</td>",j++}}Q+="</tr></table>",D.innerHTML=Q,M.addEventListener("mousedown",function(ee){S.parentNode.removeChild(S),t.adaptiveview=null}),this.wrapper[0].appendChild(S),this.adaptiveview=S,a(this.adaptiveview).find(".jqx-grid-column-filterbutton").on("click",function(){var ee=this.getAttribute("datafield"),te=this.offsetTop;t.openmenu(ee),setTimeout(function(){t.gridmenu.css("top",30+te),t.gridmenu.css("left",25),t.gridmenu.css("z-index",99999),t.gridmenu.parent().css("z-index",99999)},300)});return}if(z.datafield==="_commandColumn"){var j=this.getboundindex(y);!this._commandColumnEdit&&e.target&&e.target.hasAttribute("edit")?(this._commandColumnEdit=y,this._commandColumnEditMode=this.editmode,this.editmode="selectedrow",this._rendervisualrows(),this.beginrowedit(j)):e.target&&e.target.hasAttribute("cancel")?(this.endrowedit(j,!0),this._cellscache=new Array,this._renderrows(this.virtualsizeinfo)):e.target&&e.target.hasAttribute("update")&&(this.endrowedit(j,!1),this._cellscache=new Array,this._renderrows(this.virtualsizeinfo))}if(this._raiseEvent(8,{rowindex:this.getboundindex(y),column:z?z.getcolumnproperties():null,row:y,visibleindex:y.visibleindex,datafield:z?z.datafield:null,columnindex:X,value:B,rightclick:i,originalEvent:e}),z.createwidget)return!0;if(this.isTouchDevice()){if(z.columntype=="checkbox"&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(j,z.datafield),!0}else if(z.columntype=="button"&&this._overlayElement)return z.buttonclick&&z.buttonclick(L.cells[X].buttonrow,e),!0}var E=!1;if(this._lastmousedown!=null&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(y)&&(this._raiseEvent(22,{rowindex:this.getboundindex(y),row:y,visibleindex:y.visibleindex,group:y.group,rightclick:i,originalEvent:e}),this._clickedcolumn==z.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(y),row:y,visibleindex:y.visibleindex,column:z?z.getcolumnproperties():null,datafield:z?z.datafield:null,columnindex:X,value:B,rightclick:i,originalEvent:e}),E=!0,this._clickedrowindex=-1,this._clickedcolumn=null,e.isPropagationStopped&&e.isPropagationStopped()))return!1;if(i)return!0;E||(this._clickedrowindex=this.getboundindex(y),this._clickedcolumn=z.datafield);var R=a.jqx.utilities.getBrowser();if(R.browser=="msie"&&parseInt(R.version)<=7&&(X==0&&this.rowdetails&&(C="jqx-grid-group-collapse"),P>0&&X<=P&&(C="jqx-grid-group-collapse")),C.indexOf||(C=""),C.indexOf("jqx-grid-group-expand")!=-1||C.indexOf("jqx-grid-group-collapse")!=-1)this.rtl?P>0&&X>L.cells.length-P-1&&this._togglegroupstate?this._togglegroupstate(y.bounddata,!0):X==L.cells.length-1-P&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(y.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):P>0&&X<P&&this._togglegroupstate?this._togglegroupstate(y.bounddata,!0):X==P&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(y.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(y.boundindex!=-1){var $=this.selectedrowindexes.slice(0),F=!1;if(t.selectionmode!="none"&&t.selectionmode!="checkbox"&&this._selectrowwithmouse){(t.selectionmode=="multiplecellsadvanced"||t.selectionmode=="multiplecellsextended"||t.selectionmode=="multiplerowsextended"||t.selectionmode=="multiplerowsadvanced")&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey&&(t.selectedrowindexes=new Array,t.selectedcells=new Array);var W=!1,V=this.getboundindex(y);(t._oldselectedrow===V||t.selectionmode==="none")&&(W=!0),t.selectionmode.indexOf("cell")==-1?(t.selectionmode!="singlerow"||t.selectedrowindex!=V&&t.selectionmode=="singlerow")&&(this._applyrowselection(V,!0,!1,null,z.datafield),this._selectrowwithmouse(t,_,$,z.datafield,e.ctrlKey||e.metaKey,e.shiftKey)):z.datafield!=null&&(this._selectrowwithmouse(t,_,$,z.datafield,e.ctrlKey||e.metaKey,e.shiftKey),e.shiftKey||this._applycellselection(V,z.datafield,!0,!1)),t._oldselectedcell&&t._oldselectedcell.datafield==t.selectedcell.datafield&&t._oldselectedcell.rowindex==t.selectedcell.rowindex&&(F=!0),t._oldselectedcell=t.selectedcell,t._oldselectedrow=V}if(t.autosavestate&&t.savestate&&t.savestate(),t.editable&&t.begincelledit&&t.editmode!="programmatic"){if(e.isPropagationStopped&&e.isPropagationStopped())return!1;if(t.editmode=="selectedrow")W&&!t.editcell?z.columntype!=="checkbox"&&(this._currentEditableColumn=X,t.beginrowedit(this.getboundindex(y))):t.editcell&&!W&&t.selectionmode!="none"&&t.endrowedit(t.editcell.row);else{var V=this.getboundindex(y),le=t.editmode=="click"||F&&t.editmode=="selectedcell";t.selectionmode.indexOf("cell")==-1&&t.editmode!="dblclick"&&(le=!0),le&&y.boundindex!=null&&z.editable&&(t.begincelledit(this.getboundindex(y),z.datafield,z.defaulteditorvalue,!1),t.selectionmode.indexOf("cell")!=-1&&t._applycellselection(V,z.datafield,!1,!1)),t.selectionmode.indexOf("cell")!=-1&&t.editmode=="selectedcell"&&!F&&t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.editmode=="dblclick"&&!F&&t.editcell&&!(t.editcell.row==V&&z.datafield==t.editcell.column)&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(e,t,i,s){},_rowPropertyChanged:function(e,t,i,s){},_serializeObject:function(e){if(e==null)return"";var t="";return a.each(e,function(i){var s=this;i>0&&(t+=", "),t+="[";var o=0;for(var d in s)o>0&&(t+=", "),t+="{"+d+":"+s[d]+"}",o++;t+="]"}),t},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&Object.keys(i).length==2&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(e,t,i,s){if(!(this.isInitialized==null||this.isInitialized==!1)&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&Object.keys(e.batchUpdate).length==2))switch(t=t.toLowerCase(),t){case"sortmode":e.sortcolumns=[];break;case"cardview":case"cardviewsize":case"cardviewcolumns":case"cardheight":t==="cardview"&&s&&(e._oldrowsheight=e.rowsheight),e.prerenderrequired==!0,e.rowsheight=32,e.__rowsheight=e.rowsheight,e.virtualsizeinfo=null,e.cardview?(e.__rowsheight=e.rowsheight,e.rowsheight=e.cardheight):e._oldrowsheight&&(e.__rowsheight=e._oldrowsheight,e.rowsheight=e._oldrowsheight,delete e._oldrowsheight),e.virtualsizeinfo=null,e.rendergridcontent(!0,!1),e.refreshdata();break;case"compact":var o=e;o.compact?(o.element.setAttribute("compact",""),this.rowsheight=25,this.columnsheight=25,this.pagerheight=30,this.groupsheaderheight=25):(o.element.removeAttribute("compact",""),this.rowsheight=32,this.columnsheight=36,this.pagerheight=40,this.groupsheaderheight=34),e.virtualsizeinfo=null,e.rendergridcontent(!0,!1),e.refreshdata();break;case"editable":case"showcolumnheaderlines":case"showcolumnlines":case"showrowlines":e.refresh();break;case"everpresentrowactionsmode":i!=s&&(e._removeaddnewrow(),e.render());break;case"everpresentrowactions":e._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":i!=s&&(e._removeaddnewrow(),e.render());break;case"rtl":e.content.css("left",""),e.columns=e._columns,e._filterrowcache=[],e.vScrollBar.jqxScrollBar({rtl:s}),e.hScrollBar.jqxScrollBar({rtl:s}),e._initpager&&e._initpager(),e._initgroupsheader&&e._initgroupsheader(),e.render();break;case"enablebrowserselection":e.showfilterrow||(!e.showstatusbar&&!e.showtoolbar&&e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect")),e.enablebrowserselection&&(e.content.removeClass("jqx-disableselect"),e.host.removeClass("jqx-disableselect"));break;case"columnsheight":(e.columnsheight!=32||e.columngroups)&&e._measureElement("column"),e._render(!0,!0,!0,!1,!1);break;case"rowsheight":s!=i&&(e.rowsheight!=31&&e._measureElement("cell"),e.virtualsizeinfo=null,e.rendergridcontent(!0,!1),e.refresh());break;case"scrollMode":e.vScrollInstance.thumbStep=e.rowsheight;break;case"showdefaultloadelement":e._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":e._initmenu();break;case"touchmode":i!=s&&(e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:s}),e.hScrollBar.jqxScrollBar({touchMode:s}),e._updateTouchScrolling(),e._arrange(),e._updatecolumnwidths(),e._updatecellwidths(),e._addHandlers());break;case"autoshowcolumnsmenubutton":i!=s&&e._rendercolumnheaders();break;case"rendergridrows":i!=s&&e.updatebounddata();break;case"editmode":i!=s&&(e._removeHandlers(),e._addHandlers());break;case"source":e.updatebounddata(),e.virtualmode&&!e._loading&&(e.loadondemand=!0,e._renderrows(e.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":e._initgroupsheader&&e._initgroupsheader();break;case"showgroupsheader":i!=s&&(e._arrange(),e._initgroupsheader&&e._initgroupsheader(),e._renderrows(e.virtualsizeinfo));break;case"theme":s!=i&&(a.jqx.utilities.setTheme(i,s,e.host),e.gridmenu&&e.gridmenu.jqxMenu({theme:s}),e.pageable&&e._updatepagertheme(),e.filterable&&e._updatefilterrowui(!0),e.showeverpresentrow&&e._updateaddnewrowui(!0),e._applyThemeSettings());break;case"showtoolbar":case"showfilterbar":case"toolbarheight":i!=s&&(e._arrange(),e.refresh());break;case"showstatusbar":i!=s&&(e.statusbar&&(s?e.statusbar.show():e.statusbar.hide()),e._arrange(),e.refresh());break;case"statusbarheight":i!=s&&(e._arrange(),e.refresh());break;case"filterable":case"showfilterrow":i!=s&&e.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":i!=s&&e.rendergridcontent();break;case"showrowdetailscolumn":i!=s&&e.render();break;case"scrollbarsize":i!=s&&(a.jqx.utilities.scrollBarSize=s,e._arrange());break;case"width":case"height":i!=s&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":i!=s&&e._renderrows(e.virtualsizeinfo);break;case"groupsheaderheight":i!=s&&(e._arrange(),e._initgroupsheader&&e._initgroupsheader());break;case"pagerheight":i!=s&&e._initpager();break;case"selectedrowindex":e.selectrow(s);break;case"selectionmode":i!=s&&(s=="none"&&(e.selectedrowindexes=new Array,e.selectedcells=new Array,e.selectedrowindex=-1),e._renderrows(e.virtualsizeinfo),s=="checkbox"&&e._render(!1,!1,!0,!1,!1));break;case"showheader":s?e.columnsheader.css("display","block"):e.columnsheader.css("display","none");break;case"virtualmode":i!=s&&(e.dataview.virtualmode=e.virtualmode,e.dataview.refresh(!1),e._render(!1,!1,!1));break;case"columnsmenu":i!=s&&e.render();break;case"columngroups":e._render(!0,!0,!0,!1,!1);break;case"commandcolumn":case"columns":if(e.columns&&e.columns.length>e.headerZIndex&&(e.headerZIndex=e.columns.length+100),e._serializeObject(e._cachedcolumns)!==e._serializeObject(s)){var d=!1;e.filterable&&i&&i.records&&a.each(i.records,function(){this.filter&&(d=!0),e.dataview.removefilter(this.displayfield,this.filter)}),e._columns=null,e._filterrowcache=[],e.render(),d&&e.applyfilters(),e._cachedcolumns=e.columns,e.removesort&&e.removesort()}else e[t]=i;break;case"autoheight":i!=s&&e._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":i!=s&&e._initpager&&(e.pagershowrowscombo&&(e.pagershowrowscombo.jqxDropDownList("destroy"),e.pagershowrowscombo=null),e.pagerrightbutton&&(e.removeHandler(e.pagerrightbutton,"mousedown"),e.removeHandler(e.pagerrightbutton,"mouseup"),e.removeHandler(e.pagerrightbutton,"click"),e.pagerrightbutton.jqxButton("destroy"),e.pagerrightbutton=null),e.pagerleftbutton&&(e.removeHandler(e.pagerleftbutton,"mousedown"),e.removeHandler(e.pagerleftbutton,"mouseup"),e.removeHandler(e.pagerleftbutton,"click"),e.pagerleftbutton.jqxButton("destroy"),e.removeHandler(a(document),"mouseup.pagerbuttons"+e.element.id),e.pagerleftbutton=null),e.pagerdiv.remove(),e._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(i!=s){if(e._loading)throw new Error("jqxGrid: "+e.loadingerrormessage);if(!e.host.jqxDropDownList||!e.host.jqxListBox){e._testmodules();return}if(e._initpager){if(t!="pageable"&&t!="pagermode"&&typeof s=="string"){var n="The expected value type is: Int.";if(t!="pagesize")var n="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+t+". "+n)}e.dataview.pageable=e.pageable,e.dataview.pagenum=0,e.dataview.pagesize=e._getpagesize(),e.virtualmode&&e.updatebounddata(),e.dataview.refresh(!0),e._initpager(),t=="pagesizeoptions"&&s!=null&&s.length>0&&(e.pagesize=parseInt(s[0]),e.dataview.pagesize=parseInt(s[0]),e.prerenderrequired=!0,e._requiresupdate=!0,e.dataview.pagenum=-1,e.gotopage(0))}e._render(!1,!1,!1)}break;case"groups":e._serializeObject(i)!==e._serializeObject(s)&&(e.dataview.groups=s,e._refreshdataview(),e._render(!0,!0,!0,!1));break;case"groupable":i!=s&&(e.dataview.groupable=e.groupable,e.dataview.pagenum=0,e.dataview.refresh(!1),e._render(!1,!1,!0));break;case"renderstatusbar":s!=null&&e.renderstatusbar(e.statusbar);break;case"rendertoolbar":s!=null&&e.rendertoolbar(e.toolbar);break;case"disabled":s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),a.jqx.aria(e,"aria-disabled",e.disabled),e.pageable&&(e.pagerrightbutton&&(e.pagerrightbutton.jqxButton({disabled:s}),e.pagerleftbutton.jqxButton({disabled:s}),e.pagershowrowscombo.jqxDropDownList({disabled:s}),e.pagergotoinput.attr("disabled",s)),e.pagerfirstbutton&&(e.pagerfirstbutton.jqxButton({disabled:s}),e.pagerlastbutton.jqxButton({disabled:s}))),e.vScrollBar.jqxScrollBar({disabled:s}),e.hScrollBar.jqxScrollBar({disabled:s}),e.filterable&&e.showfilterrow&&e._updatefilterrowui(!0),e.showeverpresentrow&&e._updateaddnewrowui(!0);break}}});function r(e,t){return this.owner=e,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.adaptivehidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.selectable=!1,this.autofill=!0,this.sparklines={type:"column",colors:["#D50000","#E67C73","#F4511E","#F6BF26","#33B679","#0B8043","#039BE5","#3F51B5","#7986CB","#8E24AA","#616161"]},this._applyStyle=function(){var i=this;if(i.hovered){i.style.headerBackgroundHoveredColor&&(i.element.style.backgroundColor=i.style.headerBackgroundHoveredColor),i.style.headerHoveredColor&&(i.element.style.color=i.style.headerHoveredColor);return}if(i.selected){i.style.headerBackgroundSelectedColor&&(i.element.style.backgroundColor=i.style.headerBackgroundSelectedColor),i.style.headerSelectedColor&&(i.element.style.color=i.style.headerSelectedColor);return}i.style.headerBackgroundColor?i.element.style.backgroundColor=i.style.headerBackgroundColor:i.element.style.backgroundColor="",i.style.headerColor?i.element.style.color=i.style.headerColor:i.element.style.color=""},this._applyCellStyle=function(i){var s=this,o=!1;if(i.length){for(var d=0;d<i.length;d++)this._applyCellStyle(i[d]);return}if((s.style.backgroundColor||s.style.color||s.style.hoveredColor||s.style.hoveredColor||s.style.backgroundSelectedColor||s.style.selectedColor)&&(o=!0),!!o){if(i.className.indexOf("hover")>=0){s.style.backgroundHoveredColor&&(i.style.backgroundColor=s.style.backgroundHoveredColor),s.style.hoveredColor&&(i.style.color=s.style.hoveredColor);return}if(i.className.indexOf("selected")>=0){s.style.backgroundSelectedColor&&(i.style.backgroundColor=s.style.backgroundSelectedColor),s.style.selectedColor&&(i.style.color=s.style.selectedColor);return}s.style.backgroundColor&&(i.style.backgroundColor=s.style.backgroundColor),s.style.color&&(i.style.color=s.style.color),s.style.fontFamily&&(i.style.fontFamily=s.style.fontFamily),s.style.fontWeight&&(i.style.fontWeight=s.style.fontWeight)}},this.style={headerBackgroundColor:"",headerColor:"",headerBackgroundHoveredColor:"",headerHoveredColor:"",headerBackgroundSelectedColor:"",headerSelectedColor:"",backgroundColor:"",color:"",backgroundHoveredColor:"",hoveredColor:"",backgroundSelectedColor:"",selectedColor:"",fontFamily:"",fontWeight:""},this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(i,s){if(this[i]){var o=this[i];this[i]=s,this.owner._columnPropertyChanged(this,i,s,o)}else if(this[i.toLowerCase()]){var o=this[i.toLowerCase()];this[i.toLowerCase()]=s,this.owner._columnPropertyChanged(this,i.toLowerCase(),s,o)}},this._initfields=function(i){if(i!=null){var s=this.that;if(a.jqx.hasProperty(i,"dataField")&&(this.datafield=a.jqx.get(i,"dataField")),a.jqx.hasProperty(i,"selectable")&&(this.selectable=a.jqx.get(i,"selectable")),a.jqx.hasProperty(i,"displayField")?this.displayfield=a.jqx.get(i,"displayField"):this.displayfield=this.datafield,a.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=a.jqx.get(i,"enableTooltips")),a.jqx.hasProperty(i,"text")?this.text=a.jqx.get(i,"text"):this.text=this.displayfield,a.jqx.hasProperty(i,"style")&&(this.style=a.jqx.get(i,"style")),a.jqx.hasProperty(i,"createfilterpanel")&&(this.createfilterpanel=a.jqx.get(i,"createfilterpanel")),a.jqx.hasProperty(i,"sortable")&&(this.sortable=a.jqx.get(i,"sortable")),a.jqx.hasProperty(i,"hideable")&&(this.hideable=a.jqx.get(i,"hideable")),a.jqx.hasProperty(i,"hidden")&&(this.hidden=a.jqx.get(i,"hidden")),a.jqx.hasProperty(i,"adaptivehidden")&&(this.adaptivehidden=a.jqx.get(i,"adaptivehidden")),a.jqx.hasProperty(i,"groupable")&&(this.groupable=a.jqx.get(i,"groupable")),a.jqx.hasProperty(i,"renderer")&&(this.renderer=a.jqx.get(i,"renderer")),a.jqx.hasProperty(i,"align")&&(this.align=a.jqx.get(i,"align")),a.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=a.jqx.get(i,"cellsAlign")),a.jqx.hasProperty(i,"clipboard")&&(this.clipboard=a.jqx.get(i,"clipboard")),a.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=a.jqx.get(i,"cellsFormat")),a.jqx.hasProperty(i,"width")&&(this.width=a.jqx.get(i,"width")),a.jqx.hasProperty(i,"autofill")&&(this.autofill=a.jqx.get(i,"autofill")),a.jqx.hasProperty(i,"minWidth")&&(this.minwidth=parseInt(a.jqx.get(i,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),a.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=parseInt(a.jqx.get(i,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),a.jqx.hasProperty(i,"cellsRenderer")?this.cellsrenderer=a.jqx.get(i,"cellsRenderer"):i.cellsRenderer&&(this.cellsrenderer=i.cellsRenderer),a.jqx.hasProperty(i,"columnType")&&(this.columntype=a.jqx.get(i,"columnType")),a.jqx.hasProperty(i,"checkChange")&&(this.checkchange=a.jqx.get(i,"checkChange")),a.jqx.hasProperty(i,"buttonClick")?this.buttonclick=a.jqx.get(i,"buttonClick"):i.buttonClick&&(this.buttonclick=i.buttonClick),a.jqx.hasProperty(i,"pinned")&&(this.pinned=a.jqx.get(i,"pinned")),a.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=a.jqx.get(i,"visibleIndex")),a.jqx.hasProperty(i,"filterable")&&(this.filterable=a.jqx.get(i,"filterable")),a.jqx.hasProperty(i,"filter")&&(this.filter=a.jqx.get(i,"filter")),a.jqx.hasProperty(i,"resizable")&&(this.resizable=a.jqx.get(i,"resizable")),a.jqx.hasProperty(i,"editable")&&(this.editable=a.jqx.get(i,"editable")),a.jqx.hasProperty(i,"initEditor")?this.initeditor=a.jqx.get(i,"initEditor"):i.initEditor&&(this.initeditor=i.initEditor),a.jqx.hasProperty(i,"createEditor")?this.createeditor=a.jqx.get(i,"createEditor"):i.createEditor&&(this.createeditor=i.createEditor),a.jqx.hasProperty(i,"initWidget")?this.initwidget=a.jqx.get(i,"initWidget"):i.initWidget&&(this.initwidget=i.initWidget),a.jqx.hasProperty(i,"createWidget")?this.createwidget=a.jqx.get(i,"createWidget"):i.createWidget&&(this.createwidget=i.createWidget),a.jqx.hasProperty(i,"destroyWidget")?this.destroywidget=a.jqx.get(i,"destroyWidget"):i.destroyWidget&&(this.destroywidget=i.destroyWidget),a.jqx.hasProperty(i,"reseteverpresentrowwidgetvalue")||a.jqx.hasFunction(i,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=a.jqx.get(i,"reseteverpresentrowwidgetvalue"):i.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=i.resetEverPresentRowWidgetValue),a.jqx.hasProperty(i,"geteverpresentrowwidgetvalue")||a.jqx.hasFunction(i,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=a.jqx.get(i,"geteverpresentrowwidgetvalue"):i.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=i.getEverPresentRowWidgetValue),a.jqx.hasProperty(i,"createeverpresentrowwidget")||a.jqx.hasFunction(i,"createeverpresentrowwidget")?this.createeverpresentrowwidget=a.jqx.get(i,"createeverpresentrowwidget"):i.createEverPresentRowWidget&&(this.createeverpresentrowwidget=i.createEverPresentRowWidget),a.jqx.hasProperty(i,"initeverpresentrowwidget")||a.jqx.hasFunction(i,"initeverpresentrowwidget")?this.initeverpresentrowwidget=a.jqx.get(i,"initeverpresentrowwidget"):i.initEverPresentRowWidget&&(this.initeverpresentrowwidget=i.initEverPresentRowWidget),a.jqx.hasProperty(i,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=a.jqx.get(i,"validateeverpresentrowwidgetvalue"):i.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=i.validateEverPresentRowWidgetValue),a.jqx.hasProperty(i,"destroyeverpresentrowwidget")||a.jqx.hasFunction(i,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=a.jqx.get(i,"destroyeverpresentrowwidget"):i.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=i.destroyEverPresentRowWidget),a.jqx.hasProperty(i,"destroyEditor")?this.destroyeditor=a.jqx.get(i,"destroyEditor"):i.destroyEditor&&(this.destroyeditor=i.destroyEditor),a.jqx.hasProperty(i,"getEditorValue")?this.geteditorvalue=a.jqx.get(i,"getEditorValue"):i.getEditorValue&&(this.geteditorvalue=i.getEditorValue),a.jqx.hasProperty(i,"validation")?this.validation=a.jqx.get(i,"validation"):i.validation&&(this.validation=i.validation),a.jqx.hasProperty(i,"cellBeginEdit")?this.cellbeginedit=a.jqx.get(i,"cellBeginEdit"):i.cellBeginEdit&&(this.cellbeginedit=i.cellBeginEdit),a.jqx.hasProperty(i,"cellEndEdit")?this.cellendedit=a.jqx.get(i,"cellEndEdit"):i.cellEndEdit&&(this.cellendedit=i.cellEndEdit),a.jqx.hasProperty(i,"className")&&(this.classname=a.jqx.get(i,"className")),a.jqx.hasProperty(i,"cellClassName")?this.cellclassname=a.jqx.get(i,"cellClassName"):i.cellClassName&&(this.cellclassname=i.cellClassName),a.jqx.hasProperty(i,"menu")&&(this.menu=a.jqx.get(i,"menu")),a.jqx.hasProperty(i,"aggregates")&&(this.aggregates=a.jqx.get(i,"aggregates")),a.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=a.jqx.get(i,"aggregatesRenderer")),a.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=a.jqx.get(i,"createFilterWidget")),a.jqx.hasProperty(i,"filterType")&&(this.filtertype=a.jqx.get(i,"filterType")),a.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=a.jqx.get(i,"filterDelay")),a.jqx.hasProperty(i,"rendered")&&(this.rendered=a.jqx.get(i,"rendered")),a.jqx.hasProperty(i,"exportable")&&(this.exportable=a.jqx.get(i,"exportable")),a.jqx.hasProperty(i,"filterItems")&&(this.filteritems=a.jqx.get(i,"filterItems")),a.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=a.jqx.get(i,"cellValueChanging")),a.jqx.hasProperty(i,"draggable")&&(this.draggable=a.jqx.get(i,"draggable")),a.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=a.jqx.get(i,"filterCondition")),a.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=a.jqx.get(i,"threeStateCheckbox")),a.jqx.hasProperty(i,"nullable")&&(this.nullable=a.jqx.get(i,"nullable")),a.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=a.jqx.get(i,"columnGroup")),a.jqx.hasProperty(i,"sparklines")&&(this.sparklines=a.jqx.get(i,"sparklines")),!i instanceof String&&typeof i!="string"){for(var o in i)if(!s.hasOwnProperty(o)&&!s.hasOwnProperty(o.toLowerCase()))throw e.host.remove(),new Error("jqxGrid: Invalid property name - "+o+".")}}},this._initfields(t),this}function l(e,t){return this.setdata=function(i){i!=null&&(this.bounddata=i,this.boundindex=i.boundindex,this.visibleindex=i.visibleindex,this.group=i.group,this.parentbounddata=i.parentItem,this.uniqueid=i.uniqueid,this.level=i.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(i){this.hidden=i.hidden,this.rowdetails=i.rowdetails,this.rowdetailsheight=i.rowdetailsheight,this.rowdetailshidden=!i.showdetails,this.height=i.height},this}a.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(t){},this.clear=function(){this.records=new Array},this.replace=function(t,i){this.records[t]=i,this.updating||this._raiseEvent({type:"replace",element:i})},this.isempty=function(t){return this.records[t]==null},this.initialize=function(t){t<1&&(t=1),this.records[t-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(t){return this.records.indexOf(t)},this.add=function(t){return t==null?!1:(this.records[this.records.length]=t,this.updating||this._raiseEvent({type:"add",element:t}),!0)},this.insertAt=function(t,i){return t==null||t==null||i==null?!1:t>=0?t<this.records.length?(this.records.splice(t,0,i),this.updating||this._raiseEvent({type:"insert",index:t,element:i}),!0):this.add(i):!1},this.remove=function(t){if(t==null||t==null)return!1;var i=this.records.indexOf(t);return i!=-1?(this.records.splice(i,1),this.updating||this._raiseEvent({type:"remove",element:t}),!0):!1},this.removeAt=function(t){if(t==null||t==null||t<0)return!1;if(t<this.records.length){var i=this.records[t];return this.records.splice(t,1),this.updating||this._raiseEvent({type:"removeAt",index:t,element:i}),!0}return!1},this},a.jqx.dataview=function(){return this.self=this,this.aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,e==null&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(e,t){var i=!!e._source,s=null;this.grid&&(this.aggregates=this.grid.showgroupaggregates),i?(s=e,e=e._source):s=new a.jqx.dataAdapter(e,{autoBind:!1});var o=function(P){s.recordids=[],s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s._options.virtualmode=P.virtualmode,s._options.totalrecords=P.totalrecords,s._options.originaldata=P.originaldata,s._options.recordids=P.recordids,s._options.cachedrecords=new Array,s._options.pagenum=P.pagenum,s._options.pageable=P.pageable,e.type!=null&&(s._options.type=e.type),e.formatdata!=null&&(s._options.formatData=e.formatdata),e.contenttype!=null&&(s._options.contentType=e.contenttype),e.async!=null&&(s._options.async=e.async),e.updaterow!=null&&(s._options.updaterow=e.updaterow),e.addrow!=null&&(s._options.addrow=e.addrow),e.deleterow!=null&&(s._options.deleterow=e.deleterow),P.pagesize==0&&(P.pagesize=10),s._options.pagesize=P.pagesize},d=function(P){if(P.totalrecords=s.totalrecords,!P.virtualmode)P.originaldata=s.originaldata,P.records=s.records,P.recordids=s.recordids,P.cachedrecords=s.cachedrecords;else{var T={startindex:P.pagenum*P.pagesize,endindex:P.pagenum*P.pagesize+P.pagesize};if(e.recordstartindex!=null&&(T.startindex=parseInt(e.recordstartindex)),e.recordendindex!=null?T.endindex=parseInt(e.recordendindex):P.grid.pageable||(T.endindex=T.startindex+100,P.grid.autoheight&&(T.endindex=T.startindex+P.totalrecords)),e.recordendindex||(P.grid.pageable?T={startindex:P.pagenum*P.pagesize,endindex:P.pagenum*P.pagesize+P.pagesize}:(T.endindex=T.startindex+100,P.grid.autoheight&&(T.endindex=T.startindex+P.totalrecords))),T.data=s.records,P.grid.rendergridrows&&P.totalrecords>0){var I=0;if(e.records=P.grid.rendergridrows(T),e.records.length&&(I=e.records.length),e.records&&!e.records[T.startindex]){var z=new Array,q=T.startindex;a.each(e.records,function(){z[q]=this,q++,I++}),e.records=z}if(I==0&&e.records&&a.each(e.records,function(){I++}),I>0&&I<T.endindex-T.startindex&&!P.grid.groupable)for(var B=e.records[0],S=0;S<T.endindex-T.startindex-I;S++){var D={};for(var H in B)D[H]="";e.records.push&&e.records.push(D)}}(!e.records||P.totalrecords==0)&&(e.records=new Array),P.originaldata=e.records,P.records=e.records,P.cachedrecords=e.records}};o(this),this.source=e;var n=this.that;switch(e.datatype){case"local":case"array":default:if(e.localdata==null&&(e.localdata=[]),e.localdata!=null){s.unbindBindingUpdate(n.grid.element.id),(!n.grid.autobind&&n.grid.isInitialized||n.grid.autobind)&&s.dataBind();var X=function(T){if(T!=null&&T!=""){var I=s._changedrecords[0];if(I){var z=new Array;a.each(s._changedrecords,function(B){var S=this.index,D=this.record;switch(n.grid._updateFromAdapter=!0,T){case"update":var H=n.grid.getrowid(S);B==s._changedrecords.length-1?n.grid.updaterow(H,D):n.grid.updaterow(H,D,!1),n.grid._updateFromAdapter=!1;return;case"add":n.grid.addrow(null,D),n.grid._updateFromAdapter=!1;return;case"remove":var H=n.grid.getrowid(S);z.push(H);return}}),z.length>0&&(n.grid.deleterow(z,!1),n.grid._updateFromAdapter=!1)}if(T=="update")return}var q=n.totalrecords;d(n),e.localdata.notifier===null&&e.localdata.name=="observableArray"&&(e.localdata.notifier=function(B){if(!n._updating){n._updating=!0;var S=n.grid.getrowid(B.index);switch(B.type){case"add":var D=a.extend({},B.object[B.index]),H=s.getid(e.id,D,B.index);B.index===0?n.grid.addrow(H,D,"first"):n.grid.addrow(H,D);break;case"delete":n.grid.deleterow(S);break;case"update":if(B.path&&B.path.split(".").length>1){var G=B.path.split(".");n.grid.setcellvalue(B.index,G[G.length-1],B.newValue)}else{var D=a.extend({},B.object[B.index]);n.grid.updaterow(S,D)}break}n._updating=!1}}),T=="updateData"?(n.refresh(),n.grid._updateGridData()):(e.recordstartindex&&n.virtualmode?n.updateview(e.recordstartindex,e.recordstartindex+n.pagesize):n.refresh(),n.update(q!=n.totalrecords))};X(),s.bindBindingUpdate(n.grid.element.id,X)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(e.localdata!=null){s.unbindBindingUpdate(n.grid.element.id),(!n.grid.autobind&&n.grid.isInitialized||n.grid.autobind)&&s.dataBind();var X=function(T){var I=n.totalrecords;d(n),T=="updateData"?(n.refresh(),n.grid._updateGridData()):(e.recordstartindex&&n.virtualmode?n.updateview(e.recordstartindex,e.recordstartindex+n.pagesize):n.refresh(),n.update(I!=n.totalrecords))};X(),s.bindBindingUpdate(n.grid.element.id,X);return}for(var f=[],h=0,c={},p=0;p<n.filters.length;p++){var v=n.filters[p].datafield,x=n.filters[p].filter;if(x.getfilters){if(!v)for(var w=0;w<n.grid.columns.length;w++)n.grid.columns[w].filter===x&&(v=n.grid.columns[w].datafield||n.grid.columns[w].dataField);var m=x.getfilters();c[v+"operator"]=x.operator;for(var g=0;g<m.length;g++){m[g].datafield=v;var b=m[g].value;if(m[g].type=="datefilter")if(m[g].value&&m[g].value.toLocaleString){var _=n.grid.getcolumn(m[g].datafield);if(_&&_.cellsformat){var y=n.grid.source.formatDate(m[g].value,_.cellsformat,n.grid.gridlocalization);y?c["filtervalue"+h]=y:c["filtervalue"+h]=m[g].value.toLocaleString()}else c["filtervalue"+h]=b.toString()}else c["filtervalue"+h]=b.toString();else c["filtervalue"+h]=b.toString(),m[g].data&&(c["filterid"+h]=m[g].data.toString()),m[g].id&&(c["filterid"+h]=m[g].id.toString());c["filtercondition"+h]=m[g].condition,c["filteroperator"+h]=m[g].operator,c["filterdatafield"+h]=v;var j={label:b.toString()};m[g].data&&(j.value=m[g].data.toString()),m[g].id?j.value=m[g].id.toString():j.value=b.toString(),j.condition=m[g].condition,j.operator=m[g].operator==0?"and":"or",j.field=v,j.type=m[g].type;var C=!1;if(f.length>0)for(var L=0;L<f.length;L++){var k=f[L];if(k.field==v){k.filters.push(j),C=!0;break}}C||(f.push({field:v,filters:[]}),f[f.length-1].filters.push(j)),h++}}}c.filterGroups=f,c.filterscount=h,c.groupscount=n.groups.length;for(var p=0;p<n.groups.length;p++)c["group"+p]=n.groups[p];e.recordstartindex==null&&(e.recordstartindex=0),(e.recordendindex==null||e.recordendindex==0)&&(n.grid.height&&n.grid.height.toString().indexOf("%")==-1?(e.recordendindex=parseInt(n.grid.height)/n.grid.rowsheight,e.recordendindex+=2,e.recordendindex=parseInt(e.recordendindex)):(e.recordendindex=a(window).height()/n.grid.rowsheight,e.recordendindex=parseInt(e.recordendindex)),n.pageable&&(e.recordendindex=n.pagesize)),n.pageable&&(e.recordstartindex=n.pagenum*n.pagesize,e.recordendindex=(n.pagenum+1)*n.pagesize),a.extend(c,{sortdatafield:n.sortfield,sortorder:n.sortfielddirection,pagenum:n.pagenum,pagesize:n.grid.pagesize,recordstartindex:e.recordstartindex,recordendindex:e.recordendindex});var O=s._options.data;s._options.data?a.extend(s._options.data,c):(e.data&&a.extend(c,e.data),s._options.data=c);var X=function(){var P=a.jqx.browser.msie&&a.jqx.browser.version<9,T=function(){var I=n.totalrecords;d(n),e.recordstartindex&&n.virtualmode?n.updateview(e.recordstartindex,e.recordstartindex+n.pagesize):n.refresh(),n.update(I!=n.totalrecords)};if(P)try{T()}catch{}else T()};s.unbindDownloadComplete(n.grid.element.id),s.bindDownloadComplete(n.grid.element.id,X),!n.grid.autobind&&n.grid.isInitialized||n.grid.autobind?s.dataBind():!n.grid.isInitialized&&!n.grid.autobind&&X(),s._options.data=O}},this.getid=function(e,t,i){if(a(e,t).length>0)return a(e,t).text();if(e&&e.toString().length>0){var s=a(t).attr(e);if(s!=null&&s.toString().length>0)return s}return i},this.getvaluebytype=function(e,t){var i=e;if(t.type=="date"){var s=new Date(e);(s.toString()=="NaN"||s.toString()=="Invalid Date")&&a.jqx.dataFormat?e=a.jqx.dataFormat.tryparsedate(e):e=s,e==null&&(e=i)}else if(t.type=="float"){var e=parseFloat(e);isNaN(e)&&(e=i)}else if(t.type=="int"){var e=parseInt(e);isNaN(e)&&(e=i)}else t.type=="bool"&&(e!=null&&(e.toLowerCase()=="false"?e=!1:e.toLowerCase()=="true"&&(e=!0)),e==1?e=!0:e==0?e=!1:e="");return e},this.setpaging=function(e){e.pageSize!=null&&(this.pagesize=e.pageSize),e.pageNum!=null&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}i==-1?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){var s=this.filters&&this.filters.length>0&&!this.virtualmode;if(!s&&t!=null&&e!=null){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid);var o=this.recordsbyid["id"+e],d=this.records.indexOf(o);return d==-1?!1:(this.records[d]=t,this.cachedrecords&&(this.cachedrecords[d]=t),(i==!0||i==null)&&this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:o,Data:t},!0)}else if(this.filters&&this.filters.length>0){for(var n=this.cachedrecords,o=null,d=-1,f=0;f<n.length;f++)if(n[f].uid==e){o=n[f],d=f;break}if(o){var h=this.that;for(var c in t)h.cachedrecords[d][c]=t[c];return(i==!0||i==null)&&this.refresh(),!0}}return!1},this.addrow=function(e,t,i,s){if(t!=null){if(a.isEmptyObject(t)&&this.source&&this.source.datafields&&a.each(this.source.datafields,function(){var n="";this.type=="number"&&(n=null),this.type=="date"&&(n=null),(this.type=="bool"||this.type=="boolean")&&(n=!1),t[this.name]=n}),!e||this.recordsbyid["id"+e]){t.uid=this.getid(this.source.id,t,this.totalrecords);for(var o=this.recordsbyid["id"+t.uid];o!=null;){var d=Math.floor(Math.random()*1e4).toString();t.uid=d,o=this.recordsbyid["id"+d]}}else t.uid=e;return t[this.source.id]||this.source.id!=null&&(t[this.source.id]=t.uid),t.boundindex=this.records.length,i=="last"?this.records.push(t):typeof i=="number"&&isFinite(i)?this.records.splice(i,0,t):this.records.splice(0,0,t),this.filters&&this.filters.length>0&&(i=="last"?this.cachedrecords.push(t):typeof i=="number"&&isFinite(i)?this.cachedrecords.splice(i,0,t):this.cachedrecords.splice(0,0,t)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(s==!0||s==null)&&this.refresh(),this.changedrecords[t.uid]={Type:"New",Data:t},!0}return!1},this.deleterow=function(e,t){if(e!=null){var i=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+e]&&!i){var s=this.recordsbyid["id"+e],o=this.records.indexOf(s);if(this.grid&&this.grid.sortable&&this.grid.sortmode=="many"){for(var d=0;d<this.records.length;d++)if(this.records[d].boundindex===s.boundindex){o=d;break}}return this.changedrecords[e]={Type:"Delete",Data:this.records[o]},this.records.splice(o,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(t==!0||t==null)&&this.refresh(),!0}else if(this.filters&&this.filters.length>0){for(var n=this.cachedrecords,s=null,o=-1,d=0;d<n.length;d++)if(n[d].uid==e){s=n[d],o=d;break}if(s)return this.cachedrecords.splice(o,1),(t==!0||t==null)&&(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(e,t,i,s,o,d,n){var f=this.that,h=new Array,c=e,p=t,v=i,x=s,w=p.length,m=0,g=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},this.totalrecords==0){Object.size=function(y){var j=0,C;for(C in y)y.hasOwnProperty(C)&&j++;return j};var b=Object.size(c);this.totalrecords=b,a.each(this.records,function(y){var j=this,C=0;return a.each(j,function(L,k){f.columns[C++]=L}),!1})}if(this.virtualmode){if(this.pageable){this.updateview();return}var d=0;if(this.groupable)var n=this.totalrecords;else{this.updateview();return}}else var d=0,n=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var _=d;_=this.loadgrouprecords(0,d,n,v,g,x,p,w,h)}else m=this.loadflatrecords(d,n,v,g,x,p,w,h);return w>g&&p.splice(g,w-g),this.groups.length>0&&this.groupable?this.totalrows=_:this.totalrows=m,h},this.loadflatrecords=function(e,t,i,s,o,d,n,f){var h=this.that,c=e,p=e;t=Math.min(t,this.totalrecords);var v=this.sortdata!=null;this.source.id&&(this.source.datatype=="local"||this.source.datatype=="array"||this.source.datatype=="");for(var x=v?this.sortdata:this.records,w=e;w<t;w++){var m={};if(v){m=a.extend({},x[w].value);var g=m[h.uniqueId];m.boundindex=x[w].index,m.uid==null&&(m.uid=h.getid(h.source.id,m,m.boundindex)),h.recordsbyid["id"+m.uid]=x[w].value,h.loadedrecords[c]=m,m.uniqueid=h.generatekey(),h.bounditems[m.boundindex]=m}else{m=new Object(x[w]);var g=m[h.uniqueId];m.boundindex=c,h.loadedrecords[c]=m,m.uid==null&&(m.uid=h.getid(h.source.id,m,c)),h.recordsbyid["id"+m.uid]=x[w],m.uniqueid=h.generatekey(),h.bounditems[this.bounditems.length]=m}(s>=n||g!=d[s][h.uniqueId]||o&&o[g])&&(f[f.length]=s),d[s]=m,s++,m.visibleindex=p,p++,c++}if(h.grid.summaryrows){var b=c;a.each(h.grid.summaryrows,function(){var _=a.extend({},this);_.boundindex=t++,h.loadedrecords[b]=_,_.uniqueid=h.generatekey(),h.bounditems[h.bounditems.length]=_,d[s]=_,s++,_.visibleindex=p,p++,b++})}return p},this.updateview=function(e,t){var i=this.that,s=this.pagesize*this.pagenum,o=0,d=new Array,n=this.filters,f=this.updated,h=d.length;if(this.pageable){if(this.virtualmode){if(!this.groupable||this.groups.length==0)this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),n,o,f,d,h,[]),this.totalrows=d.length;else if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(this._cachegrouppages[this.pagenum+"_"+this.pagesize]!=null){this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],this.totalrows=this.rows.length;return}var c=this.pagesize*(1+this.pagenum);c>this.totalrecords&&(c=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,c,n,o,f,d,h,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,this.totalrows=this.rows.length;return}}}else if(this.virtualmode&&(!this.groupable||this.groups.length==0)){var p=this.pagesize;if(p==0&&(p=Math.min(100,this.totalrecords)),p*this.pagenum,this.loadedrecords.length==0,e!=null&&t!=null?this.loadflatrecords(e,t,n,o,f,d,h,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),n,o,f,d,h,[]),this.totalrows=this.loadedrecords.length,this.rows=d,d.length>=p)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)d=this._updategroupsinpage(i,n,s,o,h,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var v=this.pagesize*this.pagenum;v<this.pagesize*(1+this.pagenum);v++){var x=v<this.loadedrecords.length?this.loadedrecords[v]:null;x!=null&&((!this.pagesize||s>=this.pagesize*this.pagenum&&s<=this.pagesize*(this.pagenum+1))&&(d[o]=x,o++),s++)}if((d.length==0||d.length<this.pagesize)&&!this.pageable&&this.virtualmode){o=d.length;for(var w=d.length,v=this.pagesize*this.pagenum;v<this.pagesize*(1+this.pagenum)-w;v++){var x={};x.boundindex=v+w,x.visibleindex=v+w,x.uniqueid=i.generatekey(),x.empty=!0,i.bounditems[v+w]=x,d[o]=x,o++}}this.rows=d},this.generatekey=function(){var e=function(){return(1+Math.random())*16|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(e){if(!this.suspend){e==null&&(e=!0);var t=this.rows.length,i=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var s="",o=this.cachedrecords.length,d=new Array;this.totalrecords=0;var n=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var f=this.filters.length;if(this.source!=null&&this.source.filter!=null&&this.source.localdata!=null){var h=this.source.filter(this.filters,n,o);h==null&&(h=new Array);for(var c=0;c<o;c++){var p=n[c],v=h.indexOf(p)>=0;v?(d[d.length]=a.extend({dataindex:c},p),this._dataIndexToBoundIndex[c]={boundindex:d.length-1}):this._dataIndexToBoundIndex[c]=null}this.records=d}else if(this.source.filter==null||this.source.filter==null){for(var c=0;c<o;c++){for(var p=n[c],v=void 0,x=0;x<f;x++){var s=this.filters[x].filter,w=p[this.filters[x].datafield],m=s&&s.evaluate?s.evaluate(w):!0;if(this.grid.filter){var g=this.grid.filter(w,p,this.filters[x].datafield,s,m);g!==void 0&&(m=g)}v==null?v=m:s.operator=="or"?v=v||m:v=v&&m}v?(d[d.length]=a.extend({dataindex:c},p),this._dataIndexToBoundIndex[c]={boundindex:d.length-1}):this._dataIndexToBoundIndex[c]=null}this.records=d}if(this.sortdata)if(this.grid&&this.grid.sortmode!=="many"){var b=this.sortfield;if(this.sortcache[b]){this.sortdata=null;var _=this.sortcache[b].direction;this.sortcache[b]=null,this.sortby(this.sortfield,_);return}}else{for(var y=this.grid.getsortcolumns(),j=0;j<y.length;j++){var C=y[j],L=C.dataField;this.grid.sortby(L,C.ascending,null)}return}}else if(this.filters.length==0&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;var n=this.cachedrecords;if(this.records=n,this.sortdata)if(this.grid&&this.grid.sortmode!=="many"){var b=this.sortfield;if(this.sortcache[b]){this.sortdata=null;var _=this.sortcache[b].direction;this.sortcache[b]=null,this.sortby(this.sortfield,_);return}}else{for(var y=this.grid.getsortcolumns(),j=0;j<y.length;j++){var C=y[j],L=C.dataField;this.grid.sortby(L,C.ascending,null)}return}}var k=this.reload(this.records,this.rows,this.filter,this.updated,e);if(this.updated=null,this.rowschangecallback!=null){var O=this.rows;i!=this.totalrows&&this.rowschangecallback({type:"PagingChanged",data:this.getpagingdetails()}),t!=O.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:t,current:O.length}}),(k.length>0||t!=O.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:t,current:O.length,diff:k}})}}},this}})(jqxBaseFramework)})()),er}ts();(function(){typeof document>"u"||(function(a){a.extend(a.jqx._jqxGrid.prototype,{_handledblclick:function(r,l){if(r.target!=null&&!l.disabled&&!a(r.target).ischildof(this.columnsheader)){var e;if(r.which?e=r.which==3:r.button&&(e=r.button==2),!e){var t;if(r.which?t=r.which==2:r.button&&(t=r.button==1),!t){var i=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0,o=this.showtoolbar?this.toolbarheight:0,d=this.showfilterbar?this.toolbarheight:0;s+=o,s+=d;var n=this.host.offset(),f=r.pageX-n.left,h=r.pageY-i-n.top-s,c=this._hittestrow(f,h);if(c){var p=c.row,v=c.index,x=r.target.className,w=this.table[0].rows[v];if(w!=null){l.mousecaptured=!0,l.mousecaptureposition={left:r.pageX,top:r.pageY-s};var m=this.hScrollInstance,g=m.value,b=0;this.groupable&&this.groups.length;for(var _=0;_<w.cells.length;_++){var y=parseInt(a(this.columnsrow[0].cells[_]).css("left")),j=y-g;l.columns.records[_].pinned&&(j=y);var C=this._getcolumnat(_);if(!(C!=null&&C.hidden)){var L=j+a(this.columnsrow[0].cells[_]).width();if(L>=f&&f>=j){b=_;break}}}if(p!=null){var C=this._getcolumnat(b);x.indexOf("jqx-grid-group-expand")!=-1||x.indexOf("jqx-grid-group-collapse")!=-1||p.boundindex!=-1&&l.begincelledit(l.getboundindex(p),C.datafield,C.defaulteditorvalue)}}}}}}},_getpreveditablecolumn:function(r){for(var l=this;r>0;){r--;var e=l.getcolumnat(r);if(!e)return null;if(e.editable&&!e.hidden)return e}return null},_getnexteditablecolumn:function(r){for(var l=this;r<this.columns.records.length;){r++;var e=l.getcolumnat(r);if(!e)return null;if(e.editable&&!e.hidden)return e}return null},_handleeditkeydown:function(r,l){if(l.handlekeyboardnavigation){var e=l.handlekeyboardnavigation(r);if(e==!0)return!0}var t=r.charCode?r.charCode:r.keyCode?r.keyCode:0;if(l.editEvent=r,l.showfilterrow&&l.filterable&&this.filterrow&&a(r.target).ischildof(this.filterrow)||l.showfilterbar&&l.filterable&&this.filterbar&&a(r.target).ischildof(this.filterbar)||r.target.className&&r.target.className.indexOf("jqx-grid-widget")>=0||l.pageable&&a(r.target).ischildof(this.pager)||this.showtoolbar&&a(r.target).ischildof(this.toolbar)||this.showeverpresentrow&&(this.addnewrowtop&&a(r.target).ischildof(this.addnewrowtop)||this.addnewrowbottom&&a(r.target).ischildof(this.addnewrowbottom))||this.showstatusbar&&a(r.target).ischildof(this.statusbar)||this.rowdetails&&a(r.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if(this.editmode==="selectedrow"){if(t===13)return this.endrowedit(this.editcell.row,!1),!1;if(t===27)return this.endrowedit(this.editcell.row,!0),!1;if(t==32&&this._currentColumn&&this.getcolumn(this._currentColumn).columntype=="checkbox"){var i=this.getcolumn(this._currentColumn);if(i.editable){var s=!this.getcellvalue(this.editcell.row,i.datafield),d=this.getrowdata(this.editcell.row),o=this.editcell.row,d=l.getrowdata(l.editcell.row);this.pushToHistory=!0,this.setcellvalue(this.editcell.row,i.datafield,s,!1),this.pushToHistory=!1;var n=this._focusedColumn,f=this._currentColumn,h=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(o,!1),this._currentColumn=f,this._focusedColumn=n,this._currentEditableColumn=h,this._renderrows(),this.selectcell(o,i.datafield),this._oldselectedcell=this.selectedcell,n){var c=this;setTimeout(function(){c.selectcell(o,i.datafield),c._oldselectedcell=c.selectedcell,a(c._checkboxCells[i.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}}if(t===9){var p=this.editcell.datafield,v=this._getcolumnindex(p);this._currentEditableColumn?v=this._currentEditableColumn:this._currentEditableColumn=v;var i=this._getnexteditablecolumn(v);if((r.shiftKey||this.rtl)&&(i=this._getpreveditablecolumn(v)),i){var v=this._getcolumnindex(i.datafield);if(this.editcell[i.datafield]){this._currentEditableColumn=v;var x=this.editcell[i.datafield].editor;x&&(x.data().jqxWidget&&x.data().jqxWidget.focus?x.data().jqxWidget.focus():(x.focus(),x[0].onkeyup=function(){l.gridcontent[0].scrollTop!=0&&(l.scrolltop(Math.abs(l.gridcontent[0].scrollTop)),l.gridcontent[0].scrollTop=0),l.gridcontent[0].scrollLeft!=0&&(l.gridcontent[0].scrollLeft=0)})),this._focusedColumn=i.datafield,this._currentColumn=i.datafield,this.gridcontent[0].scrollTop!=0&&(this.scrolltop(Math.abs(this.gridcontent[0].scrollTop)),this.gridcontent[0].scrollTop=0),this.gridcontent[0].scrollLeft!=0&&(this.gridcontent[0].scrollLeft=0)}else if(i.columntype=="checkbox")return this._currentColumn=i.datafield,this._currentEditableColumn=v,this.selectcell(this.editcell.row,i.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[i.datafield]&&a(this._checkboxCells[i.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}return!0}if(this.editcell.columntype==null||this.editcell.columntype=="textbox"||this.editcell.columntype=="numberinput"||this.editcell.columntype=="combobox"||this.editcell.columntype=="datetimeinput"){if(t>=33&&t<=40&&l.selectionmode=="multiplecellsadvanced"){var x=this.editcell.columntype=="textbox"||this.editcell.columntype==null?this.editcell.editor:this.editcell.editor.find("input"),w=l._selection(x),m=x.val().length;w.length>0&&this.editcell.columntype!="datetimeinput"&&(l._cancelkeydown=!0),w.start>0&&t==37&&(l._cancelkeydown=!0),w.start<m&&t==39&&this.editcell.columntype!="datetimeinput"&&(l._cancelkeydown=!0),this.editcell.columntype=="datetimeinput"&&t==39&&w.start+w.length<m&&(l._cancelkeydown=!0)}}else this.editcell.columntype=="dropdownlist"?(t==37||t==39&&l.selectionmode=="multiplecellsadvanced")&&(l._cancelkeydown=!1):this.selectionmode=="multiplecellsadvanced"&&this.editcell.columntype!="textbox"&&this.editcell.columntype!="numberinput"&&(l._cancelkeydown=!0);if(t==32&&l.editcell.columntype=="checkbox"){var i=l.getcolumn(l.editcell.datafield);if(i.editable){var s=!l.getcellvalue(l.editcell.row,l.editcell.column);if(i.cellbeginedit){var g=i.cellbeginedit(l.editcell.row,i.datafield,i.columntype,!s);if(g==!1)return!1}var d=l.getrowdata(l.editcell.row);return l.pushToHistory=!0,l.setcellvalue(l.editcell.row,l.editcell.column,s,!0),l.pushToHistory=!1,l._raiseEvent(18,{rowindex:l.editcell.row,row:d,datafield:l.editcell.column,oldvalue:!s,value:s,columntype:"checkbox"}),!1}}if(t==9){var b=this.editcell.row,p=this.editcell.column,_=p,v=l._getcolumnindex(p),y=!1,j=l.getrowvisibleindex(b),C=b;this.editchar="";var L=this.editcell.validated;if(!this.editcell.validated)var L=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(L!=!1){if(r.shiftKey||this.rtl){var i=l._getpreveditablecolumn(v);if(i)p=i.datafield,y=!0,l.selectionmode.indexOf("cell")!=-1&&(l.selectprevcell(b,_),l._oldselectedcell=l.selectedcell,setTimeout(function(){l.ensurecellvisible(j,p)},10));else{var k=l._getlastvisiblecolumn();y=!0,p=k.displayfield;var O=l.getdisplayrows()[j-1];O&&(b=O.dataindex,b===void 0&&(b=O.boundindex),j=l.getrowvisibleindex(b));var X=!0;if(l.pageable){var P=Math.floor(j/this.pagesize);this.dataview.pagenum!=P&&(X=!1)}X&&l.selectionmode.indexOf("cell")!=-1&&(l.clearselection(),l.selectcell(b,p),l._oldselectedcell=l.selectedcell,setTimeout(function(){l.ensurecellvisible(j,p)},10))}}else{var i=l._getnexteditablecolumn(v);if(i)p=i.datafield,y=!0,l.selectionmode.indexOf("cell")!=-1&&(l.selectnextcell(b,_),l._oldselectedcell=l.selectedcell,setTimeout(function(){l.ensurecellvisible(j,p)},10));else{var T=l._getfirstvisiblecolumn();y=!0,p=T.displayfield;var O=l.getdisplayrows()[j+1];O&&(b=O.dataindex,b===void 0&&(b=O.boundindex),j=l.getrowvisibleindex(b));var X=!0;if(l.pageable){var P=Math.floor(j/this.pagesize);this.dataview.pagenum!=P&&(X=!1)}l.selectionmode.indexOf("cell")!=-1&&X&&(l.clearselection(),l.selectcell(b,p),l._oldselectedcell=l.selectedcell,setTimeout(function(){l.ensurecellvisible(j,p)},10))}}if(y){if(l.pageable){var P=Math.floor(j/this.pagesize);if(this.dataview.pagenum!=P){this._renderrows(this.virtualsizeinfo),l.selectionmode.indexOf("cell")!=-1&&(l.clearselection(),l.selectcell(C,_),l._oldselectedcell=l.selectedcell),P>this.dataview.pagenum&&setTimeout(function(){l.pagerpageinput.focus()},25);return}}l.begincelledit(b,p),this.editcell!=null&&this.editcell.columntype=="checkbox"&&this._renderrows(this.virtualsizeinfo)}else return this.editcell!=null&&(l.endcelledit(b,p,!1),this._renderrows(this.virtualsizeinfo)),!0}return!1}else if(t==13){var I=this.selectedcell;if(I)var z=this.getrowvisibleindex(I.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),this.selectionmode=="multiplecellsadvanced"){var q=l.getselectedcell();if(q!=null&&l.selectcell&&this.editcell==null&&q.rowindex+1<this.dataview.totalrecords){if(this.sortcolumn!=q.datafield){var j=this.getrowvisibleindex(q.rowindex),B=this.dataview.loadedrecords[j+1];if(B&&(!this.pageable||this.pageable&&j+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(B),q.datafield);var q=this.getselectedcell();this.ensurecellvisible(B.visibleindex,q.datafield)}}else if(I!=null){var S=this.dataview.loadedrecords[z+1];if(S){if(!this.pageable||this.pageable&&z+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(S),q.datafield);else if(this.pageable&&z+1>=this.pagesize){this.clearselection(!1);var S=this.dataview.loadedrecords[z];this.selectcell(this.getboundindex(S),q.datafield)}}}}}return!1}else if(t==27)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var D=!1;if(t==113&&(D=!0),!r.ctrlKey&&!r.altKey&&!r.metaKey){if(t>=48&&t<=57&&(this.editchar=String.fromCharCode(t),D=!0),t===189&&(D=!0),t>=65&&t<=90){this.editchar=String.fromCharCode(t);var H=!1;r.shiftKey?H=r.shiftKey:r.modifiers&&(H=!!(r.modifiers&4)),this._capsLock&&(H=!H),H||(this.editchar=this.editchar.toLowerCase()),D=!0}else t>=96&&t<=105&&(this.editchar=t-96,this.editchar=this.editchar.toString(),D=!0);var G=a(".jqx-grid").length;D=D&&(G==1||G>1&&l.focused);var N=a.data(document.body,"jqxgrid.edit");if(N!==void 0&&N!==""&&(t===13||D)&&N!=l.element.id)return!0}if((t==13||D)&&l.getselectedrowindex){var b=l.getselectedrowindex();if(l.editmode==="selectedrow")if(b>=0)l.beginrowedit(b);else{var q=l.getselectedcell();if(q!=null){var i=l._getcolumnbydatafield(q.datafield);l.beginrowedit(q.rowindex)}return!1}switch(l.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(b>=0){for(var p="",A=0;A<l.columns.records.length;A++){var i=l.getcolumnat(A);if(i.editable){p=i.datafield;break}}l.editmode==="selectedrow"?l.beginrowedit(b):l.begincelledit(b,p)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":var q=l.getselectedcell();if(q!=null){var i=l._getcolumnbydatafield(q.datafield);l.editmode==="selectedrow"?l.beginrowedit(q.rowindex):i.columntype!="checkbox"&&l.begincelledit(q.rowindex,q.datafield)}break;case"multiplecellsadvanced":var q=l.getselectedcell();if(q!=null)if(t==13){if(l.selectcell){var j=this.getrowvisibleindex(q.rowindex);if(j+1<l.dataview.totalrecords){var B=this.dataview.loadedrecords[j+1];if(B){this.clearselection(!1),this.selectcell(this.getboundindex(B),q.datafield);var q=this.getselectedcell();this.ensurecellvisible(B.visibleindex,q.datafield)}}}}else l.editmode!=="selectedrow"&&l.begincelledit(q.rowindex,q.datafield,null,!1);break}return!1}if(t==46){var M=l.getselectedcells();if(l.selectionmode.indexOf("cell")==-1&&l._getcellsforcopypaste&&(M=l._getcellsforcopypaste()),M!=null&&M.length>0){for(var Q=0;Q<M.length;Q++){var q=M[Q];if(q.datafield){var i=l.getcolumn(q.datafield),U=l.getcellvalue(q.rowindex,q.datafield);if(U!==""&&i.editable&&l.enablekeyboarddelete){var Y=null;if(i.columntype=="checkbox"&&(i.threestatecheckbox||(Y=!1)),i.cellbeginedit){var g=i.cellbeginedit(q.rowindex,i.datafield,i.columntype,Y);if(g==!1)return!1}var d=l.getrowdata(q.rowindex);if(i.validation){var E=i.validation(q,Y),R=typeof E=="boolean"?E:E.result;if(!R)return}l._raiseEvent(17,{rowindex:q.rowindex,row:d,datafield:q.datafield,value:U}),l.pushToHistory=!0,Q==M.length-1?(l.setcellvalue(q.rowindex,q.datafield,Y,!0),i.displayfield!=i.datafield&&l.setcellvalue(q.rowindex,i.displayfield,Y,!0)):(l.setcellvalue(q.rowindex,q.datafield,Y,!1),i.displayfield!=i.datafield&&l.setcellvalue(q.rowindex,i.displayfield,Y,!0)),l.pushToHistory=!1,i.cellendedit&&i.cellendedit(q.rowindex,i.datafield,i.columntype,Y),l._raiseEvent(18,{rowindex:q.rowindex,row:d,datafield:q.datafield,oldvalue:U,value:Y})}}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(t==32){var q=l.getselectedcell();if(q!=null){var i=l.getcolumn(q.datafield);if(i.columntype=="checkbox"&&i.editable){var s=!l.getcellvalue(q.rowindex,q.datafield);if(i.cellbeginedit){var g=i.cellbeginedit(q.rowindex,i.datafield,i.columntype,!s);if(g==!1)return!1}var d=l.getrowdata(q.rowindex);return l._raiseEvent(17,{rowindex:q.rowindex,row:d,datafield:q.datafield,value:!s,columntype:"checkbox"}),l.pushToHistory=!0,l.setcellvalue(q.rowindex,q.datafield,s,!0),l.pushToHistory=!1,l._raiseEvent(18,{rowindex:q.rowindex,row:d,datafield:q.datafield,oldvalue:!s,value:s,columntype:"checkbox"}),!1}}}}return!0},begincelledit:function(r,l,e,t,i){var s=this.getcolumn(l);if(this._cellscache=new Array,l!=null&&!(s.columntype=="number"||s.columntype=="button"||s.createwidget)&&!(this.groupable&&(this.groups.indexOf(l)>=0||this.groups.indexOf(s.displayfield)>=0))&&this.editrow==null){if(this.editcell){if(this.editcell.row==r&&this.editcell.column==l)return!0;if(this.editmode==="selectedrow"&&this.editcell.row==r)return;var o=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(o==!1)return}var d=s.columntype=="checkbox"||s.columntype=="button"||s.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),s.editable){if(s.cellbeginedit){var n=this.getcell(r,l),f=s.cellbeginedit(r,l,s.columntype,n!=null?n.value:null);if(f==!1)return}var h=this.getrowvisibleindex(r);if(this.editcell=this.getcell(r,l),this.editcell&&(this.editcell.visiblerowindex=h,!this.editcell.editing)){if(d||(this.editcell.editing=!0),this.editcell.columntype=s.columntype,this.editcell.defaultvalue=e,s.defaultvalue!=null&&(this.editcell.defaultvalue=s.defaultvalue),this.editcell.init=!0,s.columntype!="checkbox"&&this.editmode!="selectedrow"){var c=this.getrowdata(r);this._raiseEvent(17,{rowindex:r,row:c,datafield:s.datafield,value:this.editcell.value,columntype:s.columntype})}if(a.data(document.body,"jqxgrid.edit",this.element.id),!d){var p=this.getrowvisibleindex(r);t!==!1&&!this.autorowheight&&this.groups.length===0&&this.ensurecellvisible(p,s.datafield),i!==!1&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell){this.editchar="";return}this.editchar="",this.editcell.editor=null,this.editcell.editing=!1,i!==!1&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}},getScrollTop:function(){if(this._py)return this._py;if(this._py=typeof pageYOffset<"u",this._py)return pageYOffset;var r=document.body,l=document.documentElement;return l=l.clientHeight?l:r,l.scrollTop},getScrollLeft:function(){if(typeof pageXOffset<"u")return pageXOffset;var r=document.body,l=document.documentElement;return l=l.clientHeight?l:r,l.scrollLeft},endcelledit:function(r,l,e,t,i){if((r==null||l==null)&&(this.editcell&&(r=this.editcell.row,l=this.editcell.column),e==null&&(e=!0)),!!this.editcell){var s=this.getcolumn(l),o=this;if(o.editmode==="selectedrow"){this.endrowedit(r,e);return}var d=function(){if(i!=!1){if(o.isTouchDevice())return;if(!o.isNestedGrid){var y=o.getScrollTop(),j=o.getScrollLeft();try{o.element.focus(),o.content.focus(),y!=o.getScrollTop()&&window.scrollTo(j,y),setTimeout(function(){o.element.focus(),o.content.focus(),y!=o.getScrollTop()&&window.scrollTo(j,y)},10)}catch{}}}};if(s.columntype=="checkbox"||s.columntype=="button"||s.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var n=this._geteditorvalue(s),f=function(y){y._hidecelleditor(),s.cellendedit&&s.cellendedit(r,l,s.columntype,y.editcell.value,n),y.editchar=null,s.displayfield!=s.datafield&&y.getcellvalue(y.editcell.row,s.displayfield),y.editcell.value;var j=y.getrowdata(r);y._raiseEvent(18,{rowindex:r,row:j,datafield:l,displayfield:s.displayfield,oldvalue:n,value:n,columntype:s.columntype}),y.editcell.editor=null,y.editcell.editing=!1,y.editcell=null,(t||t==null)&&y._renderrows(y.virtualsizeinfo),d(),y.enablebrowserselection||(y.host.addClass("jqx-disableselect"),y.content.addClass("jqx-disableselect"))};if(e)return f(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),s.cellvaluechanging){var h=s.cellvaluechanging(r,l,s.columntype,this.editcell.value,n);h!=null&&(n=h)}if(s.validation){var c=this.getcell(r,l);try{var p=s.validation(c,n),v=this.gridlocalization.validationstring;p.message!=null&&(v=p.message);var x=typeof p=="boolean"?p:p.result;if(!x)return(p.showmessage==null||p.showmessage==!0)&&this._showvalidationpopup(r,l,v),this.editcell.validated=!1,!1}catch{return this._showvalidationpopup(r,l,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}var w;if(s.displayfield!=s.datafield){var m=this.getcellvalue(this.editcell.row,s.displayfield),g=this.editcell.value;w={value:g,label:m}}else w=this.editcell.value;var b=this.getrowdata(r);if(s.cellendedit){var _=s.cellendedit(r,l,s.columntype,this.editcell.value,n);if(_==!1)return this._raiseEvent(18,{rowindex:r,row:b,datafield:l,displayfield:s.displayfield,oldvalue:w,value:w,columntype:s.columntype}),f(this),!1}return this._raiseEvent(18,{rowindex:r,row:b,datafield:l,displayfield:s.displayfield,oldvalue:w,value:n,columntype:s.columntype}),this._hidecelleditor(!1),this.editcell!=null&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.pushToHistory=!0,this.setcellvalue(r,l,n,t),this.pushToHistory=!1,this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),a.jqx.browser.msie||d(),a.data(document.body,"jqxgrid.edit",""),this.showgroupaggregates&&this.groupable&&this.groups.length&&s.aggregates&&s.aggregates.length&&(this.dataview.reloaddata(),this._renderrows(this.virtualsizeinfo)),!0}},beginrowedit:function(r){var l=this;if(r!=null){l._oldselectedrow=r,this._cellscache=new Array;var e=!1;if(this.editmode!="selectedrow"&&(e=!0),e){var t=this.editmode;this.editmode="selectedrow"}var i=null;this._currentEditableColumn&&(i=this.getcolumnat(this._currentEditableColumn).datafield),a.each(this.columns.records,function(s,o){if(l.editable&&this.editable){if(this.columntype==="checkbox"||this.columntype==="custom"||this.columntype==="widget"||this.columntype==="template"||this.columntype==="button")return!0;i||(i=this.datafield);var d=l.getcell(r,this.datafield);l.begincelledit(r,this.datafield,null,!1,!1);var n=l.getrowdata(r);l._raiseEvent(17,{rowindex:r,row:n,datafield:this.datafield,value:d.value,columntype:this.columntype})}}),l.editcell&&(l.editcell.init=!0),this._renderrows(this.virtualsizeinfo),e&&(this.editmode=t),i&&l.editcell&&setTimeout(function(){if(l.editcell&&l.editcell[i]){var s=l.editcell[i].editor;s&&(s.data().jqxWidget&&s.data().jqxWidget.focus?s.data().jqxWidget.focus():s.focus())}},25)}},endrowedit:function(r,l){var e=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell||this.editcell.editor==null&&this.editcell.columntype!=="checkbox")return!1;this._commandColumnEdit&&(this.editmode=this._commandColumnEditMode,delete this._commandColumnEdit,delete this._commandColumnEditMode,delete this.editrow);var t=!1;if(this.editmode!="selectedrow"&&(t=!0),t){var i=this.editmode;this.editmode="selectedrow"}var s=!1,o={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var d=0;d<this.columns.records.length;d++){var n=this.columns.records[d];if(n.editable&&!n.hidden&&!n.createwidget){var f=this._geteditorvalue(n);if(n.columntype=="checkbox"){if(l){f=this.editcell[n.datafield];var h=this.getcellvalue(this.editcell.row,n.displayfield);this.setcellvalue(this.editcell.row,n.displayfield,f)}continue}var c=function(X){X._hidecelleditor();var P=X.getcellvalue(X.editcell.row,n.displayfield);n.cellendedit&&n.cellendedit(r,v,n.columntype,P,f),X.editchar=null,n.displayfield!=n.datafield&&X.getcellvalue(X.editcell.row,n.displayfield);var T=X.getrowdata(r);X._raiseEvent(18,{rowindex:r,row:T,datafield:v,displayfield:n.displayfield,oldvalue:P,value:P,columntype:n.columntype}),X.editcell.editing=!1};if(l){c(this);continue}if(n.cellvaluechanging){var h=this.getcellvalue(this.editcell.row,n.displayfield),p=n.cellvaluechanging(r,v,n.columntype,h,f);p!=null&&(f=p)}var v=n.datafield;if(n.validation){var x=this.getcell(r,n.datafield);try{var w=n.validation(x,f),m=this.gridlocalization.validationstring;w.message!=null&&(m=w.message);var g=typeof w=="boolean"?w:w.result;if(!g){(w.showmessage==null||w.showmessage==!0)&&this._showvalidationpopup(r,v,m),s=!0,this.editcell[n.datafield].validated=!1;continue}}catch{this._showvalidationpopup(r,v,this.gridlocalization.validationstring),this.editcell[n.datafield].validated=!1,s=!0;continue}}if(n.displayfield!=n.datafield){var b=this.getcellvalue(this.editcell.row,n.displayfield),_=this.editcell.value;h={value:_,label:b}}else h=this.getcellvalue(this.editcell.row,n.displayfield);o[n.datafield]={newvalue:f,oldvalue:h}}}var y={},j={};if(!s){this._hidecelleditor(!1);for(var d=0;d<this.columns.records.length;d++){var n=this.columns.records[d],v=n.datafield;if(!n.hidden&&n.editable){var k=this.getrowdata(r);if(!n.createwidget){if(n.columntype=="checkbox"){var f=this.getcellvalue(r,n.displayfield);this._raiseEvent(18,{rowindex:r,row:k,datafield:n.datafield,displayfield:n.displayfield,oldvalue:f,value:f,columntype:n.columntype});continue}if(o[n.datafield]){var f=o[n.datafield].newvalue,h=o[n.datafield].oldvalue;if(n.cellendedit){var C=n.cellendedit(r,v,n.columntype,h,f);if(C==!1){this._raiseEvent(18,{rowindex:r,row:k,datafield:v,displayfield:n.displayfield,oldvalue:h,value:h,columntype:n.columntype}),c(this);continue}}this.source.updaterow||this._raiseEvent(18,{rowindex:r,row:k,datafield:n.datafield,displayfield:n.displayfield,oldvalue:h,value:f,columntype:n.columntype}),y[n.datafield]=f,j[n.datafield]=h}}}}var L=this.getrowid(r),k=this.getrowdata(r);if(a.each(y,function(X,P){if(P&&P.label!=null){var T=e.getcolumn(X);k[T.displayfield]=P.label,k[T.datafield]=P.value}else k[X]=P}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),a.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.pushToHistory=!0,this.source.updaterow&&!l){var O=!1,e=this,g=function(T){var I=e.source.updaterow;e.source.updaterow=null,T==!1&&a.each(j,function(B,S){if(S&&S.label!=null){var D=e.getcolumn(B);k[D.displayfield]=S.label,k[D.datafield]=S.value}else k[B]=S}),e.updaterow(L,k);for(var z=0;z<e.columns.records.length;z++){var q=e.columns.records[z];q.datafield,e._raiseEvent(18,{rowindex:r,datafield:q.datafield,row:k,displayfield:q.displayfield,oldvalue:j[q.datafield],value:k[q.displayfield],columntype:q.columntype})}e.source.updaterow=I};try{O=this.source.updaterow(L,k,g),O==null&&(O=!0)}catch{O=!1;return}}else l||this.updaterow(L,k),this._renderrows(this.virtualsizeinfo)}return this.pushToHistory=!1,t&&(this.editmode=i),s},_selection:function(r){if("selectionStart"in r[0]){var l=r[0],e=l.selectionEnd-l.selectionStart;return{start:l.selectionStart,end:l.selectionEnd,length:e,text:l.value}}else{var t=document.selection.createRange();if(t==null)return{start:0,end:l.value.length,length:0};var i=r[0].createTextRange(),s=i.duplicate();i.moveToBookmark(t.getBookmark()),s.setEndPoint("EndToStart",i);var e=t.text.length;return{start:s.text.length,end:s.text.length+t.text.length,length:e,text:t.text}}},_setSelection:function(r,l,e){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(r,l);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",l),t.moveStart("character",r),t.select()}},findRecordIndex:function(r,l,t){var t=t;if(l)for(var i=t.length,s=0;s<i;s++){var o=t[s],d=o.label;if(r==d)return s}return-1},_destroyeditors:function(){var r=this;this.columns.records&&(a.each(this.columns.records,function(l,e){var t=a.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var i=r.editors["dropdownlist_"+t];i&&(i.jqxDropDownList("destroy"),r.editors["dropdownlist_"+t]=null);break;case"combobox":var s=r.editors["combobox_"+t];s&&(s.jqxComboBox("destroy"),r.editors["combobox_"+t]=null);break;case"datetimeinput":var o=r.editors["datetimeinput_"+this.datafield];o&&(o.jqxDateTimeInput("destroy"),r.editors["datetimeinput_"+t]=null);break;case"numberinput":var d=r.editors["numberinput_"+t];d&&(d.jqxNumberInput("destroy"),r.editors["numberinput_"+t]=null);break;case"custom":case"template":if(r.destroyeditor&&r.editors["templateeditor_"+t]&&(r.destroyeditor(r.editors["templateeditor_"+t]),r.editors["templateeditor_"+t]=null),r.destroyeditor)for(var n=r.getrows.length(),f=0;f<n;f++)r.editors["customeditor_"+t+"_"+f]&&(r.destroyeditor(r.editors["customeditor_"+t+"_"+f],f),r.editors["customeditor_"+t+"_"+f]=null);break;case"textbox":default:var h=r.editors["textboxeditor_"+t];h&&(r.removeHandler(h,"keydown"),r.editors["textbox_"+t]=null);break}}),r.editors=new Array)},_showcelleditor:function(r,l,e,t,i){if(e!=null&&this.editcell!=null){if(l.columntype=="checkbox"&&l.editable){this.editmode=="selectedrow"&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[l.datafield]=e);return}i==null&&(i=!0),this.editmode=="selectedrow"&&(this.editchar="",i=!1);var s=l.datafield,o=a(e),d=this,n=this.editcell.editor,f=this.getcellvalue(r,s),h=this.getcelltext(r,s),c=this.hScrollInstance,p=c.value,v=parseInt(p);if(this.columns.records.indexOf(l),this.editcell.element=e,this.editcell.validated==!1){var x="";this.validationpopup&&(x=this.validationpopup.text()),this._showvalidationpopup(r,s,x)}var w=function(Y){d.hScrollInstance.isScrolling()||d.vScrollInstance.isScrolling()||i&&(d.isTouchDevice()||(Y&&Y.focus(),d.gridcontent[0].scrollTop!=0&&(d.scrolltop(Math.abs(d.gridcontent[0].scrollTop)),d.gridcontent[0].scrollTop=0),d.gridcontent[0].scrollLeft!=0&&(d.gridcontent[0].scrollLeft=0)))};switch(l.columntype){case"dropdownlist":if(this.host.jqxDropDownList){e.innerHTML="";var Q=a.trim(l.datafield).split(" ").join(""),m=a.trim(l.displayfield).split(" ").join("");Q.indexOf(".")!=-1&&(Q=Q.replace(".","")),m.indexOf(".")!=-1&&(m=m.replace(".",""));var g=d.theme==="fluent"?2:0,b=this.editors["dropdownlist_"+Q];if(n=b??a("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"),n.css("top",g+a(e).parent().position().top),this.oldhscroll?n.css("left",g-v+parseInt(a(e).position().left)):n.css("left",g+parseInt(a(e).position().left)),l.pinned&&n.css("left",g+v+parseInt(a(e).position().left)),b==null){n.prependTo(this.table),n[0].id="dropdownlisteditor"+this.element.id+Q;var _=!!this.source._source,y=null;if(!_)y=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[m],async:!1,autoSort:!0,autoSortField:m});else{var j={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1};y=new a.jqx.dataAdapter(j,{autoBind:!1,async:!1,uniqueDataFields:[m],autoSort:!0,autoSortField:m})}var C=!l.createeditor;n.jqxDropDownList({hint:!1,enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:C,theme:this.theme,width:o.width()-g,height:o.height()-g,displayMember:m,valueMember:s}),this.editors["dropdownlist_"+Q]=n,l.createeditor&&l.createeditor(r,f,n)}l._requirewidthupdate&&n.jqxDropDownList({width:o.width()});var L=n.jqxDropDownList("listBox").visibleItems;l.createeditor||(L.length<8?n.jqxDropDownList("autoDropDownHeight",!0):n.jqxDropDownList("autoDropDownHeight",!1));var f=this.getcellvalue(r,m),k=this.findRecordIndex(f,m,L);if(t&&(f!=""?n.jqxDropDownList("selectIndex",k,!0):n.jqxDropDownList("selectIndex",-1)),!this.editcell)return;this.editcell.defaultvalue!=null&&n.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),i&&n.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){e.innerHTML="";var Q=a.trim(l.datafield).split(" ").join(""),m=a.trim(l.displayfield).split(" ").join("");Q.indexOf(".")!=-1&&(Q=Q.replace(".","")),m.indexOf(".")!=-1&&(m=m.replace(".",""));var g=d.theme==="fluent"?2:0,O=this.editors["combobox_"+Q];if(n=O??a("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"),n.css("top",g+a(e).parent().position().top),this.oldhscroll?n.css("left",-v+g+parseInt(a(e).position().left)):n.css("left",g+parseInt(a(e).position().left)),l.pinned&&n.css("left",g+v+parseInt(a(e).position().left)),O==null){n.prependTo(this.table),n[0].id="comboboxeditor"+this.element.id+Q;var _=!!this.source._source,y=null;if(!_)y=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[m],async:!1,autoSort:!0,autoSortField:m});else{var j={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1};y=new a.jqx.dataAdapter(j,{autoBind:!1,async:!1,uniqueDataFields:[m],autoSort:!0,autoSortField:m})}var C=!l.createeditor;n.jqxComboBox({hint:!1,enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:C,theme:this.theme,width:o.width()-g,height:o.height()-g,displayMember:m,valueMember:s}),n.removeAttr("tabindex"),n.find("div").removeAttr("tabindex"),this.editors["combobox_"+Q]=n,l.createeditor&&l.createeditor(r,f,n)}l._requirewidthupdate&&n.jqxComboBox({width:o.width()-2});var L=n.jqxComboBox("listBox").visibleItems;l.createeditor||(L.length<8?n.jqxComboBox("autoDropDownHeight",!0):n.jqxComboBox("autoDropDownHeight",!1));var f=this.getcellvalue(r,m),k=this.findRecordIndex(f,m,L);if(t&&(f!=""?(n.jqxComboBox("selectIndex",k,!0),n.jqxComboBox("val",f)):(n.jqxComboBox("selectIndex",-1),n.jqxComboBox("val",f))),!this.editcell)return;this.editcell.defaultvalue!=null&&n.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&n.jqxComboBox("input").val(this.editchar),i&&setTimeout(function(){if(w(n.jqxComboBox("input")),n){if(n.jqxComboBox("_setSelection",0,0),d.editchar)n.jqxComboBox("_setSelection",1,1),d.editchar=null;else if(n.jqxComboBox("input")){var V=n.jqxComboBox("input").val();n.jqxComboBox("_setSelection",0,V.length)}}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){e.innerHTML="";var Q=a.trim(l.datafield).split(" ").join("");Q.indexOf(".")!=-1&&(Q=Q.replace(".",""));var g=d.theme==="fluent"?2:0,X=this.editors["datetimeinput_"+Q];if(n=X??a("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"),n.show(),n.css("top",g+a(e).parent().position().top),this.oldhscroll?n.css("left",g-v+parseInt(a(e).position().left)):n.css("left",g+parseInt(a(e).position().left)),l.pinned&&n.css("left",g+v+parseInt(a(e).position().left)),X==null){n.prependTo(this.table),n[0].id="datetimeeditor"+this.element.id+Q;var P={calendar:this.gridlocalization};n.jqxDateTimeInput({hint:!1,firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:P,_editor:!0,theme:this.theme,rtl:this.rtl,width:o.width()-g,height:o.height()-4*g,formatString:l.cellsformat}),this.editors["datetimeinput_"+Q]=n,l.createeditor&&l.createeditor(r,f,n)}if(l._requirewidthupdate&&n.jqxDateTimeInput({width:o.width()}),t){if(f!=""&&f!=null){var T=new Date(f);T=="Invalid Date"&&this.source.getvaluebytype&&(T=this.source.getvaluebytype(f,{name:l.datafield,type:"date"})),n.jqxDateTimeInput("setDate",T)}else n.jqxDateTimeInput("setDate",null);this.editcell.defaultvalue!=null&&n.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(i){var I=this.editEvent;setTimeout(function(){w(n.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){if(n.jqxDateTimeInput("_selectGroup",0),d.editchar&&d.editchar.length>0){var R=parseInt(d.editchar);if(!isNaN(R)&&I){var $=I.charCode?I.charCode:I.keyCode?I.keyCode:0;n.jqxDateTimeInput("_handleKeyPress",I,$)}}},25)},10)}}break;case"numberinput":if(this.host.jqxNumberInput){e.innerHTML="";var Q=a.trim(l.datafield).split(" ").join("");Q.indexOf(".")!=-1&&(Q=Q.replace(".",""));var g=d.theme==="fluent"?2:0,z=this.editors["numberinput_"+Q];if(n=z??a("<div style='border:none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"),n.show(),n.css("top",g+a(e).parent().position().top),this.oldhscroll?n.css("left",g-v+parseInt(a(e).position().left)):n.css("left",g+parseInt(a(e).position().left)),l.pinned&&n.css("left",g+v+parseInt(a(e).position().left)),z==null){n.prependTo(this.table),n[0].id="numbereditor"+this.element.id+Q;var q="",B="left",S=2;l.cellsformat?l.cellsformat.indexOf("c")!=-1?(q=this.gridlocalization.currencysymbol,B=this.gridlocalization.currencysymbolposition,B=="before"?B="left":B="right",l.cellsformat.length>1&&(S=parseInt(l.cellsformat.substring(1),10))):l.cellsformat.indexOf("p")!=-1&&(q=this.gridlocalization.percentsymbol,B="right",l.cellsformat.length>1&&(S=parseInt(l.cellsformat.substring(1),10))):S=0,n.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:S,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:o.width()-g,height:o.height()-g,spinButtons:!0,symbol:q,symbolPosition:B}),this.editors["numberinput_"+Q]=n,l.createeditor&&l.createeditor(r,f,n)}if(l._requirewidthupdate&&n.jqxNumberInput({width:o.width()}),t){if(f!=""&&f!=null){var D=f;n.jqxNumberInput("setDecimal",D)}else n.jqxNumberInput("setDecimal",0);if(this.editcell.defaultvalue!=null&&n.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var H=parseInt(this.editchar);isNaN(H)||n.jqxNumberInput("setDecimal",H)}i&&setTimeout(function(){if(w(n.jqxNumberInput("numberInput")),n.jqxNumberInput("_setSelectionStart",0),d.editchar)l.cellsformat.length>0&&l.cellsformat.indexOf("c")>=0?n.jqxNumberInput("_setSelectionStart",2):n.jqxNumberInput("_setSelectionStart",1),d.editchar=null;else{var R=n.jqxNumberInput("spinButtons");if(R){var $=n.jqxNumberInput("numberInput").val();d._setSelection(n.jqxNumberInput("numberInput")[0],$.length,$.length)}else{var $=n.jqxNumberInput("numberInput").val();d._setSelection(n.jqxNumberInput("numberInput")[0],0,$.length)}n.jqxNumberInput("selectAll")}},10)}}break;case"rating":if(this.host.jqxRating){e.innerHTML="";var Q=a.trim(l.datafield).split(" ").join("");Q.indexOf(".")!=-1&&(Q=Q.replace(".",""));var G=this.editors["rating_"+Q];if(n=G??a("<div style='margin: 5px;white-space: nowrap; overflow: auto; border:none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='ratingEditor'></div>"),n.show(),n.css("top",a(e).parent().position().top),this.oldhscroll?n.css("left",-v+parseInt(a(e).position().left)):n.css("left",parseInt(a(e).position().left)),l.pinned&&n.css("left",v+parseInt(a(e).position().left)),G==null&&(n.prependTo(this.table),n[0].id="ratingEditor"+this.element.id+Q,n.jqxRating({theme:this.theme,width:o.width(),height:o.height()}),this.editors["numberinput_"+Q]=n,l.createeditor&&l.createeditor(r,f,n)),l._requirewidthupdate&&n.jqxRating({width:o.width()}),t){if(f!=""&&f!=null){var D=f;n.jqxRating("val",D)}else n.jqxRating("val",0);this.editcell.defaultvalue!=null&&n.jqxRating("val",this.editcell.defaultvalue)}}break;case"custom":e.innerHTML="";var Q=a.trim(l.datafield).split(" ").join("");Q.indexOf(".")!=-1&&(Q=Q.replace(".",""));var N=this.editors["customeditor_"+Q+"_"+r];if(n=N??a("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"),n.show(),n.css("top",a(e).parent().position().top),this.oldhscroll?n.css("left",-v+parseInt(a(e).position().left)):n.css("left",parseInt(a(e).position().left)),l.pinned&&n.css("left",v+parseInt(a(e).position().left)),N==null){n.prependTo(this.table),n[0].id="customeditor"+this.element.id+Q+"_"+r,this.editors["customeditor_"+Q+"_"+r]=n;var A=o.width()-1,M=o.height()-1;n.width(A),n.height(M),l.createeditor&&l.createeditor(r,f,n,h,A,M,this.editchar)}l._requirewidthupdate&&n.width(o.width());break;case"template":e.innerHTML="";var Q=a.trim(l.datafield).split(" ").join("");Q.indexOf(".")!=-1&&(Q=Q.replace(".",""));var U=this.editors["templateeditor_"+Q];if(n=U??a("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"),n.show(),n.css("top",a(e).parent().position().top),this.oldhscroll?n.css("left",-v+parseInt(a(e).position().left)):n.css("left",parseInt(a(e).position().left)),l.pinned&&n.css("left",v+parseInt(a(e).position().left)),U==null){n.prependTo(this.table),n[0].id="templateeditor"+this.element.id+Q,this.editors["templateeditor_"+Q]=n;var A=o.width()-1,M=o.height()-1;n.width(A),n.height(M),l.createeditor&&l.createeditor(r,f,n,h,A,M,this.editchar)}l._requirewidthupdate&&n.width(o.width());break;case"textbox":default:e.innerHTML="",n=this.editors["textboxeditor_"+l.datafield]||a("<input autocomplete='off' style='padding-left: 4px; padding-right:4px; border: none; border-color: transparent;' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"),n[0].id="textboxeditor"+this.element.id+l.datafield,n.appendTo(o),this.rtl&&n.css("direction","rtl"),(t||n[0].className=="")&&(n.addClass(this.toThemeProperty("jqx-input")),n.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?n.val(this.editchar):(l.cellsformat!=""&&(f=this.getcelltext(r,s)),f==null&&(f=""),n.val(f)),this.editcell.defaultvalue!=null&&n.val(this.editcell.defaultvalue),n.width(o.width()+1),n.height(o.height()+1),l.createeditor&&l.createeditor(r,f,n),l.cellsformat!=""&&(l.cellsformat.indexOf("p")!=-1||l.cellsformat.indexOf("c")!=-1||l.cellsformat.indexOf("n")!=-1||l.cellsformat.indexOf("f")!=-1)&&(this.editors["textboxeditor_"+l.datafield]||n.keydown(function(Y){var E=Y.charCode?Y.charCode:Y.keyCode?Y.keyCode:0,R=String.fromCharCode(E),$=parseInt(R);if(isNaN($)||d._selection(n).length>0)return!0;var F="",W=n.val();if(l.cellsformat.length>1){var V=parseInt(l.cellsformat.substring(1));isNaN(V)&&(V=0)}else var V=0;if(V>0&&W.indexOf(d.gridlocalization.decimalseparator)!=-1&&d._selection(n).start>W.indexOf(d.gridlocalization.decimalseparator))return!0;for(var le=0;le<W.length-V;le++){var re=W.substring(le,le+1);re.match(/^[0-9]+$/)!=null&&(F+=re)}if(F.length>=11)return!1}))),this.editors["textboxeditor_"+l.datafield]=n,t&&i&&setTimeout(function(){w(n),d.editchar?(d._setSelection(n[0],1,1),d.editchar=null):d._setSelection(n[0],0,n.val().length)},25);break}n&&(n.addClass("jqx-grid-cell-edit"),n[0].style.zIndex=1+parseInt(e.style.zIndex),a.jqx.browser.msie&&a.jqx.browser.version<8&&(n[0].style.zIndex=1+this.columns.records.length+e.style.zIndex),n.css("display","block"),this.editcell.editor=n,this.editcell[s]?this.editcell[s].editor=n:(this.editcell[s]={},this.editcell[s].editor=n)),t&&l.initeditor&&l.initeditor(r,f,n,h,this.editchar),!d.isTouchDevice()&&setTimeout(function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(r,l,e){try{if("selectionStart"in r)r.setSelectionRange(l,e);else{var t=r.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",l),t.select()}}catch{}},_hideeditors:function(){if(this.editcells!=null){var r=this;for(var l in this.editcells)r.editcell=r.editcells[l],r._hidecelleditor()}},_hidecelleditor:function(r){if(this.editcell){if(this.editmode==="selectedrow"){for(var l=0;l<this.columns.records.length;l++){var e=this.columns.records[l];if(this.editcell[e.datafield]&&this.editcell[e.datafield].editor){this.editcell[e.datafield].editor.hide();var t=this.editcell[e.datafield].editor;switch(e.columntype){case"dropdownlist":t.jqxDropDownList({closeDelay:0}),t.jqxDropDownList("hideListBox"),t.jqxDropDownList({closeDelay:300});break;case"combobox":t.jqxComboBox({closeDelay:0}),t.jqxComboBox("hideListBox"),t.jqxComboBox({closeDelay:300});break;case"datetimeinput":t.jqxDateTimeInput("isOpened")&&(t.jqxDateTimeInput({closeDelay:0}),t.jqxDateTimeInput("hideCalendar"),t.jqxDateTimeInput({closeDelay:300}));break}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());return}if(this.editcell.columntype!="checkbox"){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var i=this.editcell.editor;i.jqxDateTimeInput("isOpened")&&(i.jqxDateTimeInput({closeDelay:0}),i.jqxDateTimeInput("hideCalendar"),i.jqxDateTimeInput({closeDelay:300}));break}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||r!=!1&&this.element.focus()}}},_geteditorvalue:function(r){var l=new String;if(!this.editcell)return null;var e=this.editcell.editor;if(this.editmode=="selectedrow"&&this.editcell[r.datafield])var e=this.editcell[r.datafield].editor;if(e){switch(r.columntype){case"textbox":default:if(l=e.val(),r.cellsformat!=""){var t="string",i=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(i){var s="";a.each(i,function(){if(this.name==r.displayfield)return this.type&&(s=this.type),!1}),s&&(t=s)}var o=t==="number"||t==="float"||t==="int"||t==="integer",d=t==="date"||t==="time";if(o||t==="string"&&(r.cellsformat.indexOf("p")!=-1||r.cellsformat.indexOf("c")!=-1||r.cellsformat.indexOf("n")!=-1||r.cellsformat.indexOf("f")!=-1)){if(l===""&&r.nullable)return"";l.indexOf&&l.indexOf(this.gridlocalization.currencysymbol)>-1&&(l=l.replace(this.gridlocalization.currencysymbol,""));var n=function(_,y,j){var C=_;if(y==j)return _;for(var L=C.indexOf(y);L!=-1;)C=C.replace(y,j),L=C.indexOf(y);return C},f=l;if(f=new Number(f),!isNaN(f))return f;l=n(l,this.gridlocalization.thousandsseparator,""),l=l.replace(this.gridlocalization.decimalseparator,"."),l.indexOf(this.gridlocalization.percentsymbol)>-1&&(l=l.replace(this.gridlocalization.percentsymbol,""));for(var h="",c=0;c<l.length;c++){var p=l.substring(c,c+1);p==="-"&&(h+="-"),p==="."&&(h+="."),p.match(/^[0-9]+$/)!=null&&(h+=p)}l=h,l=l.replace(/ /g,""),l=new Number(l),isNaN(l)&&(l="")}if(d||t==="string"&&(r.cellsformat.indexOf("H")!=-1||r.cellsformat.indexOf("m")!=-1||r.cellsformat.indexOf("M")!=-1||r.cellsformat.indexOf("y")!=-1||r.cellsformat.indexOf("h")!=-1||r.cellsformat.indexOf("d")!=-1)){if(l===""&&r.nullable)return"";var v=l;a.jqx.dataFormat&&(l=a.jqx.dataFormat.tryparsedate(v,this.gridlocalization)),(l=="Invalid Date"||l==null)&&(l="")}}r.displayfield!=r.datafield&&(l={label:l,value:l});break;case"checkbox":e.jqxCheckBox&&(l=e.jqxCheckBox("checked"));break;case"datetimeinput":if(e.jqxDateTimeInput){if(e.jqxDateTimeInput({isEditing:!1}),e.jqxDateTimeInput("container").css("display")!=="none"&&e.jqxDateTimeInput("close"),e.jqxDateTimeInput("_validateValue"),l=e.jqxDateTimeInput("getDate"),l==null)return null;l=new Date(l.toString()),r.displayfield!=r.datafield&&(l={label:l,value:l})}break;case"dropdownlist":if(e.jqxDropDownList){var x=e.jqxDropDownList("selectedIndex"),w=e.jqxDropDownList("listBox").getVisibleItem(x);r.displayfield!=r.datafield?w?l={label:w.label,value:w.value}:l="":w?l=w.label:l="",l==null&&(l="")}break;case"combobox":if(e.jqxComboBox){if(l=e.jqxComboBox("val"),r.displayfield!=r.datafield){var w=e.jqxComboBox("getSelectedItem");w!=null&&(l={label:w.label,value:w.value})}l==null&&(l="")}break;case"numberinput":if(e.jqxNumberInput){this.touchdevice&&e.jqxNumberInput("_doTouchHandling");var m=e.jqxNumberInput("getDecimal");l=new Number(m),l=parseFloat(l),isNaN(l)&&(l=0),m===null&&(l=null);var g=e.jqxNumberInput("max"),b=e.jqxNumberInput("min");l=Math.min(g,Math.max(b,l)),r.displayfield!=r.datafield&&(l={label:l,value:l})}break}r.geteditorvalue&&(this.editmode=="selectedrow"?l=r.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,r.datafield),e):l=r.geteditorvalue(this.editcell.row,this.editcell.value,e))}return l},hidevalidationpopups:function(){this.popups&&(a.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(r,l,e){if(e==null)var e=this.gridlocalization.validationstring;var t=a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),i=a("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");t.html(e),i.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),t.addClass(this.toThemeProperty("jqx-grid-validation")),t.addClass(this.toThemeProperty("jqx-rc-all")),t.prependTo(this.table),i.prependTo(this.table);for(var s=this.hScrollInstance,o=s.value,d=parseInt(o),n=this.getcolumn(l).uielement,f=null,h=0;h<this.hittestinfo.length;h++)r===this.hittestinfo[h].row.visibleindex&&(f=this.hittestinfo[h]);if(!f){this.ensurerowvisible(r);var c=this;t.remove(),i.remove(),setTimeout(function(){for(var b=null,_=0;_<c.hittestinfo.length;_++)r===c.hittestinfo[_].row.visibleindex&&(b=c.hittestinfo[_]);b&&c.showvalidationpopup(r,l,e)},25);return}var p=a(f.visualrow);t.css("top",parseInt(p.position().top)+30+"px");var v=parseInt(t.css("top"));i.css("top",v-12),i.removeClass(),i.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var x=!1;v>=this._gettableheight()-this.rowsheight&&(i.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),i.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),v=parseInt(p.position().top)-this.rowsheight,v<0&&(v=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),x=!0),t.css("top",v+"px"),i.css("top",v+t.outerHeight()-9));var w=-d+parseInt(a(n).position().left);n[0].offsetHeight===0&&(w=-d+parseInt(n[0].style.left)),i.css("left",d+w+30);var m=t.width();if(m+w>this.host.width()-20){var g=m+w-this.host.width()+40;w-=g}x?t.css("left",d+parseInt(a(n).position().left)-t.outerWidth()):t.css("left",d+w),t.show(),i.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:t,validationrow:i}},_showvalidationpopup:function(r,l,e){var t=this.editcell,i=this.editcell.editor;if(this.editmode=="selectedrow"){var t=this.editcell[l];t&&t.editor&&(i=t.editor,t.element=i)}if(i&&!(this.validationpopup&&a.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,l===void 0&&e===void 0&&this.editors&&this.editors.length===0))){if(this.validationpopup)this.validationpopup.html(e);else{var s=a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=a("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");s.html(e),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),s.addClass(this.toThemeProperty("jqx-grid-validation")),s.addClass(this.toThemeProperty("jqx-rc-all")),s.prependTo(this.table),o.prependTo(this.table),this.validationpopup=s,this.validationpopuparrow=o}var d=this.hScrollInstance,n=d.value,f=parseInt(n);this.editmode=="selectedrow"?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(a(t.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(a(t.element).parent().position().top)+(this.rowsheight+5)+"px");var h=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",h-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var c=this._gettableheight(),p=!1;h>=c&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),h=parseInt(a(t.element).parent().position().top)-this.rowsheight-5,this.editmode=="selectedrow"&&(this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?h=this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:h=parseInt(a(t.editor).position().top)-this.rowsheight-5),h<0&&(h=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),p=!0),this.validationpopup.css("top",h+"px"),this.validationpopuparrow.css("top",h+this.validationpopup.outerHeight()-9));var v=-f+parseInt(a(t.element).offset().left);this.validationpopuparrow.css("left",f+v+30);var x=this.validationpopup.width();if(x+v>this.host.width()-20){var w=x+v-this.host.width()+40;v-=w}p?this.validationpopup.css("left",f+parseInt(a(t.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",f+v),this.editcell.editor.css("display")=="none"?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})})(jqxBaseFramework)})();(function(){typeof document>"u"||(function(a){a.extend(a.jqx._jqxGrid.prototype,{_initpager:function(){var r=this.that,l=this.gridlocalization.pagergotopagestring;this.gridlocalization.pagerrangestring;var e=this.gridlocalization.pagershowrowsstring,t=(this.pagerheight-28)/2;if(this.pagerdiv=this.pagerdiv||a('<div style="line-height: 26px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable){this.pagerdiv.remove(),this.vScrollBar.jqxScrollBar({thumbSize:0});return}if(this.pagermode==="material"){var i=(function(){var b=a("<div style='margin-top: 5px; width: 100%; height: 100%;'></div>"),_=document.createElement("style");_.innerHTML=".jqx-center{text-align:center}.jqx-pagination{display:inline-block}.jqx-pagination span{float:left;text-decoration:none;transition:background-color .3s;border-style:solid;border-width:1px;margin:0 4px;border-radius:100%;width:38px;height:38px;display:flex;justify-content:center;align-content:center;align-items:center;cursor:pointer}",b[0].appendChild(_);var y=r.getdatainformation(),j=y.paginginformation;document.querySelector("#pager");var C=document.createElement("div");C.classList.add("jqx-center");for(var L="<span></span>",k=0;k<j.pagesize;k++)L+="<span>"+j.pagenum+k+1+"</span>";L+="<span></span>",C.innerHTML='<div class="jqx-pagination">'+L+"</div>",b[0].appendChild(C);for(var O=C.querySelectorAll("span"),X=r.theme,P=function(I,z,q){I.classList.add("jqx-grid-column-header"),q==="hover"&&I.classList[z]("jqx-fill-state-hover"),X&&(I.classList.add("jqx-grid-column-header-"+X),q==="hover"&&I.classList[z]("jqx-fill-state-hover-"+X)),q==="pressed"&&(I.classList[z]("active"),I.classList[z]("jqx-grid-cell-selected"),X&&I.classList[z]("jqx-grid-cell-selected-"+X))},k=0;k<O.length;k++){var T=O[k];k>0&&k<O.length-1?(T.innerHTML=j.pagenum+k,T.setAttribute("data-page",k)):(k===0&&T.setAttribute("data-page","prev"),k===O.length-1&&T.setAttribute("data-page","next")),k===j.pagenum+1&&P(T,"add","pressed"),P(T,"add","normal"),T.onmouseenter=function(){P(this,"add","hover")},T.onmouseleave=function(){P(this,"remove","hover")},T.onpointerdown=function(){P(this,"add","pressed")},T.onclick=function(){for(var z=0;z<O.length;z++)P(O[z],"remove","pressed");var q=this.getAttribute("data-page"),B=r.getdatainformation(),S=B.paginginformation;q==="prev"&&S.pagenum>0?r.gotoprevpage():q==="next"&&S.pagenum<S.pagescount-1?r.gotonextpage():q!=="prev"&&q!=="next"&&(q=parseInt(q),r.gotopage(q-1));var D=!1,H=null;B=r.getdatainformation(),S=B.paginginformation;for(var G=0;G<O.length;G++){var N=O[G],q=parseInt(N.getAttribute("data-page"));q===S.pagenum+1&&P(N,"add","pressed");var A=parseInt(O[1].getAttribute("data-page"))-1,M=[A,A+S.pagesize];(S.pagenum<M[0]||S.pagenum>=M[1])&&G>0&&G<O.length-1&&(H?H++:H=Math.max(1,S.pagenum-S.pagesize+G+1),N.innerHTML=H,D=!0)}if(D)for(var G=1;G<O.length-1;G++){var N=O[G],Q=parseInt(N.innerHTML);Q===S.pagenum+1&&P(N,"add","pressed"),N.setAttribute("data-page",Q)}return!1}}return b})();this.pagerdiv.children().remove(),this.pagerdiv.append(a(i)),this.pager.append(this.pagerdiv)}else if(this.pagerrenderer){this.pagerdiv.children().remove();var i=this.pagerrenderer();i!=null&&this.pagerdiv.append(a(i)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",t),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||a('<div style="margin-right: 12px; height: 28px; float: right;"><input style="height:100%; box-sizing: border-box; text-align: right; width: 36px;" type="text"/></div>'),this.pagergoto=this.pagergoto||a('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||a('<div type="button" style="padding: 0px; margin-right: 3px; height:26px; width: 26px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||a('<div type="button" style="padding: 0px; margin-right: 3px; height:26px; width: 26px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||a('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||a('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=a('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=a('<div type="button" style="padding: 0px; margin-left: 3px; margin-right: 3px; width: 26px; float: right;"></div>'),this.pagerlastbutton=a('<div type="button" style="padding: 0px; margin-right: 3px; width: 26px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||a('<div id="gridpagerlist" style="margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),this.pagermode=="simple"){a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var s=a("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");s.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(s);var o=a("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(o),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var d=this.rtl?"right":"left";this.pagerbuttons.css("float",d),this.pagerlastbutton.css("float",d),this.pagerfirstbutton.css("float",d),this.pagerrightbutton.css("float",d),this.pagerleftbutton.css("float",d),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var n=a("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(n);var f=a("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");f.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(f),this.pagerdiv.append(this.pagerdetails),this.pagermode!="simple"&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var h=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:h,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:28,theme:this.theme});for(var c=0,p=0;p<h.length;p++)this.pagesize>=h[p]&&(c=p);this.pagershowrows[0].innerHTML=e,this.pagergoto[0].innerHTML=l,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:c}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var v=6+(this.columns.records?this.columns.records.length:this.columns.length);this.pagerpageinput.attr("tabindex",v++),this.pagershowrowscombo.attr("tabindex",v++),this.pagerleftbutton.attr("tabindex",v++),this.pagerrightbutton.attr("tabindex",v++);var r=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(_){if(_.args){r.vScrollInstance&&r.vScrollInstance.setPosition(0),r.editcell!=null&&r.endcelledit&&r.endcelledit(r.editcell.row,r.editcell.column,!0,!1);var y=_.args.index,j=r.dataview.pagenum*r.dataview.pagesize,C=h[y],L=r.pagesize;r.pagesize=parseInt(C),isNaN(r.pagesize)&&(r.pagesize=10),r.dataview.pagesize=r.pagesize;var k=Math.floor(j/r.dataview.pagesize);r.prerenderrequired=!0,r._requiresupdate=!0,r._raiseEvent(10,{pagenum:k,oldpagesize:L,pagesize:r.dataview.pagesize}),r.gotopage(k),r.autoheight&&r._updatesizeonwindowresize&&(r._updatesize(!0),setTimeout(function(){r._updatesize(!0)},500)),setTimeout(function(){r.pagershowrowscombo.focus()},25)}});var x=this.pagergotoinput.find("input");x.addClass(this.toThemeProperty("jqx-grid-pager-input")),x.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(x,"keydown"),this.removeHandler(x,"change"),this.addHandler(x,"keydown",function(_){if(_.keyCode>=65&&_.keyCode<=90)return!1;if(_.keyCode=="13"){var y=x.val();return y=parseInt(y),isNaN(y)||(r.gotopage(y-1),setTimeout(function(){x.focus()},25)),!1}}),this.addHandler(x,"change",function(){var _=x.val();_=parseInt(_),isNaN(_)||(r.gotopage(_-1),setTimeout(function(){x.focus()},25))}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){f.addClass(r.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){n.addClass(r.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){f.removeClass(r.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){n.removeClass(r.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){f.addClass(r.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){f.removeClass(r.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){n.addClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){n.removeClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(a(document),"mouseup.pagerbuttons"+this.element.id,function(){f.removeClass(r.toThemeProperty("jqx-icon-arrow-right-selected")),n.removeClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){r.pagerrightbutton.jqxButton("disabled")||(r.rtl?r.gotoprevpage():r.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){r.pagerleftbutton.jqxButton("disabled")||(r.rtl?r.gotonextpage():r.gotoprevpage())}),this.addHandler(this.pagerrightbutton,"keydown",function(_){_.keyCode===13&&(r.pagerrightbutton.jqxButton("disabled")||(r.rtl?r.gotoprevpage():r.gotonextpage(),setTimeout(function(){r.pagerrightbutton.focus()},25)))}),this.addHandler(this.pagerleftbutton,"keydown",function(_){_.keyCode===13&&(r.pagerleftbutton.jqxButton("disabled")||(r.rtl?r.gotonextpage():r.gotoprevpage(),setTimeout(function(){r.pagerleftbutton.focus()},25)))});var w=this;if(this.pagermode==="simple"){var m=this.pagerfirstbutton,g=this.pagerlastbutton;this.addHandler(g,"mouseenter",function(){o.addClass(w.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(m,"mouseenter",function(){s.addClass(w.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(g,"mouseleave",function(){o.removeClass(w.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(m,"mouseleave",function(){s.removeClass(w.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(g,"mousedown",function(){o.addClass(w.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(m,"mousedown",function(){s.addClass(w.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(g,"mouseup",function(){o.removeClass(w.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(m,"mouseup",function(){s.removeClass(w.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(a(document),"mouseup.pagerbuttons"+name+this.element.id,function(){f.removeClass(w.toThemeProperty("jqx-icon-arrow-right-selected")),n.removeClass(w.toThemeProperty("jqx-icon-arrow-left-selected")),o&&(o.removeClass(w.toThemeProperty("jqx-icon-arrow-last-selected")),s.removeClass(w.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(m,"click",function(){if(!m.jqxButton("disabled"))if(!w.rtl)w.gotopage(0);else{var _=w.dataview.totalrecords,y=Math.ceil(_/w.pagesize);w.gotopage(y-1)}}),this.addHandler(g,"click",function(){if(!g.jqxButton("disabled"))if(w.rtl)w.gotopage(0);else{var _=w.dataview.totalrecords,y=Math.ceil(_/w.pagesize);w.gotopage(y-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(this.pagershowrowscombo!=null){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var r=this.pagergotoinput.find("input");r.removeClass(),r.addClass(this.toThemeProperty("jqx-grid-pager-input")),r.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var l=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");l.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(l);var e=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(e.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(e),this.pagermode=="simple"){a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var t=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");t.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(t);var i=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(i),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var s=function(d,n){d.removeHandler(n,"mouseenter"),d.removeHandler(n,"mouseleave"),d.removeHandler(n,"mousedown"),d.removeHandler(n,"mouseup")};s(this,this.pagerrightbutton),s(this,this.pagerleftbutton);var o=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){e.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){l.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){e.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){l.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){e.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){e.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){l.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){l.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(r){if((r==null||r==null)&&(r=0),r==-1&&(r=0),!(r<0)){var l=this.dataview.totalrecords;this.summaryrows&&(l+=this.summaryrows.length);var e=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:r,pagesize:this.dataview.pagesize});var t=Math.ceil(l/this.pagesize);if(r>=t&&(this.dataview.totalrecords==0&&(this.dataview.pagenum=0,this.updatepagerdetails()),r>0&&(r=t-1),r<0&&(r=0)),(this.dataview.pagenum!=r||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(r,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=r,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var i=r*this.dataview.pagesize,s=i+this.dataview.pagesize;if(i!=null&&s!=null){this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:r,oldpagenum:e,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),this.autosavestate&&this.savestate&&this.savestate();return}}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var o=this.host.height()-this._gettableheight(),d=o+this._pageviews[0].height;d!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}this.editcell!=null&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:r,oldpagenum:e,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if(this.pagermode!="simple"){var r=this.dataview.totalrecords;this.summaryrows&&(r+=this.summaryrows.length);var l=Math.ceil(r/this.pagesize);this.gotopage(l-1)}},gotonextpage:function(){var r=this.dataview.totalrecords;this.summaryrows&&(r+=this.summaryrows.length);var l=Math.ceil(r/this.pagesize);this.dataview.pagenum<l-1?this.gotopage(this.dataview.pagenum+1):this.pagermode!="simple"&&this.gotopage(0)},updatepagerdetails:function(){if(this.pagerdetails!=null&&this.pagerdetails.length>0){var r=this.dataview.pagenum*this.pagesize,l=(this.dataview.pagenum+1)*this.pagesize;l>=this.dataview.totalrecords&&(l=this.dataview.totalrecords);var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(l=e)),r++;var t=Math.ceil(e/this.dataview.pagesize);if(t>=1&&t--,t++,this.pagermode!=="simple"){var i=this.pagergotoinput.find("input");i.val(this.dataview.pagenum+1)}else{var s="",o=this.pagerbuttonscount;(o==0||!o)&&(o=5);var d=0;for(this.rtl&&(d=o-1);this.rtl&&d>=0||!this.rtl&&d<o;){var n=1+d,f=this.dataview.pagenum/o,h=Math.floor(f);n+=h*o;var c=this.toTP("jqx-grid-pager-number");if(c+=" "+this.toTP("jqx-rc-all"),n>t)break;if(this.rtl||d==0&&n>o&&(s+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+(-1+n)+"'>...</a>"),this.dataview.pagenum===n-1&&(c+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(d===o-1){var c=this.toTP("jqx-grid-pager-number");c+=" "+this.toTP("jqx-rc-all"),t>=1+n&&(s+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+(1+n)+"'>...</a>")}this.dataview.pagenum===n-1&&(c+=" "+this.toTP("jqx-fill-state-pressed")),s+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+n+"'>"+n+"</a>"}else if(s+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+n+"'>"+n+"</a>",d===o-1){var c=this.toTP("jqx-grid-pager-number");c+=" "+this.toTP("jqx-rc-all"),t>=1+n&&(s+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+(1+n)+"'>...</a>")}if(this.rtl){var c=this.toTP("jqx-grid-pager-number");c+=" "+this.toTP("jqx-rc-all"),d==0&&n>o&&(s+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+(-1+n)+"'>...</a>")}this.rtl?d--:d++}var x=this.pagerbuttons.find("a");this.removeHandler(x,"click"),this.removeHandler(x,"mouseenter"),this.removeHandler(x,"mouseleave"),this.pagerbuttons[0].innerHTML=s;var p=this,v=function(){p.addHandler(x,"click",function(w){var m=a(w.target).attr("data-page");return p.gotopage(parseInt(m)-1),!1}),p.addHandler(x,"mouseenter",function(w){a(w.target).addClass(p.toTP("jqx-fill-state-hover"))}),p.addHandler(x,"mouseleave",function(w){a(w.target).removeClass(p.toTP("jqx-fill-state-hover"))})},x=this.pagerbuttons.find("a");v(x)}this.pagergotoinput.attr("title","1 - "+t),l==0&&l<r&&(r=0),this.rtl?this.pagerdetails[0].innerHTML=e+this.gridlocalization.pagerrangestring+l+"-"+r:this.pagerdetails[0].innerHTML=r+"-"+l+this.gridlocalization.pagerrangestring+e,r>l&&this.gotoprevpage()}},_updatepagedview:function(r,l,e){var t=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var i=this.dataview.rows.length,s=0;s<i;s++){var o=this.dataview.rows[s].visibleindex,d={index:o,height:this.heights[o],hidden:this.hiddens[o],details:this.details[o]};if(this.heights[o]==null&&(this.heights[o]=this.rowsheight,d.height=this.rowsheight),this.hiddens[o]==null&&(this.hiddens[o]=!1,d.hidden=!1),this.details[o]==null&&(this.details[o]=null),d.height!=t.rowsheight&&(l-=t.rowsheight,l+=d.height),d.hidden)l-=d.height;else{e+=d.height;var n=0;this.rowdetails&&d.details&&d.details.rowdetails&&!d.details.rowdetailshidden&&(n=d.details.rowdetailsheight,e+=n,l+=n)}}return this._pageviews[0]={top:0,height:e},l}})})(jqxBaseFramework)})();(function(){typeof document>"u"||(function(a){a.extend(a.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var r=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array,this.selectedcells=new Array;for(var l=this.dataview.loadedrecords,e=0;e<r;e++){var t=l[e];if(!t){this.selectedrowindexes[e]=e;continue}var i=this.getboundindex(t);i!=null&&(this.selectedrowindexes[e]=i);for(var s=0;s<this.columns.records.length;s++)this.selectedcells[i+"_"+this.columns.records[s].datafield]=!0}this.selectionmode=="checkbox"&&!this._checkboxcolumnupdating&&this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,this.selectionmode=="checkbox"&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){if(this._trigger=!1,this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length,this.dataview.filters.length>0&&this.selectionmode=="checkbox"&&!this.virtualmode)for(var r=this.getrows(),l=0;l<r.length;l++){var e=r[l];if(!e){delete this.selectedrowindexes[l];continue}var t=this.getboundindex(e);if(t!=null){for(var i=0;i<this.selectedrowindexes.length;i++)if(this.selectedrowindexes[i]===t){delete this.selectedrowindexes[i];break}}for(var s=0;s<this.columns.records.length;s++)delete this.selectedcells[t+"_"+this.columns.records[s].datafield]}else this.selectedrowindexes=new Array,this.selectedcells=new Array;this.selectionmode=="checkbox"&&!this._checkboxcolumnupdating&&this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,this.selectionmode=="checkbox"&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(r,l){this.selectionmode!=="none"&&(this._applyrowselection(r,!0,l),l!==!1&&this._updatecheckboxselection())},_updatecheckboxselection:function(){if(this.selectionmode=="checkbox"){var r=this.getrows();if(r&&this._checkboxcolumn){if(r.length===0){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});return}var l=r.length;this.groupable&&(l=this.dataview.loadedrecords.length),this.virtualmode&&(l=this.source._source.totalrecords);var e=this.selectedrowindexes.length;e===l?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):e===0?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(r,l){this._applyrowselection(r,!1,l),l!==!1&&this._updatecheckboxselection()},selectcell:function(r,l){this._applycellselection(r,l,!0)},unselectcell:function(r,l){this._applycellselection(r,l,!1)},clearselection:function(r,l){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,l!==!1)for(var e=0;e<this.selectedrowindexes.length;e++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[e]});this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,this.selectionmode=="checkbox"&&!this._checkboxcolumnupdating&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});for(var e=0;e<this.columns.records.length;e++)this.columns.records[e].selected=!1,this.columns.records[e]._applyStyle();if(r===!1){this._trigger=!0;return}this._renderrows(this.virtualsizeinfo),this._trigger=!0,this.selectionmode=="checkbox"&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})},getselectedrowindex:function(){if(this.selectedrowindex==-1||this.selectedrowindex==null)for(var r=0;r<this.selectedrowindexes.length;r++)return this.selectedrowindexes[r];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var r=this.selectedcell;return r.row=this.selectedcell.rowindex,r.column=this.selectedcell.datafield,r.value=this.getcellvalue(r.row,r.column),r},getselectedcells:function(){var r=new Array;for(var l in this.selectedcells)r[r.length]=this.selectedcells[l];return r},getselection:function(){return{cells:this.getselectedcells(),rows:this.getselectedrowindexes()}},_getcellsforcopypaste:function(){var r=new Array;if(this.selectionmode.indexOf("cell")==-1){for(var l=this.selectedrowindexes,e=0;e<l.length;e++)for(var t=l[e],i=0;i<this.columns.records.length;i++)if(this.columns.records[i].datafield!=="_checkboxcolumn"){t+""+this.columns.records[i].datafield;var s={rowindex:t,datafield:this.columns.records[i].datafield};r.push(s)}}return r},deleteselection:function(){var r=this,l=r.getselectedcells();if(this.selectionmode.indexOf("cell")==-1&&(l=this._getcellsforcopypaste()),l!=null&&l.length>0){for(var e=0;e<l.length;e++){var t=l[e],i=r.getcolumn(t.datafield),s=r.getcellvalue(t.rowindex,t.datafield);if(i&&s!==""){var o=null;i.columntype=="checkbox"&&(i.threestatecheckbox||(o=!1)),r._raiseEvent(17,{rowindex:t.rowindex,datafield:t.datafield,value:s}),e==l.length-1?(r.setcellvalue(t.rowindex,t.datafield,o,!0),i.displayfield!=i.datafield&&r.setcellvalue(t.rowindex,i.displayfield,o,!0)):(r.setcellvalue(t.rowindex,t.datafield,o,!1),i.displayfield!=i.datafield&&r.setcellvalue(t.rowindex,i.displayfield,o,!0)),r._raiseEvent(18,{rowindex:t.rowindex,datafield:t.datafield,oldvalue:s,value:o})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var r="",l=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var e=l.getselectedcells();this.selectionmode.indexOf("cell")==-1&&(e=this._getcellsforcopypaste());var t=new Array;if(e!=null&&e.length>0){for(var i=999999999999999,s=-1,o=0;o<e.length;o++){var d=e[o],n=l.getcolumn(d.datafield);if(n!=null&&n.clipboard&&(!n.hidden||this.copytoclipboardhiddencolumns)){t.indexOf(n.text)==-1&&t.push(n.text);var f=l.getcelltext(d.rowindex,n.displayfield),h=this.getrowdisplayindex(d.rowindex);this.clipboardselection[h]||(this.clipboardselection[h]={}),this.clipboardselection[h][n.displayfield]=f,this.logicalclipboardselection[h]||(this.logicalclipboardselection[h]={}),this.logicalclipboardselection[h][n.displayfield]=f,n.displayfield!=n.datafield&&(this.logicalclipboardselection[h][n.datafield]=l.getcellvalue(d.rowindex,n.datafield)),i=Math.min(i,h),s=Math.max(s,h)}}for(var c=new Array,p=i;p<=s;p++)if(this.logicalclipboardselection[p]){var v=a.extend({},this.logicalclipboardselection[p]);c.push(v)}if(this.logicalclipboardselection=c,this.copytoclipboardwithheaders){for(var x=0;x<t.length;x++)x>0&&(r+="	"),r+=t[x];r+=`\r
`}for(var p=i;p<=s;p++){var w=0;if(this._clipboardselection[this._clipboardselection.length]=new Array,this.clipboardselection[p]!=null)a.each(this.clipboardselection[p],function(g,b){w>0&&(r+="	");var _=b;b==null&&(_=""),l._clipboardselection[l._clipboardselection.length-1][w]=_,w++,r+=_});else continue;p<s&&(r+=`\r
`)}}return this.clipboardselectedtext=r,r},pasteselection:function(){var r=this.getselectedcells();if(this._oldselectedcell=null,this.selectionmode.indexOf("cell")==-1&&(r=this._getcellsforcopypaste()),r!=null&&r.length>0){var l=r[0].rowindex,e=this.getrowdisplayindex(l),t=r[0].datafield,i=this._getcolumnindex(t);this.selectedrowindexes=new Array,this.selectedcells=new Array,r.length;var s=0,o=new Array,d=[];this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1),this._clipboardselection||(this._clipboardselection=[]);for(var n=0;n<this._clipboardselection.length;n++){s+=this._clipboardselection[n].length,o[n]=new Array;for(var f=0;f<this._clipboardselection[n].length;f++){var h=this._clipboardselection[n][f];o[n].push(h)}}if(s<r.length){for(var c=new Array,n=0;n<r.length;n++){var p=r[n];c[p.rowindex]||(c[p.rowindex]=new Array),c[p.rowindex].push(p)}for(var v=0,x=0,n=0;n<c.length;n++)if(c[n]){for(var f=0;f<c[n].length;f++){var p=c[n][f],w=p.rowindex,m=this.getcolumn(p.datafield);if(m.datafield!=="_checkboxcolumn"&&!m.hidden&&m.editable!==!1){var h="";if(o[v]&&o[v][x]==null&&(x=0),h=""+o[v][x],x++,m.cellsformat&&(m.cellsformat.indexOf("p")!=-1||m.cellsformat.indexOf("d")!=-1||m.cellsformat.indexOf("c")!=-1||m.cellsformat.indexOf("n")!=-1||m.cellsformat.indexOf("f")!=-1)){h.indexOf&&h.indexOf(this.gridlocalization.currencysymbol)>-1&&(h=h.replace(this.gridlocalization.currencysymbol,""));var g=function(I,z,q){var B=I;if(z==q)return I;for(var S=B.indexOf(z);S!=-1;)B=B.replace(z,q),S=B.indexOf(z);return B};h=g(h,this.gridlocalization.thousandsseparator,""),h=h.replace(this.gridlocalization.decimalseparator,"."),h.indexOf(this.gridlocalization.percentsymbol)>-1&&(h=h.replace(this.gridlocalization.percentsymbol,""));for(var b="",_=0;_<h.length;_++){var y=h.substring(_,_+1);y==="-"&&(b+="-"),y==="."&&(b+="."),y.match(/^[0-9]+$/)!=null&&(b+=y)}h=b,h=h.replace(/ /g,""),h=new Number(h),isNaN(h)&&(h="")}this._raiseEvent(17,{rowindex:w,datafield:p.datafield,value:h});var j=this.getrowdata(w);if(d.push({oldvalue:j[p.datafield],value:h,datafield:p.datafield,row:w}),this.pushToHistory=!0,this.setcellvalue(w,m.displayfield,h,!1),this.pushToHistory=!1,m.displayfield!=m.datafield&&this.logicalclipboardselection&&this.logicalclipboardselection[w]){var C=this.logicalclipboardselection[w][m.datafield];C!=null&&this.setcellvalue(w,m.datafield,C,!1)}this._raiseEvent(18,{rowindex:w,datafield:p.datafield,oldvalue:this.getcellvalue(p.rowindex,p.datafield),value:h}),this._applycellselection(w,p.datafield,!0,!1)}}v++,x=0,o[v]||(v=0)}}else{if(!this._clipboardselection)return;for(var j=0;j<this._clipboardselection.length;j++)for(var L=0;L<this._clipboardselection[j].length;L++){var m=this.getcolumnat(i+L);if(m&&m.datafield!=="_checkboxcolumn"&&!m.hidden&&m.editable!==!1){var w=this.getrowboundindex(e+j),p=this.getcell(w,m.datafield),h=null;if(h=this._clipboardselection[j][L],h!=null){if(m.cellsformat&&(m.cellsformat.indexOf("p")!=-1||m.cellsformat.indexOf("d")!=-1||m.cellsformat.indexOf("c")!=-1||m.cellsformat.indexOf("n")!=-1||m.cellsformat.indexOf("f")!=-1)){h.indexOf(this.gridlocalization.currencysymbol)>-1&&(h=h.replace(this.gridlocalization.currencysymbol,""));var g=function(B,S,D){var H=B;if(S==D)return B;for(var G=H.indexOf(S);G!=-1;)H=H.replace(S,D),G=H.indexOf(S);return H};h=g(h,this.gridlocalization.thousandsseparator,""),h=h.replace(this.gridlocalization.decimalseparator,"."),h.indexOf(this.gridlocalization.percentsymbol)>-1&&(h=h.replace(this.gridlocalization.percentsymbol,""));for(var b="",_=0;_<h.length;_++){var y=h.substring(_,_+1);y==="-"&&(b+="-"),y==="."&&(b+="."),y.match(/^[0-9]+$/)!=null&&(b+=y)}h=b,h=h.replace(/ /g,""),h=new Number(h),isNaN(h)&&(h="")}this._raiseEvent(17,{rowindex:w,datafield:p.datafield,value:h});var k=this.getrowdata(w);if(d.push({oldvalue:k[p.datafield],value:h,datafield:p.datafield,row:w}),this.pushToHistory=!0,this.setcellvalue(w,m.displayfield,h,!1),this.pushToHistory=!1,m.displayfield!=m.datafield&&this.logicalclipboardselection){var C=this.logicalclipboardselection[j][m.datafield];C!=null&&this.setcellvalue(w,m.datafield,C,!1)}this._raiseEvent(18,{rowindex:w,datafield:p.datafield,oldvalue:this.getcellvalue(p.rowindex,p.datafield),value:h}),this._applycellselection(w,p.datafield,!0,!1)}}}}this.selectionmode=="checkbox"&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this._undoRedo.push({action:"paste",data:d}),this._undoRedoIndex=-1,this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(r,l,e,t,i){if(r==null)return!1;var s=this.selectedrowindex;if(this.selectionmode=="singlerow"){var o=this;setTimeout(function(){l?o._raiseEvent(2,{rowindex:r,row:o.getrowdata(r)}):o._raiseEvent(3,{rowindex:r,row:o.getrowdata(r)}),o._raiseEvent(3,{rowindex:s})}),this.selectedrowindexes=new Array,this.selectedcells=new Array}if(t==!0&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var d=this.getrowdata(r);d&&d.dataindex!==void 0?r=d.dataindex:d&&d.dataindex===void 0&&d.uid!=null&&(r=this.getrowboundindexbyid(d.uid))}var n=this.selectedrowindexes.indexOf(r);if(l)this.selectedrowindex=r,n==-1?(this.selectedrowindexes.push(r),this.selectionmode!="singlerow"&&this._raiseEvent(2,{rowindex:r,row:this.getrowdata(r)})):this.selectionmode=="multiplerows"&&(this.selectedrowindexes.splice(n,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(r)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(n>=0||this.selectionmode=="singlerow"||this.selectionmode=="multiplerowsextended"||this.selectionmode=="multiplerowsadvanced"){var f=this.selectedrowindexes[n];this.selectedrowindexes.splice(n,1),this._raiseEvent(3,{rowindex:f,row:this.getrowdata(r)}),this.selectedrowindex=-1}return(e==null||e)&&this._rendervisualrows(),!0},_applycellselection:function(r,l,e,t,i){if(r==null||l==null)return!1;if(this._autofill&&(this._autofill.remove(),a(document).off("pointermove.autofill"),a(document).off("pointerup.autofill"),this._autofill=null),this.selectedrowindex,this.selectionmode=="singlecell"){var s=this.selectedcell;s!=null&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield}),this.selectedcells=new Array}if(this.selectionmode=="multiplecellsextended"||this.selectionmode=="multiplecellsadvanced"){var s=this.selectedcell;s!=null&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield})}var o=r+"_"+l;if(this.dataview.filters.length>0){var d=this.getrowdata(r);if(d&&d.dataindex!==void 0){r=d.dataindex;var o=r+"_"+l}else if(d&&d.dataindex===void 0&&d.uid){r=this.getrowboundindexbyid(d.uid);var o=r+"_"+l}}var n={rowindex:r,datafield:l};if(e){var f=this.selectedcell;if(this.selectedcell=n,this.selectedcells[o])(this.selectionmode=="multiplecells"||this.selectionmode=="multiplecellsextended"||this.selectionmode=="multiplecellsadvanced")&&(delete this.selectedcells[o],this.selectedcells.length>0&&this.selectedcells.length--,i!==!1&&this._raiseEvent(16,n));else{this.selectedcells[o]=Object.assign({},n),this.selectedcells.length++;var h=!0;if(f&&f.datafield===n.datafield&&n.rowindex===f.rowindex&&(h=!1),h&&i!==!1){var c=this;c._selectedCells||(c._selectedCells=[]),c._selectedCells.push(n),this._mousecaptured||(this._raiseCellsSelectEventTimeout&&clearTimeout(this._raiseCellsSelectEventTimeout),this._raiseCellsSelectEventTimeout=setTimeout(function(){c.mousecaptured||(c._raiseEvent(15,c._selectedCells),delete c._selectedCells)},150))}}}else delete this.selectedcells[o],this.selectedcells.length>0&&this.selectedcells.length--,i!==!1&&this._raiseEvent(16,n);return(t==null||t)&&this._rendervisualrows(),!0},_getcellindex:function(r){var l=-1;return a.each(this.selectedcells,function(){if(l++,this[r])return!1}),l},_clearhoverstyle:function(){if(!(this.hoveredrow==null||this.hoveredrow==-1)&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var r=this.table.find(".jqx-grid-cell-hover");r.length>0&&(r.removeClass(this.toTP("jqx-grid-cell-hover")),r.removeClass(this.toTP("jqx-fill-state-hover")));for(var l=0;l<r.length;l++){var e=r[l].getAttribute("columnindex");if(e){var t=this.columns.records[parseInt(e)];t&&t._applyCellStyle(r[l])}}this.hoveredrow=-1}},_clearselectstyle:function(){for(var r=this.table[0].rows.length,l=this.table[0].rows,e=this.toTP("jqx-grid-cell-selected"),t=this.toTP("jqx-fill-state-pressed"),i=this.toTP("jqx-grid-cell-hover"),s=this.toTP("jqx-fill-state-hover"),o=0;o<r;o++)for(var d=l[o],n=d.cells.length,f=d.cells,h=0;h<n;h++){var c=f[h],p=a(c);c.className.indexOf("jqx-grid-cell-selected")!=-1&&(p.removeClass(e),p.removeClass(t)),c.className.indexOf("jqx-grid-cell-hover")!=-1&&(p.removeClass(i),p.removeClass(s));var v=c.getAttribute("columnindex");if(v){var x=this.columns.records[parseInt(v)];x&&x._applyCellStyle(c)}}},_selectpath:function(r,l){var e=this,t=this,i=this._lastClickedCell?Math.min(this._lastClickedCell.row,r):0,s=this._lastClickedCell?Math.max(this._lastClickedCell.row,r):0;if(i<=s){var o=this._getcolumnindex(this._lastClickedCell.column||t._lastClickedCell.datafield),d=this._getcolumnindex(l),n=Math.min(o,d),f=Math.max(o,d);this.selectedcells=new Array;for(var h=this.dataview.loadedrecords,c=i;c<=s;c++)for(var p=n;p<=f;p++){var r=h[c];this._applycellselection(e.getboundindex(r),e._getcolumnat(p).datafield,!0,!1),e.getboundindex(r),e._getcolumnat(p).datafield}this._rendervisualrows()}},_selectrowpath:function(r){if(this.selectionmode=="multiplerowsextended"){var l=this._lastClickedCell?Math.min(this._lastClickedCell.row,r):0,e=this._lastClickedCell?Math.max(this._lastClickedCell.row,r):0,t=this.dataview.loadedrecords;if(l<=e){this.selectedrowindexes=new Array;for(var i=l;i<=e;i++){var r=t[i],s=this.getrowboundindex(i);this._applyrowselection(s,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(r,l,e,t,i,s){var o=l.row;if(o!=null){var d=l.index;if(this.hittestinfo[d]!=null){for(var n=0;n<this.columns.records.length;n++){var f=this.columns.records[n];f.selected=!1,f.element&&f.element.removeAttribute("selected"),f._applyStyle()}var h=this.hittestinfo[d].visualrow;if(!this.hittestinfo[d].details&&(h.cells[0].className,!o.group)){if(this.selectionmode=="multiplerows"||this.selectionmode=="multiplecells"||this.selectionmode=="checkbox"||this.selectionmode.indexOf("multiple")!=-1&&(s==!0||i==!0)){var c=this.getboundindex(o);if(this.dataview.filters.length>0){var p=this.getrowdata(c);if(p&&(c=p.dataindex,c==null))var c=this.getboundindex(o)}var v=e.indexOf(c)!=-1,x=this.getboundindex(o)+"_"+t;if(this.selectionmode.indexOf("cell")!=-1){var w=this.selectedcells[x]!=null;if(this.selectedcells[x]!=null&&w?this._selectcellwithstyle(r,!1,d,t,h):this._selectcellwithstyle(r,!0,d,t,h),s&&this._lastClickedCell==null){var m=this.getselectedcells();m&&m.length>0&&(this._lastClickedCell={row:m[0].rowindex,column:m[0].datafield})}s&&this._lastClickedCell&&(this._selectpath(o.visibleindex,t),this.mousecaptured=!1,this.selectionarea.css("visibility")=="visible"&&this.selectionarea.css("visibility","hidden"))}else{if(v?i?this._applyrowselection(this.getboundindex(o),!1):this._selectrowwithstyle(r,h,!1,t):this._selectrowwithstyle(r,h,!0,t),s&&this._lastClickedCell==null){var g=this.getselectedrowindexes();g&&g.length>0&&(this._lastClickedCell={row:g[0],column:t})}if(s&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var b=this._lastClickedCell?Math.min(this._lastClickedCell.row,o.visibleindex):0,_=this._lastClickedCell?Math.max(this._lastClickedCell.row,o.visibleindex):0,y=this.dataview.loadedrecords,j=b;j<=_;j++){var o=y[j];o&&this._applyrowselection(this.getboundindex(o),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(r,h,!0,t),this.selectionmode.indexOf("cell")!=-1&&this._selectcellwithstyle(r,!0,d,t,h);s||(this._lastClickedCell={row:o.visibleindex,column:t})}}}},_selectcellwithstyle:function(r,l,e,t,i){var s=a(i.cells[r._getcolumnindex(t)]);s.removeClass(this.toTP("jqx-grid-cell-hover")),s.removeClass(this.toTP("jqx-fill-state-hover")),l?(s.addClass(this.toTP("jqx-grid-cell-selected")),s.addClass(this.toTP("jqx-fill-state-pressed"))):(s.removeClass(this.toTP("jqx-grid-cell-selected")),s.removeClass(this.toTP("jqx-fill-state-pressed")));var o=this.getcolumn(t);o._applyCellStyle(s)},_selectrowwithstyle:function(r,l,e,t){var i=l.cells.length,s=0;r.rowdetails&&r.showrowdetailscolumn?this.rtl?(i-=1,i-=this.groups.length):s=1+this.groups.length:this.groupable&&(this.rtl?i-=this.groups.length:s=this.groups.length);for(var o=s;o<i;o++){var d=l.cells[o];e?(a(d).removeClass(this.toTP("jqx-grid-cell-hover")),a(d).removeClass(this.toTP("jqx-fill-state-hover")),r.selectionmode.indexOf("cell")==-1&&(a(d).addClass(this.toTP("jqx-grid-cell-selected")),a(d).addClass(this.toTP("jqx-fill-state-pressed")))):(a(d).removeClass(this.toTP("jqx-grid-cell-hover")),a(d).removeClass(this.toTP("jqx-grid-cell-selected")),a(d).removeClass(this.toTP("jqx-fill-state-hover")),a(d).removeClass(this.toTP("jqx-fill-state-pressed")));var t=d.getAttribute("columnindex");if(t){var n=this.columns.records[parseInt(t)];n&&n._applyCellStyle(d)}}},_handlemousemoveselection:function(r,l,e){if(l.hScrollInstance.isScrolling()||l.vScrollInstance.isScrolling())return!1;if((l.selectionmode=="multiplerowsextended"||l.selectionmode=="multiplecellsextended"||l.selectionmode=="multiplecellsadvanced")&&l.mousecaptured){if(l.multipleselectionbegins){var t=l.multipleselectionbegins(r);if(t===!1)return!0}var i=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0,o=this.showtoolbar?this.toolbar.height():0,d=this.showfilterbar?this.toolbarheight:0;s+=o,s+=d;var n=this.host.coord();if(this.hasTransform){n=a.jqx.utilities.getOffset(this.host);var f=this._getBodyOffset();n.left-=f.left,n.top-=f.top}this.host.css("border-top-width")==="0px"&&(s-=2);var h=r.pageX,c=r.pageY-s;if(r._pageX&&(h=r._pageX,c=r._pageY-s),Math.abs(this.mousecaptureposition.left-h)>3||Math.abs(this.mousecaptureposition.top-c)>3||l.autofill){parseInt(this.columnsheader.coord().top),this.hasTransform&&a.jqx.utilities.getOffset(this.columnsheader).top,h<n.left&&(h=n.left),h>n.left+this.host.width()&&(h=n.left+this.host.width());var p=n.top+i;c<p&&(c=p+5);var v=parseInt(Math.min(l.mousecaptureposition.left,h)),x=-5+parseInt(Math.min(l.mousecaptureposition.top,c)),w=parseFloat(Math.abs(l.mousecaptureposition.left-h)),m=parseInt(Math.abs(l.mousecaptureposition.top-c));if(v-=n.left,x-=n.top,this.selectionarea.css("visibility","visible"),l.selectionmode=="multiplecellsadvanced"){var h=v,g=h+w,b=l.hScrollInstance,_=b.value;this.rtl&&(this.hScrollBar.css("visibility")!="hidden"&&(_=b.max-b.value),this.vScrollBar[0].style.visibility!="hidden");var y=l.table[0].rows[0],j=0,C=l.mousecaptureposition.clickedcell,L=C,k=!1,O=0,X=y.cells.length;l.mousecaptureposition.left<=r.pageX&&(O=C);for(var P=!1,T=O;T<X;T++){var I=parseFloat(a(this.columnsrow[0].cells[T]).css("left")),z=I-_;if(l.columns.records[T].pinned&&!l.columns.records[T].hidden){T==C&&(P=!0);var B=I+a(this.columnsrow[0].cells[T]).width();if(l.mousecaptureposition.left>r.pageX){if(B>=h&&h>=z){L=T,k=!0;break}}else if(B>=g&&g>=z){L=T,k=!0;break}continue}if(P){k=!0,L--;break}var q=this._getcolumnat(T);if(!(q!=null&&q.hidden)&&!(l.groupable&&l.groups.length>0&&T<l.groups.length)){var B=z+a(this.columnsrow[0].cells[T]).width();if(l.mousecaptureposition.left>r.pageX){if(B>=h&&h>=z){L=T,k=!0;break}}else if(B>=g&&g>=z){L=T,k=!0;break}}}k||(l.mousecaptureposition.left>r.pageX?a.each(this.columns.records,function(re,ae){if(l.groupable&&l.groups.length>0&&re<l.groups.length)return!0;if(!this.pinned&&!this.hidden)return L=re,!1}):(!l.groupable||l.groupable&&!l.groups.length>0)&&(L=y.cells.length-1));var S=C;C=Math.min(C,L),L=Math.max(S,L),x+=5,x+=s,l.table[0].rows.indexOf(l.mousecaptureposition.clickedrow);for(var D=0,H=-1,G=-1,N=0,T=0;T<l.table[0].rows.length;T++){var A=a(l.table[0].rows[T]);T==0&&(N=A.coord().top);var M=A.height(),Q=N-n.top;if(H==-1&&Q+M>=x){for(var U=!1,Y=0;Y<l.groups.length;Y++){var E=A[0].cells[Y].className;if(E.indexOf("jqx-grid-group-collapse")!=-1||E.indexOf("jqx-grid-group-expand")!=-1){U=!0;break}}if(U)continue;H=T}if(N+=M,l.groupable&&l.groups.length>0){for(var U=!1,Y=0;Y<l.groups.length;Y++){var E=A[0].cells[Y].className;if(E.indexOf("jqx-grid-group-collapse")!=-1||E.indexOf("jqx-grid-group-expand")!=-1){U=!0;break}}if(U)continue;for(var j=0,R=l.groups.length;R<A[0].cells.length;R++){var $=A[0].cells[R];a($).html()==""&&j++}if(j==A[0].cells.length-l.groups.length)continue}if(H!=-1&&(D+=M),Q+M>x+m){G=T;break}}if(H!=-1){x=a(l.table[0].rows[H]).coord().top-n.top-s-2;var F=0;this.filterable&&this.showfilterrow&&(F=this.filterrowheight),parseFloat(l.table[0].style.top)<0&&x<this.rowsheight+F&&(x-=parseFloat(l.table[0].style.top),D+=parseFloat(l.table[0].style.top)),m=D;var W=a(this.columnsrow[0].cells[C]),V=a(this.columnsrow[0].cells[L]);if(v=parseFloat(W.css("left")),w=parseFloat(V.css("left"))-parseFloat(v)+V.width()-2,v-=_,P&&(v+=_),l.editcell&&l.editable&&l.endcelledit&&(C!=L||H!=G)){if(l.editcell.validated==!1)return;l.endcelledit(l.editcell.row,l.editcell.column,!0,!0)}}}this.selectionarea.width(w),this.selectionarea.css("left",v),e!==null&&(this.selectionarea.css("top",x),this.selectionarea.height(m))}}},_handlemouseupselection:function(r,l,e){if(this.selectionarea){var t=this;if(this.selectionarea[0].style.visibility!="visible"){if(l._handlemousemoveselection(r,l),e!==!1)if(l.__firstcell){var i=l.getselectedcell();i&&(l.__firstcell.index=l.columns.records.indexOf(l.getcolumn(i.datafield)),l.__firstcell.row=i.row,l.__firstcell.rowindex=i.rowindex,l._handleAutofill(r,l))}else l.__firstcell=l.getselectedcell(),l.__firstcell&&(l.__firstcell.index=l.columns.records.indexOf(l.getcolumn(l.__firstcell.datafield)),l._handleAutofill(r,l));return l.mousecaptured=!1,l.selectionarea[0].style.visibility="hidden",!0}if(l.mousecaptured&&(l.selectionmode=="multiplerowsextended"||l.selectionmode=="multiplerowsadvanced"||l.selectionmode=="multiplecellsextended"||l.selectionmode=="multiplecellsadvanced")){if(l.mousecaptured=!1,this.selectionarea.css("visibility")=="visible"){this.selectionarea.css("visibility","hidden");var s=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0;this.host.css("border-top-width")==="0px"&&(o-=2);var d=this.showtoolbar?this.toolbar.height():0;o+=d;var n=this.showfilterbar?this.toolbarheight:0;o+=n;var f=this.selectionarea.coord(),h=this.host.coord();this.hasTransform&&(h=a.jqx.utilities.getOffset(this.host),f=a.jqx.utilities.getOffset(this.selectionarea)),this.host.css("border-top-width")==="0px"&&(o-=2);var c=f.left-h.left,p=f.top-s-h.top-o,v=p,x=c+this.selectionarea.width(),w=c,m=new Array,g=new Array;if(l.selectionmode=="multiplerowsextended"){for(;p<v+this.selectionarea.height();){var b=this._hittestrow(c,p),_=b.row,y=b.index;y!=-1&&(g[y]||(g[y]=!0,m[m.length]=b)),p+=20}var v=0;a.each(m,function(){var M=this.row;l.selectionmode!="none"&&l._selectrowwithmouse&&(r.ctrlKey||r.metaKey?l._applyrowselection(l.getboundindex(M),!0,!1,!1):v==0?l._applyrowselection(l.getboundindex(M),!0,!1,!0):l._applyrowselection(l.getboundindex(M),!0,!1,!1),v++)})}else{var j=null,C=null;l.selectionmode=="multiplecellsadvanced"&&(p+=2);var L=l.hScrollInstance,k=L.value;this.rtl&&(this.hScrollBar.css("visibility")!="hidden"&&(k=L.max-L.value),this.vScrollBar[0].style.visibility!="hidden"&&(k-=this.scrollbarsize+4));var O=l.table[0].rows[0],X=l.selectionarea.height();!r.ctrlKey&&!r.metaKey&&X>0&&(l.selectedcells=new Array);var P=X;parseInt(this.vScrollInstance.value);var T=parseInt(this.hScrollInstance.value);this._gettableheight();var I=this._hostwidth!=null?this._hostwidth:this.host.width(),z=this.groupable&&this.groups.length>0?this.groups.length:0,q=this.columns.records.length-z,B=this.groupable&&this.groups.length>0,S=this._getvisualcolumnsindexes(T,I,z,q,B,!0,!0),D=S.start,H=S.end;for(t.__firstcell=null;p<v+P;){var b=l._hittestrow(c,p);if(!b){p+=5;continue}var _=b.row,y=b.index;if(y!=-1&&!g[y])if(g[y]=!0,this.enableoptimization)for(var G=D;G<H;G++){var T=parseFloat(l.columnsrow[0].cells[G].style.left)-k,N=T+l.columns.records[G].width;(w>=T&&w<=N||x>=T&&x<=N||T>=w&&T<=x)&&(l._applycellselection(l.getboundindex(_),l._getcolumnat(G).datafield,!0,!1),j={x:c,y:p,rowindex:y,row:l.getboundindex(_),index:G,datafield:l._getcolumnat(G).datafield},l.__lastcell=j,C||(C=j,l.__firstcell=C))}else for(var G=0;G<O.cells.length;G++){var T=parseFloat(a(l.columnsrow[0].cells[G]).css("left"))-k,N=T+a(l.columnsrow[0].cells[G]).width();(w>=T&&w<=N||x>=T&&x<=N||T>=w&&T<=x)&&(l._applycellselection(l.getboundindex(_),l._getcolumnat(G).datafield,!0,!1),j={x:c,y:p,rowindex:y,row:l.getboundindex(_),index:G,datafield:l._getcolumnat(G).datafield},l.__lastcell=j,C||(C=j,l.__firstcell=C))}p+=5}}l.autosavestate&&l.savestate&&l.savestate()}l._renderrows(l.virtualsizeinfo),e!==!1&&l._handleAutofill(r,l)}}},_handleAutofill:function(r,l){if(this.autofill){var g=this,e=this.showheader?this.columnsheader.height()+2:0,t=this._groupsheader()?this.groupsheader.height():0;this.host.css("border-top-width")==="0px"&&(t-=2),new Array,new Array;var i=this.showtoolbar?this.toolbar.height():0;t+=i;var s=this.showfilterbar?this.toolbarheight:0;t+=s;var o=this.selectionarea.coord(),d=this.host.coord();this.hasTransform&&(d=a.jqx.utilities.getOffset(this.host),o=a.jqx.utilities.getOffset(this.selectionarea)),this.host.css("border-top-width")==="0px"&&(t-=2);var n=o.left-d.left;o.top-e-d.top-t;var f=n+this.selectionarea.width();g.__lastcell;var h=g.__firstcell;l.selectionmode=="multiplecellsadvanced";var c=l.hScrollInstance,p=c.value;this.rtl&&(this.hScrollBar.css("visibility")!="hidden"&&(p=c.max-c.value),this.vScrollBar[0].style.visibility!="hidden"&&(p-=this.scrollbarsize+4)),l.table[0].rows[0];var v=l.selectionarea.height(),x=parseInt(r.pageX),w=parseInt(r.pageY),m=v,g=l;g._autofill&&g._autofill.remove(),!(h&&!g.getcolumn(h.datafield).autofill)&&g.autofill&&(g._autofill=document.createElement("div"),g._autofill.style.width="6px",g._autofill.style.height="6px",g._autofill.style.position="absolute",g._autofill.style.top=o.top-g.host.offset().top+m+1+"px",g._autofill.style.left=f+2+"px",g._autofill.style.cursor="crosshair",g._autofill.style.paddingLeft="0px",g._autofill.style.paddingTop="0px",g._autofill.style.paddingRight="0px",g._autofill.style.paddingBottom="0px",g._autofill.style.borderTopLeftRadius="0px",g._autofill.style.borderTopRightRadius="0px",g._autofill.style.borderBottomLeftRadius="0px",g._autofill.style.borderBottomRightRadius="0px",g._autofill.style.background="transparent",a(g._autofill).addClass(g.toThemeProperty("jqx-widget")),a(g._autofill).addClass(g.toThemeProperty("jqx-button")),a(g._autofill).addClass(g.toThemeProperty("primary")),a(g._autofill).addClass(g.toThemeProperty("jqx-fill-state-pressed")),g._autofill.onpointerdown=function(b){g._handlemouseupselection(b,g,!1);var _=b.originalEvent?b.originalEvent:b;g._autofillDragStart=!0,g.mousecaptured=!0;var y=g.showheader?g.columnsheader.height()+2:0,j=g._groupsheader()?g.groupsheader.height():0,C=g.showtoolbar?g.toolbarheight:0,L=g.showfilterbar?g.toolbarheight:0;j+=C,j+=L;var k=g.host.coord(),O=x-k.left,X=w-y-k.top-j;if(g.pageable&&!g.autoheight&&g.gotopage){var P=g.pager.coord().top-k.top-j-y;if(X>P)return}var T=g._hittestrow(O,X);if(T&&!T.details){T.row,T.index,_.target.className;var I=g.table[0].rows[h.rowindex],z=a(l.columnsrow[0].cells[h.index]).coord().left,q=a(I).coord().top+1;g.mousecaptured=!0,g.mousecaptureposition={x:z,y:q,left:_.pageX,top:_.pageY,clickedrow:I},g.copyselection(),_.stopPropagation(),_.preventDefault()}},a(document).off("pointermove.autofill"),a(document).off("pointerup.autofill"),a(document).on("pointermove.autofill",function(b){if(g._autofillDragStart){var _=b.originalEvent?b.originalEvent:b;g.mousecaptureposition.position?g.mousecaptureposition.position==="y"?(_._pageX=g.mousecaptureposition.x,_._pageY=_.pageY,g.mousecaptureposition.top=g.mousecaptureposition.y,g._handlemousemoveselection(_,g)):(_._pageX=_.pageX,_._pageY=g.mousecaptureposition.y,g.mousecaptureposition.clickedcell=h.index,g.mousecaptureposition.left=g.mousecaptureposition.x,g._handlemousemoveselection(_,g,null)):Math.abs(g.mousecaptureposition.left-_.pageX)>=5?g.mousecaptureposition.position="x":Math.abs(g.mousecaptureposition.top-_.pageY)&&(g.mousecaptureposition.position="y")}}),a(document).on("pointerup.autofill",function(b){var _=b.originalEvent?b.originalEvent:b;if(!g._autofillDragStart){g._autofill&&g._autofill.remove(),g.clearselection();return}g._handlemouseupselection(_,g),g._autofillDragStart=!1,g.mousecaptureposition=null,g.mousecaptured=!1,g.pasteselection(),g._handlemouseupselection(_,g)}),g.wrapper[0].appendChild(g._autofill))}},selectprevcell:function(r,l){var e=this._getcolumnindex(l);this.columns.records.length;var t=this._getprevvisiblecolumn(e);t!=null&&(this.clearselection(),this.selectcell(r,t.datafield))},selectnextcell:function(r,l){var e=this._getcolumnindex(l);this.columns.records.length;var t=this._getnextvisiblecolumn(e);t!=null&&(this.clearselection(),this.selectcell(r,t.datafield))},_getfirstvisiblecolumn:function(){for(var r=this.columns.records.length,l=0;l<r;l++){var e=this.columns.records[l];if(!e.hidden&&e.datafield!=null)return e}return null},_getlastvisiblecolumn:function(){for(var r=this.columns.records.length,l=r-1;l>=0;l--){var e=this.columns.records[l];if(!e.hidden&&e.datafield!=null)return e}return null},_handlekeydown:function(r,l){if(l.groupable&&l.groups.length>0,l.disabled)return!1;var e=r.charCode?r.charCode:r.keyCode?r.keyCode:0;if(e===32&&(r.metaKey||r.ctrlKey)&&l.selectionmode=="multiplecellsadvanced"){var t=this.getselectedcell();if(r.shiftKey){if(this.clearselection(),this.selectallrows(),this.columns.records.length<30)for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];s.selectable&&s.toggleSelection(s,r,!0)}this._renderrows(this.virtualsizeinfo);return}else if(t){var s=this.getcolumn(t.datafield);s.selectable&&(this.clearselection(),s.toggleSelection(s,r,!0),this._renderrows(this.virtualsizeinfo))}}if(l.editcell&&l.selectionmode!="multiplecellsadvanced")return!0;if(l.editcell&&l.selectionmode=="multiplecellsadvanced")if(e>=33&&e<=40){if(r.altKey)return l._cancelkeydown=!1,!0;if(l._cancelkeydown==null||l._cancelkeydown==!1)if(l.editmode!=="selectedrow"){if(l.endcelledit(l.editcell.row,l.editcell.column,!1,!0),l._cancelkeydown=!1,l.editcell&&!l.editcell.validated)return l._rendervisualrows(),l.endcelledit(l.editcell.row,l.editcell.column,!1,!0),!1}else return!0;else return l._cancelkeydown=!1,!0}else return!0;if(l.selectionmode=="none"||l.showfilterrow&&l.filterable&&this.filterrow&&a(r.target).ischildof(l.filterrow)||l.showeverpresentrow&&(l.addnewrowtop&&a(r.target).ischildof(l.addnewrowtop)||l.addnewrowbottom&&a(r.target).ischildof(l.addnewrowbottom))||r.target.className&&r.target.className.indexOf("jqx-grid-widget")>=0||l.pageable&&a(r.target).ischildof(this.pager)||this.showtoolbar&&a(r.target).ischildof(this.toolbar)||this.showfilterbar&&a(r.target).ischildof(this.filterbar)||this.showstatusbar&&a(r.target).ischildof(this.statusbar))return!0;var o=!1;if(r.altKey)return!0;if((r.ctrlKey||r.metaKey)&&this.clipboard){var d=String.fromCharCode(e).toLowerCase();if(d==="z"&&this._undoRedo){this._undoRedoIndex===-1&&(this._undoRedoIndex=this._undoRedo.length-1);var n=this._undoRedo[this._undoRedoIndex];if(n){if(n.action==="setcellvalue")this.setcellvalue(n.data.row,n.data.datafield,n.data.oldvalue),this.clearselection(),this.selectcell(n.data.row,n.data.datafield),this.ensurecellvisible(n.data.row,n.data.datafield);else if(n.action==="paste"){if(this.clearselection(),n.data)for(var i=0;i<n.data.length;i++){var f=n.data[i];this.setcellvalue(f.row,f.datafield,f.oldvalue),this._applycellselection(f.row,f.datafield,!0,!1),i===0&&this.ensurecellvisible(f.row,f.datafield)}this._rendervisualrows()}}this._undoRedoIndex>0&&this._undoRedoIndex--}if(d==="y"&&this._undoRedo){this._undoRedoIndex===-1&&(this._undoRedoIndex=this._undoRedo.length-1);var n=this._undoRedo[this._undoRedoIndex];if(n){if(n.action==="setcellvalue")this.setcellvalue(n.data.row,n.data.datafield,n.data.value),this.clearselection(),this.selectcell(n.data.row,n.data.datafield),this.ensurecellvisible(n.data.row,n.data.datafield);else if(n.action==="paste"){this.clearselection();for(var i=0;i<n.data.length;i++){var f=n.data[i];this.setcellvalue(f.row,f.datafield,f.value),this._applycellselection(f.row,f.datafield,!0,!1),i===0&&this.ensurecellvisible(f.row,f.datafield)}this._rendervisualrows()}}this._undoRedoIndex<this._undoRedo.length-1&&this._undoRedoIndex++}if(d==="d"&&(this.copyselection(),this._clipboardselection[0],this._clipboardselection=[this._clipboardselection[0]],this.pasteselection(),r.preventDefault(),r.stopPropagation()),this.clipboardbegin){var h=null;if(d=="c"?h=this.clipboardbegin("copy",this.copyselection()):d=="x"?h=this.clipboardbegin("cut",this.copyselection()):d=="v"&&(h=this.clipboardbegin("paste")),h===!1)return!1}if(d=="c"||d=="x"){var c=this.copyselection();if(d=="c"&&this.clipboardend&&this.clipboardend("copy"),d=="x"&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",c);else{var p=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');p.val(c),a("body").append(p),p.select(),setTimeout(function(){document.designMode="off",p.select(),p.remove(),l.focus()},100)}if(d=="c"&&a.jqx.browser.msie)return!1;if(d=="c")return!0}else if(d=="v"){if(document.activeElement&&document.activeElement.nodeName==="INPUT")return!0;var v=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');a("body").append(v),v.select();var x=this;return setTimeout(function(){x._clipboardselection=new Array;var N=v.val();if(N.length==0&&window.clipboardData){v.val(window.clipboardData.getData("Text"));var N=v.val()}for(var A=N.split(`
`),M=0;M<A.length;M++)if(A[M].split("	").length>0){var Q=A[M].split("	");if(Q.length==1&&M==A.length-1&&Q[0]=="")continue;Q.length>0&&x._clipboardselection.push(Q)}x.pasteselection(),v.remove(),x.focus()},100),!0}if(d=="x")return this.deleteselection(),this.host.focus(),!1}var w=Math.round(l._gettableheight()),m=Math.round(w/l.rowsheight),g=l.getdatainformation();switch(l.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var t=l.getselectedcell();if(t===null&&l.selectcell(0,l.columns.records[0].displayfield),t!=null){var b=this.getrowvisibleindex(t.rowindex),q=b,_=t.datafield,y=l._getcolumnindex(_);l.columns.records.length;var j=function(E,R,$,F){var W=function(ae,ee){var te=l.dataview.loadedrecords[ae];if(l.groupable&&l.groups.length>0){var Z=ae;F=="up"&&Z++,F=="down"&&Z--;for(var te=l.getdisplayrows()[Z],ie=function(ce){if(ce.group){if(l.expandedgroups[ce.uniqueid])return l.expandedgroups[ce.uniqueid].expanded}else return!1},se=1,K=!0;K&&se<300&&(K=!1,F=="down"?te=l.getdisplayrows()[Z+se]:F=="up"&&(te=l.getdisplayrows()[Z-se]),!!te);){te&&te.group&&(K=!0),te&&te.totalsrow&&(K=!0);for(var oe=te.parentItem;oe;)oe&&!ie(oe)&&(K=!0),oe=oe.parentItem;if(!K)break;se++}if(se==300&&(te=null),l.pageable){var ne=!1;if(te){for(var he=0;he<l.dataview.rows.length;he++)l.dataview.rows[he].boundindex==te.boundindex&&(ne=!0);ne||(te=null)}}}else if(l.pageable){var ne=!1;if(te){for(var he=0;he<l.dataview.rows.length;he++)l.dataview.rows[he].boundindex==te.boundindex&&(ne=!0);ne||(l.pagerpageinput&&r.keyCode===9&&te.boundindex>l.dataview.rows[l.dataview.rows.length-1].boundindex&&(l.pagerpageinput.focus(),r.preventDefault()),l.ensurerowvisible(te))}}if(te!=null&&ee!=null&&!te.totalsrow){($||$==null)&&l.clearselection();var fe=l.getboundindex(te);return l.selectcell(fe,ee),l._oldselectedcell=l.selectedcell,o=!0,l.groupable?l.ensurecellvisible(fe,ee):l.ensurecellvisible(ae,ee),!0}return!1};!W(E,R)&&!l.groupable&&(l.ensurecellvisible(E,R),W(E,R),l.virtualmode&&l.host.focus());var V=l.groupable&&l.groups.length>0;if(!V)if(r.shiftKey&&r.keyCode!=9){if((l.selectionmode=="multiplecellsextended"||l.selectionmode=="multiplecellsadvanced")&&l._lastClickedCell){l._selectpath(E,R);var le=l.dataview.loadedrecords[E],re=l.getboundindex(le);l.selectedcell={rowindex:re,datafield:R};return}}else r.shiftKey||(l._lastClickedCell={row:E,column:R})},S=r.shiftKey&&l.selectionmode!="singlecell"&&l.selectionmode!="multiplecells",D=function(){if(l.pageable){var E=l.dataview.pagenum*l.dataview.pagesize;j(E,_,!S)}else j(0,_,!S)},H=function(){var E=g.rowscount-1;if(l.pageable){var R=l.dataview.pagenum*l.dataview.pagesize;E=R+l.dataview.rows.length-1}j(E,_,!S)},C=e==9&&!r.shiftKey,L=e==9&&r.shiftKey;if(l.rtl){var k=C;C=L,L=k}if((C||L)&&(S=!1),(C||L)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0;var G=r.ctrlKey||r.metaKey;if(G&&e==37){var O=l._getfirstvisiblecolumn(y);O!=null&&j(q,O.datafield)}else if(G&&e==39){var X=l._getlastvisiblecolumn(y);X!=null&&j(q,X.datafield)}else if(e==39||C){var P=l._getnextvisiblecolumn(y);if(P!=null)j(q,P.datafield,!S);else if(!C)o=!0;else{var T=l._getfirstvisiblecolumn();e=40,_=T.displayfield}}else if(e==37||L){var O=l._getprevvisiblecolumn(y);if(O!=null)j(q,O.datafield,!S);else if(!L)o=!0;else{var I=l._getlastvisiblecolumn();e=38,_=I.displayfield}}else if(e==36)D();else if(e==35)H();else if(e==33)if(q-m>=0){var z=q-m;j(z,_,!S),l.pageable&&l.virtualmode&&(l.gotoprevpage(),setTimeout(function(){j(z,_,!S)},25))}else D();else if(e==34)if(g.rowscount>q+m){var z=q+m;j(z,_,!S),l.pageable&&l.virtualmode&&(l.gotonextpage(),setTimeout(function(){j(z,_,!S)},25))}else H();e==38&&(G?D():q>0?j(q-1,_,!S,"up"):o=!1),e==40&&(G?H():g.rowscount>q+1||l.groupable&&l.groups.length>0?j(q+1,_,!S,"down"):o=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var q=l.getselectedrowindex();if(q==null||q==-1)return!0;q=this.getrowvisibleindex(q);var B=function(A,M,Q){var U=function(E){var R=l.dataview.loadedrecords[E];if(l.groupable&&l.groups.length>0){Q=="up"&&E++,Q=="down"&&E--;for(var R=l.getdisplayrows()[E],$=function(ie){if(ie.group){if(l.expandedgroups[ie.uniqueid])return l.expandedgroups[ie.uniqueid].expanded}else return!1},F=1,W=!0;W&&F<300&&(W=!1,Q=="down"?R=l.getdisplayrows()[E+F]:Q=="up"&&(R=l.getdisplayrows()[E-F]),!!R);){R&&R.group&&(W=!0),R&&R.totalsrow&&(W=!0);for(var V=R.parentItem;V;)V&&!$(V)&&(W=!0),V=V.parentItem;if(!W)break;F++}if(F==300&&(R=null),l.pageable){var le=!1;if(R){for(var re=0;re<l.dataview.rows.length;re++)l.dataview.rows[re].boundindex==R.boundindex&&(le=!0);le||(R=null)}}}if(R!=null){var ae=l.getboundindex(R),ee=l.selectedrowindex;if((M||M==null)&&l.clearselection(),l.selectedrowindex=ee,l.selectrow(ae,!1),l.groupable&&l.groups.length>0)var te=l.ensurerowvisible(ae);else var te=l.ensurerowvisible(E);return(!te||l.autoheight||l.groupable)&&l._rendervisualrows(),o=!0,!0}return!1};!U(A)&&!l.groupable&&(l.ensurerowvisible(A),U(A),l.virtualmode&&setTimeout(function(){U(A)},25),l.virtualmode&&l.host.focus());var Y=l.groupable&&l.groups.length>0;if(!Y)if(r.shiftKey&&e!=9){if(l.selectionmode=="multiplerowsextended"&&l._lastClickedCell){l._selectrowpath(A),l.selectedrowindex=l.getrowboundindex(A);return}}else r.shiftKey||(l._lastClickedCell={row:A},l.selectedrowindex=l.getrowboundindex(A))},S=r.shiftKey&&l.selectionmode!="singlerow"&&l.selectionmode!="multiplerows",D=function(){if(l.pageable){var A=l.dataview.pagenum*l.dataview.pagesize;B(A,!S)}else B(0,!S)},H=function(){var A=g.rowscount-1;if(l.pageable){var M=l.dataview.pagenum*l.dataview.pagesize;A=M+l.dataview.rows.length-1}B(A,!S)},G=r.ctrlKey||r.metaKey;if(e==36||G&&e==38)D();else if(e==35||G&&e==40)H();else if(e==33)if(q-m>=0){var z=q-m;B(z,!S,"up"),l.pageable&&l.virtualmode&&(l.gotoprevpage(),setTimeout(function(){B(z,!S)},25))}else D();else if(e==34)if(g.rowscount>q+m){var z=q+m;B(z,!S,"down"),l.pageable&&l.virtualmode&&(l.gotonextpage(),setTimeout(function(){B(z,!S)},25))}else H();else e==38?q>0?B(q-1,!S,"up"):o=!0:e==40&&(g.rowscount>q+1||l.groupable&&l.groups.length>0?B(q+1,!S,"down"):o=!0);break}return o?(l.autosavestate&&l.savestate&&l.savestate(),!1):!0},_handlemousemove:function(r,l){if(!l.vScrollInstance.isScrolling()&&!l.hScrollInstance.isScrolling()){var e,t,i,s,o;if(l.enablehover||l.selectionmode=="multiplerows"){e=this.showheader?this.columnsheader.height()+2:0,t=this._groupsheader()?this.groupsheader.height():0;var d=this.showtoolbar?this.toolbarheight:0,n=this.showfilterbar?this.toolbarheight:0;if(t+=d,t+=n,i=this.host.coord(),this.hasTransform){i=a.jqx.utilities.getOffset(this.host);var f=this._getBodyOffset();i.left-=f.left,i.top-=f.top}s=r.pageX-i.left,o=r.pageY-e-i.top-t}if(!((l.selectionmode=="multiplerowsextended"||l.selectionmode=="multiplecellsextended"||l.selectionmode=="multiplecellsadvanced")&&l.mousecaptured==!0))if(l.enablehover){if(l.disabled||this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())return;var h=this._hittestrow(s,o);if(!h)return;var c=h.row,p=h.index;if(this.hoveredrow!=-1&&p!=-1&&this.hoveredrow==p&&this.selectionmode.indexOf("cell")==-1&&this.selectionmode!="checkbox"||(this._clearhoverstyle(),p==-1||c==null))return;var v=this.hittestinfo[p].visualrow;if(v==null||this.hittestinfo[p].details||r.clientX>a(v).width()+a(v).coord().left)return;var x=0,w=v.cells.length;if(l.rowdetails&&l.showrowdetailscolumn?this.rtl?(w-=1,w-=this.groups.length):x=1+this.groups.length:this.groupable&&(this.rtl?w-=this.groups.length:x=this.groups.length),v.cells.length==0)return;var m=v.cells[x].className;if(c.group||this.selectionmode.indexOf("row")>=0&&m.indexOf("jqx-grid-cell-selected")!=-1)return;if(this.hoveredrow=p,this.selectionmode.indexOf("cell")!=-1||this.selectionmode=="checkbox"){var g=-1,b=this.hScrollInstance,_=b.value;this.rtl&&this.hScrollBar.css("visibility")!="hidden"&&(_=b.max-b.value);for(var y=x;y<w;y++){var j=parseInt(this.columnsrow[0].cells[y].style.left)-_;this.columns.records[y].pinned&&!this.rtl&&(j=parseInt(this.columnsrow[0].cells[y].style.left));var C=j+this.columns.records[y].width;if(C>=s&&s>=j){g=y;break}}if(g!=-1){var L=v.cells[g];if(this.cellhover&&this.cellhover(L,r.pageX,r.pageY),L.className.indexOf("jqx-grid-cell-selected")==-1&&this.editcell){var k=this._getcolumnat(g);if(k&&this.editcell.row==p&&this.editcell.column==k.datafield)return}a(L).addClass(this.toTP("jqx-grid-cell-hover")),a(L).addClass(this.toTP("jqx-fill-state-hover"));var k=this._getcolumnat(g);k._applyCellStyle(L)}return}for(var y=x;y<w;y++){var L=v.cells[y];a(L).addClass(this.toTP("jqx-grid-cell-hover")),a(L).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(L,r.pageX,r.pageY);var k=this._getcolumnat(y);k._applyCellStyle(L)}}else return!0}}})})(jqxBaseFramework)})();(function(){typeof document>"u"||((function(a){a.extend(a.jqx._jqxGrid.prototype,{_updatefilterrowui:function(r){var l=this.columns.records.length,e=0,t=this;if(this.filterrow){for(var i=0;i<l;i++){var s=this.columns.records[i],o=parseInt(s.width);o<s.minwidth&&(o=s.minwidth),o>s.maxwidth&&(o=s.maxwidth);var d=a(this.filterrow[0].cells[i]);d.css("left",e);var n=!0;if(d.width()==o&&(n=!1),r&&(n=!0),d.width(o),!!d[0]&&(d[0].left=e,s.element&&(d[0].style.width=s.element.style.width,d[0].style.left=s.element.style.left),s.hidden&&s.hideable?d.css("display","none"):e+=o,!!n)){if(s.createfilterwidget&&s.filtertype=="custom")s.createfilterwidget(s,d);else if(s.filterable){var f=function(c,p){var v=a(p.children()[0]);v[0]&&(v[0].style.width=o-8+"px",a.jqx.browser.msie&&(v[0].style.width=o-16+"px")),v.attr("disabled",c.disabled)};switch(s.filtertype){case"number":case"input":a(d.children()[0]).width(o),d.find("input")[0].style.width=o-30+"px",a.jqx.browser.msie&&(d.find("input")[0].style.width=o-36+"px"),d.find("input").attr("disabled",t.disabled),a(d.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:t.theme,disabled:t.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?a(d.children()[0]).jqxDateTimeInput({theme:t.theme,disabled:t.disabled,width:o-10}):f(this,d);break;case"textbox":case"default":f(this,d);break;case"list":case"checkedlist":this.host.jqxDropDownList?a(d.children()[0]).jqxDropDownList({theme:t.theme,disabled:t.disabled,width:o-10}):f(this,d);break;case"bool":case"boolean":this.host.jqxCheckBox?a(d.children()[0]).jqxCheckBox({theme:t.theme,disabled:t.disabled}):f(this,d);break}}}}var h=a(this.filterrow.children()[0]);h.width(parseInt(e)+2),h.height(this.filterrowheight)}},filterByQuery:function(r){for(var l=this,e=[],t=0;t<this.columns.records.length;t++){var i=this.columns.records[t],s="string";this.source||(this.source=new a.jqx.dataAdapter({}));var o=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(o){var d="";a.each(o,function(){if(this.name==i.displayfield)return this.type&&(d=this.type),!1}),d&&(s=d)}e.push({text:i.text,dataField:i.datafield,type:s})}function n(v,x){function w(N){return N.trim().replace(/\s+/g," ")}function m(N){var A=new Date(N);return isNaN(A)?null:A}function g(N,A){if(A.type==="date"){var M=m(N);return M?M.toISOString().split("T")[0]:N}if(A.type==="boolean"||A.type==="bool")return N.toLowerCase()==="true"?!0:N.toLowerCase()==="false"?!1:N;if(A.type==="number"){var Q=parseFloat(N);return isNaN(Q)?N:Q}return N}for(var b=[{keyword:"greater than or equal to",op:"GREATER_THAN_OR_EQUAL"},{keyword:"greater than or equal",op:"GREATER_THAN_OR_EQUAL"},{keyword:"greater than",op:"GREATER_THAN"},{keyword:"less than or equal to",op:"LESS_THAN_OR_EQUAL"},{keyword:"less than or equal",op:"LESS_THAN_OR_EQUAL"},{keyword:"less than",op:"LESS_THAN"},{keyword:"not equal to",op:"NOT_EQUAL"},{keyword:"not equal",op:"NOT_EQUAL"},{keyword:"not equals",op:"NOT_EQUAL"},{keyword:"starts with",op:"STARTS_WITH"},{keyword:"ends with",op:"ENDS_WITH"},{keyword:"contains",op:"CONTAINS"},{keyword:"is",op:"EQUAL"},{keyword:"=",op:"EQUAL"}],_=["<=",">=","<>","!=","<",">"],y=x.slice().sort(function(N,A){return A.text.length-N.text.length}),j=[],C=0;C<y.length;C++){var L=y[C],k=L.text.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");j.push({col:L,regex:new RegExp("^"+k,"i")})}function O(N){for(var A="",M=0;M<N.length&&!(N.charAt(M)==="("||N.charAt(M)===")");){var Q=N.slice(M).match(/^(and|or)\b/i);if(Q)break;for(var U=!1,Y=0;Y<j.length;Y++){var E=j[Y].regex;if(N.slice(M).match(E)){U=!0;break}}if(U)break;A+=N.charAt(M),M++}return{value:A.trim(),length:M}}function X(N){for(var A=[],M=N.trim();M.length>0;){var Q=/^\s+/.exec(M);if(Q){M=M.slice(Q[0].length);continue}if(M.charAt(0)==="("){A.push({type:"OPEN_PAREN"}),M=M.slice(1);continue}if(M.charAt(0)===")"){A.push({type:"CLOSE_PAREN"}),M=M.slice(1);continue}var U=M.match(/^(and|or)\b/i);if(U){A.push({type:"LOGIC",value:U[1].toUpperCase()}),M=M.slice(U[0].length);continue}for(var Y=null,E=0;E<j.length;E++){var R=j[E].col,$=j[E].regex,F=$.exec(M);if(F){Y=R,A.push({type:"COLUMN",value:Y}),M=M.slice(F[0].length);break}}if(!Y){for(var W=null,E=0;E<b.length;E++){var V=b[E];if(M.toLowerCase().indexOf(V.keyword)===0){W=V.op,A.push({type:"OPERATOR",value:W}),M=M.slice(V.keyword.length);break}}if(!W){for(var le=null,E=0;E<_.length;E++)if(M.indexOf(_[E])===0){le=_[E];break}if(le){A.push({type:"OPERATOR",value:le}),M=M.slice(le.length);continue}if(M.charAt(0)==="="){A.push({type:"OPERATOR",value:"EQUAL"}),M=M.slice(1);continue}if(M.charAt(0)===":"){A.push({type:"OPERATOR",value:"EQUAL"}),M=M.slice(1);continue}var re=O(M);if(re.value.length>0){A.push({type:"VALUE",value:re.value}),M=M.slice(re.length);continue}break}}}return A}v=w(v).toLowerCase(),v=v.replace(/\b(filter\s+by|where\s+value)\b/g,"").trim();var P=X(v),T=0,I=null,z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","!=":"NOT_EQUAL","<>":"NOT_EQUAL"};function q(){return P[T]}function B(N){var A=P[T];return A&&(!N||A.type===N)?(T++,A):null}function S(){for(var N=D();;){var A=q();if(!A||A.type!=="LOGIC")break;var M=B("LOGIC").value,Q=D();N={logic:M,conditions:[N,Q]}}return N}function D(){var N=q();if(N&&N.type==="OPEN_PAREN"){B("OPEN_PAREN");var A=S();return B("CLOSE_PAREN"),A}N=q();var M=null;if(N&&N.type==="COLUMN")M=B("COLUMN").value,I=M;else if(N&&N.type==="VALUE"&&I)M=I;else return console.warn("Expected COLUMN or VALUE but got",N),null;var Q="EQUAL",U=q();if(U&&U.type==="OPERATOR"){var Y=B("OPERATOR").value;Q=z.hasOwnProperty(Y)?z[Y]:Y}var E=B("VALUE");if(!E)return console.warn("Expected VALUE token"),null;for(var R=E.value.split(/\s+or\s+/i),$=[],F=0;F<R.length;F++){var W=w(R[F]);W&&$.push(W)}for(var V=[],F=0;F<$.length;F++)V.push({field:M.dataField,type:M.type,operator:Q,value:g($[F],M)});return V.length===1?V[0]:{logic:"OR",conditions:V}}function H(N,A){if(!N)return[];if(typeof A>"u"&&(A="AND"),N.conditions){for(var M=[],Q=0;Q<N.conditions.length;Q++){var U=N.conditions[Q],Y=Q===0?A:N.logic;M=M.concat(H(U,Y))}return M}return[{field:N.field,type:N.type,operator:N.operator,value:N.value,logic:A}]}try{var G=S();return H(G)}catch(N){return console.error("Parse error:",N),[]}}function f(v,x,w,m){for(var g=`You are a helpful assistant converting natural language filter queries into structured JSON filters.
Use only these columns:
`,b=0;b<x.length;b++){var _=x[b];g+="- "+_.text+" ("+_.type+") => "+_.dataField+`
`}g+=`
Supported operators: EQUAL, NOT_EQUAL, GREATER_THAN, LESS_THAN, GREATER_THAN_OR_EQUAL, LESS_THAN_OR_EQUAL, CONTAINS, STARTS_WITH, ENDS_WITH

Respond in this format:
[
  {
    "field": "dataField",
    "operator": "EQUAL",
    "value": "some value",
    "type": "string",
    "logic": "AND"
  }
]
`;function y(j,C,L,k,O,X){var P=j||"https://api.openai.com/v1/chat/completions",T=new XMLHttpRequest;T.open("POST",P,!0),T.setRequestHeader("Authorization","Bearer "+C),T.setRequestHeader("Content-Type","application/json"),T.onreadystatechange=function(){if(T.readyState===4)if(T.status>=200&&T.status<300)try{var z=JSON.parse(T.responseText);if(l._aiCanFetch){var q=z.choices[0].message.content,B=JSON.parse(q);O&&typeof O=="function"&&O(B),l._aiCanFetch=!1,X(null,B)}else X(null,[])}catch(S){console.error("Failed to parse OpenAI response:",T.responseText),X(S,[])}else console.error("Error calling OpenAI API:",T.status,T.statusText),X(new Error("HTTP error: "+T.status),[])};var I=JSON.stringify({model:"gpt-4",messages:[{role:"system",content:L},{role:"user",content:"Query: "+k}],temperature:0});T.send(I)}y(l.aiUrl,w,g,v,m,function(j,C){j||console.log(C)})}var h=this.aiKey,c=function(v){function x(b){for(var _={},y=0;y<b.length;y++){for(var j=b[y],C=j.field,L=j.type,k=j.operator,O=j.value,X=j.logic,P=0;P<l.columns.records.length;P++){var T=l.columns.records[P];C===T.text&&T.datafield&&(C=T.datafield)}if(!_[C]){var I=new a.jqx.filter;_[C]={filterGroup:I,logic:X||"and"}}X&&(_[C].logic=X||"and");var z=_[C].filterGroup,q;switch(L){case"string":q=z.createfilter("stringfilter",O,k);break;case"date":q=z.createfilter("datefilter",O,k);break;case"number":q=z.createfilter("numericfilter",O,k);break;case"boolean":case"bool":q=z.createfilter("booleanfilter",O,k);break;default:continue}z.addfilter(_[C].logic.toLowerCase(),q)}return _}l.clearfilters();var w=x(v);for(var m in w)if(w.hasOwnProperty(m)){var g=w[m].filterGroup;l.addfilter(m,g,!1)}l.applyfilters()},p=n(r,e);p&&p.length>0?c(p):h&&f(r,e,h,c)},clearfilterrow:function(r){if(this._disablefilterrow=!0,!!this.columns.records){for(var l=this.columns.records.length,e=0;e<l;e++){var t=this.columns.records[e],i=a(this.filterrow[0].cells[e]);if(!(typeof r=="string"&&t.displayfield!=r)&&t.filterable){var s=function(h,c){var p=a(c.children()[0]);p.val(""),p[0]&&(h["_oldWriteText"+p[0].id]="")};switch(t.filtertype){case"number":case"input":if(i.find("input").val(""),this.host.jqxDropDownList){var o=a(a(a(i).children()[0]).children()[1]);o.jqxDropDownList("clearSelection");var d=0;if(d==0){this._getfiltersbytype(t.filtertype=="number"?"number":"string");var n=new a.jqx.filter,f=n.getoperatorsbyfiltertype(t.filtertype=="number"?"numberfilter":"stringfilter");t.filtercondition!=null?(d=f.indexOf(t.filtercondition.toUpperCase()),d==-1&&(d=t.filtertype=="number"?0:2)):d=t.filtertype=="number"?0:2}o.jqxDropDownList({selectedIndex:d}),o.jqxDropDownList("ensureVisible",d)}break;case"date":case"range":this.host.jqxDateTimeInput?a(i.children()[0]).jqxDateTimeInput("setDate",null):s(this,i);break;case"textbox":case"default":s(this,i);break;case"list":this.host.jqxDropDownList?a(i.children()[0]).jqxDropDownList("clearSelection"):s(this,i);break;case"checkedlist":this.host.jqxDropDownList?a(i.children()[0]).jqxDropDownList("checkAll",!1):s(this,i);break;case"bool":case"boolean":this.host.jqxCheckBox?a(i.children()[0]).jqxCheckBox({checked:null}):s(this,i);break}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(this._disablefilterrow!=!0&&!this.disabled){for(var r=this.columns.records.length,l=this.that,e=0;e<r;e++){var t=new a.jqx.filter,i=this.columns.records[e];if(i.filterable&&i.datafield!==null){var s=l._getcolumntypebydatafield(i),o=l._getfiltertype(s),d=1,n=!0;i.filtertype;var f=function(I,z,q){var B=!0;if(I._filterwidget){var S=I._filterwidget.val();if(S!=""){var D="equal";if(z=="stringfilter")var D="contains";if(z=="numericfilter"&&l.gridlocalization.decimalseparator==","&&S.indexOf(l.gridlocalization.decimalseparator)>=0&&(S=S.replace(l.gridlocalization.decimalseparator,".")),z!="stringfilter"){var H=0;if(S.indexOf(">")!=-1&&(D="greater_than",H=1),S.indexOf("<")!=-1&&(D="less_than",H=1),S.indexOf("=")!=-1&&(D=="greater_than"?(D="greater_than_or_equal",H=2):D=="less_than"?(D="less_than_or_equal",H=2):(D="equal",H=1)),H!=0&&(S=S.substring(H),S.length<1))return!1}if(I.filtercondition!=null&&(D=I.filtercondition),z=="datefilter")var G=q.createfilter(z,S,D,null,I.cellsformat,l.gridlocalization);else var G=q.createfilter(z,S,D);q.addfilter(d,G)}else B=!1}return B};switch(i.filtertype){case"range":case"date":if(i._filterwidget.jqxDateTimeInput)if(i.filtertype=="range"){var h=i._filterwidget.jqxDateTimeInput("getRange");if(h!=null&&h.from!=null&&h.to!=null){var c="GREATER_THAN_OR_EQUAL",p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(h.from.getFullYear(),h.from.getMonth(),h.from.getDate());var v=new Date(0);v.setHours(0),v.setMinutes(0),v.setFullYear(h.to.getFullYear(),h.to.getMonth(),h.to.getDate()),v.setHours(h.to.getHours()),v.setMinutes(h.to.getMinutes()),v.setSeconds(h.to.getSeconds());var x=t.createfilter(o,p,c);t.addfilter(0,x);var w="LESS_THAN_OR_EQUAL",m=t.createfilter(o,v,w);t.addfilter(0,m)}else n=!1}else{var h=i._filterwidget.jqxDateTimeInput("getDate");if(h!=null){var p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(h.getFullYear(),h.getMonth(),h.getDate()),i._filterwidget.jqxDateTimeInput("showTimeButton")&&(p.setHours(h.getHours()),p.setMinutes(h.getMinutes()));var c="EQUAL";i.filtercondition!=null&&(c=i.filtercondition);var x=t.createfilter(o,p,c),g=i._filterwidget.jqxDateTimeInput("showTimeButton");g&&(x=t.createfilter(o,p,c,null,i.cellsformat)),t.addfilter(0,x)}else n=!1}else n=f(i,o,t);break;case"input":if(i._filterwidget){var h=i._filterwidget.find("input").val(),b=i._filterwidget.find(".filter").jqxDropDownList("selectedIndex");b<0&&(b=0);var _=t.getoperatorsbyfiltertype(o)[b];if(l.updatefilterconditions){var y=l.updatefilterconditions(o,t.getoperatorsbyfiltertype(o));y!=null&&t.setoperatorsbyfiltertype(o,y);var _=t.getoperatorsbyfiltertype(o)[b]}var j=_=="NULL"||_=="NOT_NULL",C=_=="EMPTY"||_=="NOT_EMPTY";h!=null&&h.length>0||j||C?(x=t.createfilter(o,h,_,null,i.cellsformat,l.gridlocalization),t.addfilter(0,x)):n=!1}else n=!1;break;case"number":if(i._filterwidget){var h=i._filterwidget.find("input").val();l.gridlocalization.decimalseparator==","&&h.indexOf(l.gridlocalization.decimalseparator)>=0&&(h=h.replace(l.gridlocalization.decimalseparator,"."));var b=i._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),_=t.getoperatorsbyfiltertype(o)[b];if(l.updatefilterconditions){var y=l.updatefilterconditions(o,t.getoperatorsbyfiltertype(o));y!=null&&t.setoperatorsbyfiltertype(o,y);var _=t.getoperatorsbyfiltertype(o)[b]}var j=_=="NULL"||_=="NOT_NULL",C=_=="EMPTY"||_=="NOT_EMPTY";h!=null&&h.length>0||j||C?(x=t.createfilter(o,new Number(h),_,null,i.cellsformat,l.gridlocalization),t.addfilter(0,x)):n=!1}else n=!1;break;case"textbox":case"default":n=f(i,o,t);break;case"bool":case"boolean":if(i._filterwidget.jqxCheckBox){var h=i._filterwidget.jqxCheckBox("checked");if(h!=null){var c="equal",L=t.createfilter(o,h,c);t.addfilter(d,L)}else n=!1}else n=f(i,o,t);break;case"list":var k=i._filterwidget.jqxDropDownList("listBox");if(k.selectedIndex>=0){var O=k.getSelectedItem(),h=O.label,X=O.value,c="equal";h===""&&(c="NULL");var L=t.createfilter(o,h,c);t.addfilter(d,L),X!==h&&(L.data=X)}else n=!1;break;case"checkedlist":if(i._filterwidget.jqxDropDownList){var k=i._filterwidget.jqxDropDownList("listBox"),P=k.getCheckedItems();if(P.length==0){for(var T=1;T<k.items.length;T++){var h=k.items[T].label,X=k.items[T].value,c="not_equal";h===""&&(c="NOT_NULL");var L=t.createfilter(o,h,c);X!==h&&(L.data=X),t.addfilter(0,L)}n=!0}else if(P.length!=k.items.length)for(var T=0;T<P.length;T++){var h=P[T].label,X=P[T].value,c="equal";h===""&&(c="NULL");var L=t.createfilter(o,h,c);X!==h&&(L.data=X),t.addfilter(d,L)}else n=!1}else n=f(i,o,t);break}this._loading||(n?this.addfilter(i.displayfield,t,!1):this.removefilter(i.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var r=a('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),l=0,e=this.columns.records.length,t=this.toThemeProperty("jqx-grid-cell");t+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),t+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var i=e+10,s=new Array,o=this.that;if(this.filterrow[0].cells=s,r.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(r),this._filterrowcache||(this._filterrowcache=new Array),this._idsCache||(this._idsCache=new Array),this._idsCache)for(var d=0;d<this._idsCache.length;d++){var n=this._idsCache[d].id,f=this._idsCache[d].type;switch(f){case"dropDownList":a("#"+n).jqxDropDownList("destroy");break;case"dateTimeInput":a("#"+n).jqxDateTimeInput("destroy");break}}this._initcolumntypes();for(var h=!1,c=new Array,p=document.createDocumentFragment(),v=0;v<e;v++){var x=this.columns.records[v],w=x.width;w<x.minwidth&&(w=x.minwidth),w>x.maxwidth&&(w=x.maxwidth);var m=document.createElement("div");m.style.overflow="hidden",m.style.position="absolute",m.style.height="100%",m.className=t,m=a(m),p.appendChild(m[0]),m[0].style.left=l+"px",this.rtl?(m.css("z-index",i++),m.css("border-left-width","1px")):m.css("z-index",i--),w=="auto"&&(w=0),m[0].style.width=parseFloat(w)+"px",m[0].left=l,x.hidden&&x.hideable?m.css("display","none"):l+=w,s[s.length]=m[0];var g=!0;if(this.rtl){if(this.groupable){var b=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+b+v>e-1&&(g=!1)}this.showrowdetailscolumn&&this.rowdetails&&v==e-1&&(g=!1)}else{if(this.groupable){var b=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+b>v&&(g=!1)}this.showrowdetailscolumn&&this.rowdetails&&v==0&&(g=!1)}if(g)if(x.filtertype=="custom"&&x.createfilterwidget){var _=function(){o._applyfilterfromfilterrow()};x.createfilterwidget(x,m,_)}else x.filterable&&(this._filterrowcache[x.datafield]?(h=!0,m.append(this._filterrowcache[x.datafield]),x._filterwidget=this._filterrowcache[x.datafield]):(this._addfilterwidget(x,m,w),c[x.datafield]=x._filterwidget))}r[0].appendChild(p),this._filterrowcache=c,a.jqx.browser.msie&&a.jqx.browser.version<8&&r.css("z-index",i--),r.width(parseFloat(l)+2),this.filterrow.addClass(t),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),h&&this._updatefilterrowui(!0)},_getfilterdataadapter:function(r){var l=!!this.source._source;if(l)var t={localdata:a.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},i=this,e=new a.jqx.dataAdapter(t,{autoBind:!1,autoSort:!0,autoSortField:r.displayfield,async:!1,uniqueDataFields:[r.displayfield],beforeLoadComplete:function(o){var d=new Array;if(r.cellsformat){for(var n=i._getcolumntypebydatafield(r),f=0;f<o.length;f++){d.push(o[f]);var h=o[f][r.displayfield];o[f][r.displayfield+"JQValue"]=h,n==="date"?h!=null?o[f][r.displayfield]=e.formatDate(h,r.cellsformat,i.gridlocalization):o[f][r.displayfield]="":(n==="number"||n==="float"||n==="int")&&(h!=null?o[f][r.displayfield]=e.formatNumber(h,r.cellsformat,i.gridlocalization):o[f][r.displayfield]="")}return d}else return o}});else var e=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[r.displayfield],autoSort:!0,autoSortField:r.displayfield,async:!1});if(r.filteritems&&r.filteritems.length>0)var t={localdata:r.filteritems,datatype:this.source.datatype,async:!1},e=new a.jqx.dataAdapter(t,{autoBind:!1,async:!1});else if(r.filteritems){if(r.filteritems._source)return r.filteritems._options.autoBind=!1,r.filteritems._options.async=!1,r.filteritems;if(a.isFunction(r.filteritems))return r.filteritems()}return e},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var r=this.that,l=this.columns.records.length,e=0;e<l;e++){var t=this.columns.records[e];if(t.filterable&&t.filter){var i=t.filter.getfilters();if(i.length>0){var s=i[0].value,o=t._filterwidget,d=t._filterwidget.parent();if(o!=null)switch(t.filtertype){case"number":if(d.find("input").val(s),this.host.jqxDropDownList){var n=t.filter.getoperatorsbyfiltertype("numericfilter");o.find(".filter").jqxDropDownList("selectIndex",n.indexOf(i[0].condition))}break;case"input":if(d.find("input").val(s),this.host.jqxDropDownList){var n=t.filter.getoperatorsbyfiltertype("stringfilter");o.find(".filter").jqxDropDownList("selectIndex",n.indexOf(i[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){var s=t.filter.getfilterat(0).filtervalue;if(s!=null){if(t.filter.getfilterat(1))var f=t.filter.getfilterat(1).filtervalue;else f=s;t.filtertype=="range"?a(d.children()[0]).jqxDateTimeInput("setRange",new Date(s),new Date(f)):a(d.children()[0]).jqxDateTimeInput("setDate",new Date(s))}}else o.val(s);break;case"textbox":case"default":o.val(s),r["_oldWriteText"+o[0].id]=s;break;case"bool":case"boolean":this.host.jqxCheckBox?a(d.children()[0]).jqxCheckBox({checked:s}):o.val(s);break}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that;for(var r=this.columns.records.length,l=0;l<r;l++){var e=this.columns.records[l];if(e.filterable){var t=e._filterwidget;if(e.filtertype=="list"||e.filtertype=="checkedlist")this.removeHandler(t,"select"),this.removeHandler(t,"close"),t.jqxDropDownList("destroy");else if(e.filtertype=="date"||e.filtertype=="range")this.removeHandler(t,"valueChanged"),t.jqxDateTimeInput("destroy");else if(e.filtertype=="bool")this.removeHandler(t,"change"),t.jqxCheckBox("destroy");else if(e.filtertype=="number"||e.filtertype==="input"){var i=t.find(".jqx-input");this.removeHandler(i,"keydown");var s=a(t.children()[1]);s.jqxDropDownList("destroy")}else this.removeHandler(t,"keydown");t.remove()}}},_updatelistfilters:function(r,l){for(var e=this.that,t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i];if(s.filterable&&(s.filtertype=="list"||s.filtertype=="checkedlist")){var o=s._filterwidget;if(r){var d=this._getfilterdataadapter(s);o.jqxDropDownList({source:d});var c=o.jqxDropDownList("getItems"),n=!0;if(c.length!=d.records.length+1&&(n=!1),n){for(var f=1;f<c.length;f++)if(c[f].label!=d.records[f-1][s.displayfield]){n=!1;break}}if(n&&!l)continue}else if(s.filter==null){o.jqxDropDownList("renderSelection");continue}var h=s.filtertype=="checkedlist",c=o.jqxDropDownList("getItems"),p=o.jqxDropDownList("listBox");if(o.jqxDropDownList("dataBind"),h){o.jqxDropDownList({selectionRenderer:function(){return e.gridlocalization.filterselectstring}}),p.getItem(this.gridlocalization.filterselectallstring)==null&&p.insertAt({label:this.gridlocalization.filterselectallstring},0);var v=a('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(v.addClass(this.toThemeProperty("jqx-item")),o.jqxDropDownList("setContent",v),p.checkAll(!1),s.filter){for(var x=s.filter.getfilters(),f=0;f<p.items.length;f++){var w=p.items[f].label,m=void 0;a.each(x,function(){var y;this.condition=="NOT_EQUAL"?w==this.value?y=!1:y=!0:this.condition=="EQUAL"&&(w==this.value?y=!0:y=!1),m==null&&y!==void 0?m=y:this.condition=="EQUAL"?m=m||y:m=m&&y}),m?p.checkIndex(f,!1,!1):p.uncheckIndex(f,!1,!1)}p._updateCheckedItems();var g=p.getCheckedItems().length;p.items.length!=g&&g>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(p.getItem(this.gridlocalization.filterchoosestring)==null&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),o.jqxDropDownList({selectedIndex:0}),s.filter){for(var x=s.filter.getfilters(),b=-1,f=0;f<p.items.length;f++){var w=p.items[f].label;a.each(x,function(){if(this.condition=="NOT_EQUAL")return!0;if(w==this.value)return b=f,!1})}b!=-1&&p.selectIndex(b)}c.length<8?o.jqxDropDownList("autoDropDownHeight",!0):o.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfilter:function(){var r=this,l=a("<div style='display: flex; height: calc(100% - 10px); margin-top: 5px; align-items: center; position: relative; margin-left: 4px;'><input title='Filter Input' style='width: 200px; height: 100%; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>"),e=l.find("input"),t=l.find("div:first");l.addClass(this.toThemeProperty("jqx-rc-all")),l.addClass(this.toThemeProperty("jqx-widget")),l.addClass(this.toThemeProperty("jqx-input-group")),e.addClass(this.toThemeProperty("jqx-input")),e.addClass(this.toThemeProperty("jqx-rc-l")),e.addClass(this.toThemeProperty("jqx-input-group-addon")),e.addClass(this.toThemeProperty("jqx-widget")),e.addClass(this.toThemeProperty("jqx-widget-content")),t.addClass(this.toThemeProperty("jqx-fill-state-normal")),t.addClass(this.toThemeProperty("jqx-rc-r")),t.addClass(this.toThemeProperty("jqx-input-group-addon")),t.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(e.addClass(this.toThemeProperty("jqx-rtl")),e.css("direction","rtl")),this.filterbar.children().remove(),this.filterbutton=t;for(var i=new Array,s=0;s<r.columns.records.length;s++)r.columns.records[s].datafield&&r.columns.records[s].filterable&&i.push({label:r.columns.records[s].text,value:r.columns.records[s].displayfield});var o=i.length<10,d=a("<div aria-label='Search Columns' style='position: relative;  display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filterbar.append(d);var n=a("<div aria-expanded='false' aria-label='Filter Columns' class='filtercolumns' style='position: relative; margin-top:5px; margin-left:4px; margin-right: 4px; float: left;'></div>");this.filterbar.append(n),n.jqxDropDownList&&n.jqxDropDownList({popupZIndex:999999999,theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:o,rtl:r.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:25,source:i,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=n,e[0].parentElement.insertBefore(d[0],e[0]);var f=function(p){r.filterinput.val("");for(var v=0;v<r.dataview.filters.length;v++){var x=r.dataview.filters[v];x.datafield===p&&r.filterinput.val(x.filter.getfilterat(0).filtervalue)}};r.filterHeight,r._updateSimpleFilter=f,this.addHandler(n,"select",function(p){var v=p.args.item.value;f(v)}),this.filterbarmode==="simple"?(this.filtercolumnsList.hide(),d.show()):(this.filtercolumnsList.show(),d.hide());var h=function(){if(!t.hasClass("jqx-fill-state-disabled")){var p=e.val();if(n.jqxDropDownList)var v=n.jqxDropDownList("getSelectedItem");var x=function(_,y,j){var C=new a.jqx.filter,L=r._getcolumntypebydatafield(_),k=r._getfiltertype(L);if(k=="datefilter")var O=C.createfilter(k,y,"EQUAL",null,_.cellsFormat,r.gridlocalization);else if(k=="numericfilter"||k=="booleanfilter"){k=="numericfilter"&&(r.gridlocalization.decimalseparator==","&&y.indexOf(r.gridlocalization.decimalseparator)>=0&&(y=y.replace(r.gridlocalization.decimalseparator,".")),y.indexOf(r.gridlocalization.currencysymbol)>=0&&(y=y.replace(r.gridlocalization.currencysymbol,"")),y.indexOf(r.gridlocalization.percentagesymbol)>=0&&(y=y.replace(r.gridlocalization.percentagesymbol,"")));var O=C.createfilter(k,y,"EQUAL",null,_.cellsFormat,r.gridlocalization)}else var O=C.createfilter(k,y,"CONTAINS");return C.operator=j,C.addfilter(0,O),C};if(r.filterbarmode!=="simple"){if(v){var w=v.value,m=x(w,p,"and");p.length>0?(r.removefilter(w),r.addfilter(w,m),r.applyfilters()):(r.removefilter(w),r.applyfilters())}}else{if(r.clearfilters(!1,!1),p.length>0)for(var g=0;g<r.columns.records.length;g++){var b=r.columns.records[g];if(b.filterable===!0&&!((b.datatype==="date"||b.datatype==="number")&&p.indexOf("1")===-1&&p.indexOf("2")===-1&&p.indexOf("3")===-1&&p.indexOf("4")===-1&&p.indexOf("5")===-1&&p.indexOf("6")===-1&&p.indexOf("7")===-1&&p.indexOf("8")===-1&&p.indexOf("9")===-1)){var m=x(b,p,"or");r.addfilter(b.datafield,m)}}r.applyfilters()}r.dataview.filters.length==0?r.filtericon.fadeOut(200):r.filtericon.fadeIn(200)}};e.keydown(function(p){if(p.keyCode===13)return h(),p.preventDefault&&p.preventDefault(),!1}),t.click(function(){h()}),this.filterinput=e,this.filterbar.append(l);var c=a("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");c.attr("title",r.gridlocalization.filterclearstring),c.addClass(r.toThemeProperty("jqx-icon-close")),l.append(c),c.hide(),r.filtericon=c,c.click(function(){r.clearfilters(),e.val(""),r.filtericon.fadeOut(200)}),r.dataview.filters.length>0&&f(r.dataview.filters[0].datafield)},_renderfiltercolumn:function(){var r=this.that;if(this.filterable){if(!this.columns.records)return;a.each(this.columns.records,function(l,e){var t=!1;r.autoshowfiltericon?this.filter?(a(this.filtericon).show(),t=!0):a(this.filtericon).hide():this.filterable&&(a(this.filtericon).show(),t=!0),this.element.removeAttribute("filter"),t&&this.element.setAttribute("filter",!0),this.align=="right"&&!this.renderer&&this.element&&(t?this.element.firstChild.firstChild.style.marginRight="18px":this.element.firstChild.firstChild.style.marginRight="2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var r=this.source._source.datafields;if(r)for(var l=0;l<this.columns.records.length;l++){var e=this.columns.records[l];if(!e.datatype){var t="";a.each(r,function(){if(this.name==e.displayfield)return this.type&&(t=this.type),!1}),t!=""?e.datatype=t:e.datatype=""}}}},_getcolumntypebydatafield:function(r){var l=this.that,e="string",t=l.source.datafields||(l.source._source?l.source._source.datafields:null);if(t){var i="";if(a.each(t,function(){if(this.name==r.displayfield)return this.type&&(i=this.type),!1}),i)return i}if(r!=null){if(this.dataview.cachedrecords==null)return e;var s=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return s=this[r.displayfield],!1});else{if(this.dataview.cachedrecords.length==0)return e;if(s=this.dataview.cachedrecords[0][r.displayfield],s!=null&&s.toString()=="")return"string"}if(s!=null)if(typeof s=="boolean")e="boolean";else if(a.jqx.dataFormat.isNumber(s))e="number";else{var o=new Date(s);if(o.toString()=="NaN"||o.toString()=="Invalid Date")if(a.jqx.dataFormat)if(o=a.jqx.dataFormat.tryparsedate(s),o!=null){if(o&&o.getFullYear()&&o.getFullYear()==1970&&o.getMonth()==0&&o.getDate()==1){var d=new Number(s);return isNaN(d)?"string":"number"}return"date"}else e="string";else e="string";else e="date"}}return e},_getfiltersbytype:function(r){var l=this.that,e="";switch(r){case"number":case"float":case"int":e=l.gridlocalization.filternumericcomparisonoperators;break;case"date":e=l.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":e=l.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:e=l.gridlocalization.filterstringcomparisonoperators;break}return e},_getfiltertype:function(r){var l="stringfilter";switch(r){case"number":case"int":case"float":case"decimal":l="numericfilter";break;case"boolean":case"bool":l="booleanfilter";break;case"date":case"time":case"range":l="datefilter";break;case"string":case"input":l="stringfilter";break}return l},_buildfilter:function(r,l,e){var t=a(l).find(".filter1"),i=a(l).find(".filter2"),s=a(l).find(".filter3"),o=a(l).find(".filtertext1"+r.element.id),d=a(l).find(".filtertext2"+r.element.id),n=o.val(),f=d.val(),h=r._getcolumntypebydatafield(e);r._getfiltersbytype(h);var c=new a.jqx.filter,p=r._getfiltertype(h);if(r.filtermode==="default"&&e.filtertype!=="list"&&e.filtertype!=="checkedlist"){var v=t.jqxDropDownList("selectedIndex"),x=i.jqxDropDownList("selectedIndex"),w=s.jqxDropDownList("selectedIndex"),m=null,g=null;if(r.updatefilterconditions){var b=r.updatefilterconditions(p,c.getoperatorsbyfiltertype(p));b!=null&&c.setoperatorsbyfiltertype(p,b)}var _=!1,y=c.getoperatorsbyfiltertype(p)[v],s=c.getoperatorsbyfiltertype(p)[w],j=y=="NULL"||y=="NOT_NULL",C=y=="EMPTY"||y=="NOT_EMPTY";y==null&&(y=c.getoperatorsbyfiltertype(p)[0]),s==null&&(s=c.getoperatorsbyfiltertype(p)[0]),(n.length>0||j||C)&&(m=c.createfilter(p,n,y,null,e.cellsformat,r.gridlocalization),c.addfilter(x,m),_=!0);var L=s=="NULL"||s=="NOT_NULL",k=s=="EMPTY"||s=="NOT_EMPTY";if((f.length>0||L||k)&&(g=c.createfilter(p,f,s,null,e.cellsformat,r.gridlocalization),c.addfilter(x,g),_=!0),_){var O=e.displayfield;this.addfilter(O,c,!0)}else this._clearfilter(r,l,e)}else if(r.filtermode==="excel"||e.filtertype==="list"||e.filtertype==="checkedlist"){var X=!1,P=t.data().jqxListBox.instance,T=this.filtermode==="excel"||e.filtertype==="checkedlist",I=P.getCheckedItems();if(!T)var I=P.getSelectedItems();if(I.length==0){for(var z=1;z<P.items.length;z++){var q=P.items[z].value;q===void 0&&(q="");var B="not_equal";if(q&&q.indexOf&&(q.indexOf("|")>=0||q.indexOf(" AND ")>=0||q.indexOf(" OR ")>=0||q.indexOf(" and ")>=0||q.indexOf(" or ")>=0)){q=q.replace("|",""),q=q.replace("AND",""),q=q.replace("OR",""),q=q.replace("and",""),q=q.replace("or","");var B="equal"}if(p=="datefilter")var S=c.createfilter(p,q,B,null,e.cellsformat,r.gridlocalization);else var S=c.createfilter(p,q,B,null);c.addfilter(0,S)}X=!0}else if(I.length!=P.items.length){X=!0;for(var z=0;z<I.length;z++)if(r.gridlocalization.filterselectallstring!==I[z].value){var q=I[z].value;q===void 0&&(q="");var B="equal";if(p=="datefilter")var S=c.createfilter(p,q,B,null,e.cellsformat,r.gridlocalization);else var S=c.createfilter(p,q,B,null);var D=1;c.addfilter(D,S)}}else X=!1;if(X){var O=e.displayfield;this.addfilter(O,c,!0)}else{var O=e.displayfield;this.removefilter(O,!0)}}},_clearfilter:function(r,l,e){var t=e.displayfield;this.removefilter(t,!0)},addfilter:function(r,l,e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var t=this.getcolumn(r),i=this._getcolumn(r);t==null||t==null||(t.filter=l,i&&(i.filter=l),this.dataview.addfilter(r,l),e==!0&&e!=null&&this.applyfilters("add"))},removefilter:function(r,l){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var e=this.getcolumn(r),t=this._getcolumn(r);e==null||e==null||e.filter!=null&&(this.dataview.removefilter(r,e.filter),e.filter=null,t.filter=null,this.showfilterrow&&this.clearfilterrow(r),(l==!0||l!==!1)&&this.applyfilters("remove"))},applyfilters:function(r){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&this.source!=null&&this.source.filter){var l=-1;this.pageable?(l=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=l)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode){this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&typeof r!="string"&&a.isEmptyObject(r)&&this.refreshfilterrow(),this._postrender("filter"),this._raiseEvent(13,{filters:this.dataview.filters});return}else if(this.selectedrowindexes,this.that,this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var e=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,e,null,!1,!1):this.sortby(this.sortcolumn,e,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&this.groups.length==0?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this.collapseallgroups(),this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&typeof r!="string"&&a.isEmptyObject(r)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var r=new Array,l=0;l<this.dataview.filters.length;l++){var e=this.getcolumn(this.dataview.filters[l].datafield);r[l]={filter:this.dataview.filters[l].filter,datafield:e.datafield,displayfield:e.displayfield,filtercolumn:e.datafield,filtercolumntext:e.text}}return r},clearfilters:function(r){var l=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var e=r==!0||r!==!1;a.each(this.columns.records,function(){l.removefilter(this.displayfield,!e)})}r!==!1&&(r==!0||r!==!1)&&this.applyfilters("clear")},_updatefilterpanel:function(r,l,e){(r==null||r==null)&&(r=this);var t=r._getcolumntypebydatafield(e),i=r._getfiltersbytype(t);if(!r.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");r.filterpanel.detach(),r.excelfilterpanel.detach(),e.filterpanel&&e.filterpanel.detach(),a(l).children().detach();var s=a(r.menuitemsarray[6]);if(a(s).css("height","190px"),e.createfilterpanel&&!e.filterpanel){var o=a("<div class='filter' style='margin-left: 7px;'></div>");a(l).append(o),e.createfilterpanel(e.displayfield,o),e.filterpanel=o}e.filtertype==="list"||e.filtertype==="checkedlist"?a(l).append(r.excelfilterpanel):e.filtertype!=="custom"?a(l).append(r.filterpanel):e.filterpanel&&a(l).append(e.filterpanel);var d=a(l),n=d.find("#filterclearbutton"+r.element.id),f=d.find("#filterbutton"+r.element.id),h=d.find(".filter1"),c=d.find(".filter2"),p=d.find(".filter3"),v=d.find(".filtertext1"+r.element.id),x=d.find(".filtertext2"+r.element.id);if(this._hasdatefilter&&e.filtertype!=="list"&&e.filtertype!=="checkedlist"&&e.filtertype!=="custom"){var w=v.parent(),m=x.parent();if(w.children().remove(),m.children().remove(),e.filtertype=="date"){r._showwhere.text(r.gridlocalization.filtershowrowdatestring);var b=a("<div class='filtertext1"+r.element.id+"' style=''></div>");w.append(b);var g=function(Q){var U={calendar:r.gridlocalization,todayString:r.gridlocalization.todaystring,clearString:r.gridlocalization.clearstring};Q.jqxDateTimeInput({disabled:r.disabled,firstDayOfWeek:r.gridlocalization.firstDay,localization:U,rtl:r.rtl,width:r._filterpanelwidth-10,height:this.filterMenuItemsHeight,value:null,formatString:e.cellsformat,theme:r.theme})};g(b);var b=a("<div class='filtertext2"+r.element.id+"' style=''></div>");m.append(b),g(b)}else{r._showwhere.text(r.gridlocalization.filtershowrowstring);var b=a("<input autocomplete='off' class='filtertext1"+r.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>");w.append(b);var g=function(Y){Y.addClass(r.toThemeProperty("jqx-input")),Y.addClass(r.toThemeProperty("jqx-filter-input jqx-widget-content")),Y.addClass(r.toThemeProperty("jqx-rc-all")),Y.width(r._filterpanelwidth-18),Y[0].style.height=this.filterMenuItemsHeight+"px"};g(b);var b=a("<input autocomplete='off' class='filtertext2"+r.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>");m.append(b),g(b)}var v=d.find(".filtertext1"+r.element.id),x=d.find(".filtertext2"+r.element.id)}if(e.filtertype!="date"?(v.val(""),x.val("")):(v.val(null),x.val(null)),this.removeHandler(f,"click"),this.addHandler(f,"click",function(){r._buildfilter(r,l,e),r._closemenu()}),this.removeHandler(n,"click"),this.addHandler(n,"click",function(){r._clearfilter(r,l,e),r._closemenu()}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(A){A.keyCode===13&&(r._buildfilter(r,l,e),r._closemenu())}),this.removeHandler(n,"keydown"),this.addHandler(n,"keydown",function(A){A.keyCode===13&&(r._clearfilter(r,l,e),r._closemenu())}),this.removeHandler(v,"keydown"),this.addHandler(v,"keydown",function(A){A.keyCode===13&&f.trigger("click"),A.keyCode===27&&r._closemenu()}),this.removeHandler(x,"keydown"),this.addHandler(x,"keydown",function(A){A.keyCode===13&&f.trigger("click"),A.keyCode===27&&r._closemenu()}),this.filtermode==="default"&&e.filtertype!=="list"&&e.filtertype!=="checkedlist"&&e.filtertype!=="custom"){if(h.jqxDropDownList("source")!=i&&(h.jqxDropDownList({enableBrowserBoundsDetection:!1,source:i}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:i})),t=="boolean"||t=="bool")h.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var _=!1;i&&i.length&&i.length<5&&(_=!0),h.jqxDropDownList({autoDropDownHeight:_,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:_,selectedIndex:2})}c.jqxDropDownList({selectedIndex:0});var y=e.filter,j=new a.jqx.filter,C="";switch(t){case"number":case"int":case"float":case"decimal":C="numericfilter",L=j.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":C="booleanfilter",L=j.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":C="datefilter",L=j.getoperatorsbyfiltertype("datefilter");break;case"string":C="stringfilter",L=j.getoperatorsbyfiltertype("stringfilter");break}if(y!=null){var w=y.getfilterat(0),m=y.getfilterat(1);if(y.getoperatorat(0),r.updatefilterconditions){var L=[],k=r.updatefilterconditions(C,L);if(k!=null){for(var O=0;O<k.length;O++)k[O]=k[O].toUpperCase();y.setoperatorsbyfiltertype(C,k),L=k}}var X="default";if(w!=null){var P=L.indexOf(w.comparisonoperator),T=w.filtervalue;v.val(T),h.jqxDropDownList({selectedIndex:P,animationType:X})}if(m!=null){var I=L.indexOf(m.comparisonoperator),z=m.filtervalue;x.val(z),p.jqxDropDownList({selectedIndex:I,animationType:X})}y.getoperatorat(0)==null?c.jqxDropDownList({selectedIndex:0,animationType:X}):y.getoperatorat(0)=="and"||y.getoperatorat(0)==0?c.jqxDropDownList({selectedIndex:0}):c.jqxDropDownList({selectedIndex:1})}r.updatefilterpanel&&r.updatefilterpanel(h,p,c,v,x,f,n,y,C,L),(!this._hasdatefilter||this._hasdatefilter&&e.filtertype!="date")&&(this.touchdevice||(v.focus(),setTimeout(function(){v.focus()},10)))}else if(this.filtermode==="excel"||e.filtertype==="list"||e.filtertype==="checkedlist"){var q=r._getfilterdataadapter(e),C=r._getfiltertype(t),B=this.filtermode==="excel"||e.filtertype==="checkedlist";if(e.filtertype=="date"&&r._showwhere.text(r.gridlocalization.filtershowrowstring),h.jqxListBox("focus"),this.removeHandler(h,"keyup"),this.addHandler(h,"keyup",function(M){M.keyCode===13&&f.trigger("click"),M.keyCode===27&&r._closemenu()}),e.cellsformat?h.jqxListBox({checkboxes:B,displayMember:e.displayfield,valueMember:e.displayfield+"JQValue",source:q}):h.jqxListBox({checkboxes:B,displayMember:e.displayfield,valueMember:e.displayfield,source:q}),B){h.jqxListBox("insertAt",{label:r.gridlocalization.filterselectallstring},0);var S=h.data().jqxListBox.instance;if(S.checkAll(!1),e.filter){S.uncheckAll(!1);for(var D=e.filter.getfilters(),H=0;H<S.items.length;H++){var G=S.items[H].value;a.each(D,function(){if(this.condition=="NOT_EQUAL"){if(G!=this.value)return S.uncheckIndex(H,!1,!1),!1;if(G!=null&&this.value!=null&&G.toString()!=this.value.toString())return S.uncheckIndex(H,!1,!1),!1}else if(this.condition=="EQUAL"){if(G==this.value)return S.checkIndex(H,!1,!1),!1;if(G!=null&&this.value!=null&&G.toString()==this.value.toString())return S.checkIndex(H,!1,!1),!1}})}S._updateCheckedItems();var N=S.getCheckedItems().length;S.items.length!=N&&N>0&&S.host.jqxListBox("indeterminateIndex",0,!0,!1),N===S.items.length-1&&S.host.jqxListBox("checkIndex",0,!0,!1)}}else if(e.filter){var S=h.data().jqxListBox.instance;S.clearSelection();for(var D=e.filter.getfilters(),H=0;H<S.items.length;H++){var G=S.items[H].value;a.each(D,function(){if(this.condition=="NOT_EQUAL"){if(G!=this.value)return S.unselectIndex(H,!1,!1),!1}else if(this.condition=="EQUAL"&&G==this.value)return S.selectIndex(H,!0,!1),!1})}S._renderItems()}}},_initfilterpanel:function(r,l,e,t,i){(r==null||r==null)&&(r=this),l[0].innerHTML="";var s=a("<div class='filter' style='position: absolute; bottom: 3px; margin-left: 3px;'></div>");l.append(s);var o=a("<div class='filter showwhere' style='height: 18px; margin-top: 3px; margin-bottom: 3px;'></div>");o.text(r.gridlocalization.filtershowrowstring),this._showwhere=o;var d=i?"ex":"",n=a("<div class='filter filter1' id='filter1"+r.element.id+d+"'></div>"),f=a("<div class='filter filter2' id='filter2"+r.element.id+d+"' style='margin-top: 3px; margin-bottom: 3px;'></div>"),h=a("<div class='filter filter3' id='filter3"+r.element.id+d+"'></div>"),c=r._getcolumntypebydatafield(e);if(!n.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");n[0].setAttribute("aria-label","Filter Condition 1"),f[0].setAttribute("aria-label","Filter Operator"),h[0].setAttribute("aria-label","Filter Condition 2"),n[0].setAttribute("aria-expanded",!1),f[0].setAttribute("aria-expanded",!1),h[0].setAttribute("aria-expanded",!1);var p=r._getfiltersbytype(c);if(this._hasdatefilter=!1,this._filterpanelwidth=t,this.columns&&this.columns.records){for(var v=0;v<this.columns.records.length;v++)if(this.columns.records[v].filtertype=="date"){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records){for(var v=0;v<this.columns.length;v++)if(this.columns[v].filtertype=="date"){this._hasdatefilter=!0;break}}var x=a("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext1"+r.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),w=x.find("input");w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-rc-all")),w.width(t-18);var m=a("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext2"+r.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px;' type='text'></input></div>"),g=m.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(t-18),r.rtl&&(w.css("direction","rtl"),g.css("direction","rtl"));var b=a("<div class='filter' style='height: 35px; text-align:center; margin-top: 15px; margin-left:-2px;'></div>"),_=a('<span tabIndex=0 id="filterbutton'+r.element.id+'" class="primary filterbutton" style="padding: 6px 15px;">'+r.gridlocalization.filterstring+"</span>");b.append(_);var y=a('<span tabIndex=0 id="filterclearbutton'+r.element.id+'" class="secondary filterclearbutton" style="position: relative; left: 1px; padding: 6px 15px; margin-left: 7px;">'+r.gridlocalization.filterclearstring+"</span>");b.append(y),_.jqxButton({height:this.filterMenuItemsHeight,theme:r.theme}),y.jqxButton({height:this.filterMenuItemsHeight,theme:r.theme});var j=function(k){if(k){if(k.text().indexOf("case sensitive")!=-1){var O=k.text();O=O.replace("case sensitive","match case"),k.text(O)}return k.css("font-family",r.host.css("font-family")),k.css("font-size",r.host.css("font-size")),k.css("top","2px"),k.css("position","relative"),k}return""};if(this.filtermode==="default"&&!i){s.append(o),s.append(n),n.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:r.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:t-10,height:24,dropDownHeight:150,dropDownWidth:t-10,selectionRenderer:j,source:p,theme:r.theme}),s.append(x);var C=new Array;C[0]=r.gridlocalization.filterandconditionstring,C[1]=r.gridlocalization.filterorconditionstring,f.jqxDropDownList({_checkForHiddenParent:!1,rtl:r.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:24,source:C,selectionRenderer:j,theme:r.theme}),s.append(f),h.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:r.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:t-10,height:24,dropDownHeight:150,dropDownWidth:t-10,selectionRenderer:j,source:p,theme:r.theme}),s.append(h),s.append(m)}else if(this.filtermode==="excel"||i){s.append(o),s.append(n),n.attr("tabindex",0),n.jqxListBox({rtl:r.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:t-10,height:130,theme:r.theme});var L=!0;r.addHandler(n,"checkChange",function(k){if(L)if(k.args.label!=r.gridlocalization.filterselectallstring){L=!1,n.jqxListBox("checkIndex",0,!0,!1);var O=n.jqxListBox("getCheckedItems"),X=n.jqxListBox("getItems");O.length==1?n.jqxListBox("uncheckIndex",0,!0,!1):X.length!=O.length&&n.jqxListBox("indeterminateIndex",0,!0,!1),L=!0}else L=!1,k.args.checked?n.jqxListBox("checkAll",!1):n.jqxListBox("uncheckAll",!1),L=!0})}s.append(b),r.updatefilterpanel&&r.updatefilterpanel(n,h,f,x,m,_,y,null,null,p)}})})(jqxBaseFramework),(function(a){a.extend(a.jqx._jqxGrid.prototype,{_updatefilterrowui:function(r){var l=this.columns.records.length,e=0,t=this;if(this.filterrow){for(var i=0;i<l;i++){var s=this.columns.records[i],o=parseInt(s.width);o<s.minwidth&&(o=s.minwidth),o>s.maxwidth&&(o=s.maxwidth);var d=a(this.filterrow[0].cells[i]);d.css("left",e);var n=!0;if(d.width()==o&&(n=!1),r&&(n=!0),d.width(o),d[0].left=e,s.element&&(d[0].style.width=s.element.style.width,d[0].style.left=s.element.style.left),s.hidden&&s.hideable?d.css("display","none"):e+=o,!!n){if(s.createfilterwidget&&s.filtertype=="custom")s.createfilterwidget(s,d);else if(s.filterable){var f=function(c,p){var v=a(p.children()[0]);v[0]&&(v[0].style.width=o-8+"px",a.jqx.browser.msie&&(v[0].style.width=o-16+"px")),v.attr("disabled",c.disabled)};switch(s.filtertype){case"number":case"input":a(d.children()[0]).width(o),d.find("input")[0].style.width=o-30+"px",a.jqx.browser.msie&&(d.find("input")[0].style.width=o-36+"px"),d.find("input").attr("disabled",t.disabled),a(d.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:t.theme,disabled:t.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?a(d.children()[0]).jqxDateTimeInput({theme:t.theme,disabled:t.disabled,width:o-10}):f(this,d);break;case"textbox":case"default":f(this,d);break;case"list":case"checkedlist":this.host.jqxDropDownList?a(d.children()[0]).jqxDropDownList({popupZIndex:999999999,enableBrowserBoundsDetection:!0,dropDownWidth:220,theme:t.theme,disabled:t.disabled,width:o-10}):f(this,d);break;case"bool":case"boolean":this.host.jqxCheckBox?a(d.children()[0]).jqxCheckBox({theme:t.theme,disabled:t.disabled}):f(this,d);break}}}}var h=a(this.filterrow.children()[0]);h.width(parseInt(e)+2),h.height(this.filterrowheight)}},clearfilterrow:function(r){if(this._disablefilterrow=!0,!!this.columns.records){for(var l=this.columns.records.length,e=0;e<l;e++){var t=this.columns.records[e],i=a(this.filterrow[0].cells[e]);if(!(typeof r=="string"&&t.displayfield!=r)&&t.filterable){var s=function(c,p){var v=a(p.children()[0]);v.val(""),v[0]&&(c["_oldWriteText"+v[0].id]="")};switch(t.filtertype){case"number":case"input":i.find("input").val("");var o=i.find("input")[0].id;if(this["_oldWriteText"+o]="",this.host.jqxDropDownList){var d=a(a(a(i).children()[0]).children()[1]);d.jqxDropDownList("clearSelection");var n=0;if(n==0){this._getfiltersbytype(t.filtertype=="number"?"number":"string");var f=new a.jqx.filter,h=f.getoperatorsbyfiltertype(t.filtertype=="number"?"numberfilter":"stringfilter");t.filtercondition!=null?(n=h.indexOf(t.filtercondition.toUpperCase()),n==-1&&(n=t.filtertype=="number"?0:2)):n=t.filtertype=="number"?0:2}d.jqxDropDownList({selectedIndex:n}),d.jqxDropDownList("ensureVisible",n)}break;case"date":case"range":this.host.jqxDateTimeInput?a(i.children()[0]).jqxDateTimeInput("setDate",null):s(this,i);break;case"textbox":case"default":s(this,i);break;case"list":this.host.jqxDropDownList?a(i.children()[0]).jqxDropDownList("clearSelection"):s(this,i);break;case"checkedlist":this.host.jqxDropDownList?a(i.children()[0]).jqxDropDownList("checkAll",!1):s(this,i);break;case"bool":case"boolean":this.host.jqxCheckBox?a(i.children()[0]).jqxCheckBox({checked:null}):s(this,i);break}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(this._disablefilterrow!=!0&&!this.disabled){for(var r=this.columns.records.length,l=this.that,e=0;e<r;e++){var t=new a.jqx.filter,i=this.columns.records[e];if(i.filterable&&i.datafield!==null){var s=l._getcolumntypebydatafield(i),o=l._getfiltertype(s),d=1,n=!0;i.filtertype;var f=function(z,q,B){var S=!0;if(z._filterwidget){var D=z._filterwidget.val();if(D!=""){var H="equal";if(q=="stringfilter")var H="contains";if(q=="numericfilter"&&l.gridlocalization.decimalseparator==","&&D.indexOf(l.gridlocalization.decimalseparator)>=0&&(D=D.replace(l.gridlocalization.decimalseparator,".")),q!="stringfilter"){var G=0;if(D.indexOf(">")!=-1&&(H="greater_than",G=1),D.indexOf("<")!=-1&&(H="less_than",G=1),D.indexOf("=")!=-1&&(H=="greater_than"?(H="greater_than_or_equal",G=2):H=="less_than"?(H="less_than_or_equal",G=2):(H="equal",G=1)),G!=0&&(D=D.substring(G),D.length<1))return!1}if(z.filtercondition!=null&&(H=z.filtercondition),q=="datefilter")var N=B.createfilter(q,D,H,null,z.cellsformat,l.gridlocalization);else var N=B.createfilter(q,D,H);B.addfilter(d,N)}else S=!1}return S};switch(i.filtertype){case"range":case"date":if(i._filterwidget.jqxDateTimeInput)if(i.filtertype=="range"){var h=i._filterwidget.jqxDateTimeInput("getRange");if(h!=null&&h.from!=null&&h.to!=null){var c="GREATER_THAN_OR_EQUAL",p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(h.from.getFullYear(),h.from.getMonth(),h.from.getDate());var v=new Date(0);v.setHours(0),v.setMinutes(0),v.setFullYear(h.to.getFullYear(),h.to.getMonth(),h.to.getDate()),v.setHours(h.to.getHours()),v.setMinutes(h.to.getMinutes()),v.setSeconds(h.to.getSeconds());var x=t.createfilter(o,p,c);t.addfilter(0,x);var w="LESS_THAN_OR_EQUAL",m=t.createfilter(o,v,w);t.addfilter(0,m)}else n=!1}else{var h=i._filterwidget.jqxDateTimeInput("getDate");if(h!=null){var p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(h.getFullYear(),h.getMonth(),h.getDate());var g=i._filterwidget.jqxDateTimeInput("showTimeButton");g&&(p.setHours(h.getHours()),p.setMinutes(h.getMinutes()));var c="EQUAL";i.filtercondition!=null&&(c=i.filtercondition);var x=t.createfilter(o,p,c);g&&(x=t.createfilter(o,p,c,null,i.cellsformat)),t.addfilter(0,x)}else n=!1}else n=f(i,o,t);break;case"input":if(i._filterwidget){var h=i._filterwidget.find("input").val(),b=i._filterwidget.find(".filter").jqxDropDownList("selectedIndex");b<0&&(b=0);var _=t.getoperatorsbyfiltertype(o)[b];if(l.updatefilterconditions){var y=l.updatefilterconditions(o,t.getoperatorsbyfiltertype(o));y!=null&&t.setoperatorsbyfiltertype(o,y);var _=t.getoperatorsbyfiltertype(o)[b]}var j=_=="NULL"||_=="NOT_NULL",C=_=="EMPTY"||_=="NOT_EMPTY";h!=null&&h.length>0||j||C?(x=t.createfilter(o,h,_,null,i.cellsformat,l.gridlocalization),t.addfilter(0,x)):n=!1}else n=!1;break;case"number":if(i._filterwidget){var h=i._filterwidget.find("input").val();l.gridlocalization.decimalseparator==","&&h.indexOf(l.gridlocalization.decimalseparator)>=0&&(h=h.replace(l.gridlocalization.decimalseparator,"."));var b=i._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),_=t.getoperatorsbyfiltertype(o)[b];if(l.updatefilterconditions){var y=l.updatefilterconditions(o,t.getoperatorsbyfiltertype(o));y!=null&&t.setoperatorsbyfiltertype(o,y);var _=t.getoperatorsbyfiltertype(o)[b]}var j=_=="NULL"||_=="NOT_NULL",C=_=="EMPTY"||_=="NOT_EMPTY";h!=null&&h.length>0||j||C?(x=t.createfilter(o,new Number(h),_,null,i.cellsformat,l.gridlocalization),t.addfilter(0,x)):n=!1}else n=!1;break;case"textbox":case"default":n=f(i,o,t);break;case"bool":case"boolean":if(i._filterwidget.jqxCheckBox){var h=i._filterwidget.jqxCheckBox("checked");if(h!=null){var c="equal",L=t.createfilter(o,h,c);t.addfilter(d,L)}else n=!1}else n=f(i,o,t);break;case"list":var k=i._filterwidget.jqxDropDownList("listBox");if(k.selectedIndex>=0){var O=k.getSelectedItem(),h=O.label,X=this.gridlocalization.filterchoosestring;if(h!=="Please Choose:"&&h!==X){var P=O.value,c="equal";h===""&&(c="NULL");var L=t.createfilter(o,h,c);t.addfilter(d,L),P!==h&&(L.data=P)}}else n=!1;break;case"checkedlist":if(i._filterwidget.jqxDropDownList){var k=i._filterwidget.jqxDropDownList("listBox"),T=k.getCheckedItems();if(T.length==0){for(var I=1;I<k.items.length;I++){var h=k.items[I].label,P=k.items[I].value,c="not_equal";h===""&&(c="NOT_NULL");var L=t.createfilter(o,h,c);P!==h&&(L.data=P),t.addfilter(0,L)}n=!0}else if(T.length!=k.items.length)for(var I=0;I<T.length;I++){var h=T[I].label,P=T[I].value,c="equal";h===""&&(c="NULL");var L=t.createfilter(o,h,c);P!==h&&(L.data=P),t.addfilter(d,L)}else n=!1}else n=f(i,o,t);break}this._loading||(n?this.addfilter(i.displayfield,t,!1):this.removefilter(i.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var r=a('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),l=0,e=this.columns.records.length,t=this.toThemeProperty("jqx-grid-cell");t+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),t+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var i=e+10,s=new Array,o=this.that;if(this.filterrow[0].cells=s,r.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(r),this._filterrowcache||(this._filterrowcache=new Array),this._idsCache||(this._idsCache=new Array),this._idsCache)for(var d=0;d<this._idsCache.length;d++){var n=this._idsCache[d].id,f=this._idsCache[d].type;switch(f){case"dropDownList":a("#"+n).length&&a("#"+n).jqxDropDownList("destroy"),a("#listBox"+n).length&&a("#listBox"+n).remove();break;case"dateTimeInput":a("#"+n).length&&a("#"+n).jqxDateTimeInput("destroy"),a("#calendar"+n).length&&a("#calendar"+n).remove();break}}this._initcolumntypes();for(var h=!1,c=new Array,p=document.createDocumentFragment(),v=0;v<e;v++){var x=this.columns.records[v],w=x.width;w<x.minwidth&&(w=x.minwidth),w>x.maxwidth&&(w=x.maxwidth);var m=document.createElement("div");m.style.overflow="hidden",m.style.position="absolute",m.style.height="100%",m.className=t,m=a(m),p.appendChild(m[0]),m[0].style.left=l+"px",this.rtl?(m.css("z-index",i++),m.css("border-left-width","1px")):m.css("z-index",i--),w=="auto"&&(w=0),m[0].style.width=parseFloat(w)+"px",m[0].left=l,x.hidden&&x.hideable?m.css("display","none"):l+=w,s[s.length]=m[0];var g=!0;if(this.rtl){if(this.groupable){var b=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+b+v>e-1&&(g=!1)}this.showrowdetailscolumn&&this.rowdetails&&v==e-1&&(g=!1)}else{if(this.groupable){var b=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+b>v&&(g=!1)}this.showrowdetailscolumn&&this.rowdetails&&v==0&&(g=!1)}if(g)if(x.filtertype=="custom"&&x.createfilterwidget){var _=function(){o._applyfilterfromfilterrow()};x.createfilterwidget(x,m,_)}else x.filterable&&(this._filterrowcache[x.datafield]&&x.filtertype!=="checkedlist"&&x.filtertype!=="list"?(h=!0,m.append(this._filterrowcache[x.datafield]),x._filterwidget=this._filterrowcache[x.datafield]):(this._addfilterwidget(x,m,w),c[x.datafield]=x._filterwidget))}r[0].appendChild(p),this._filterrowcache=c,a.jqx.browser.msie&&a.jqx.browser.version<8&&r.css("z-index",i--),r.width(parseFloat(l)+2),this.filterrow.addClass(t),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),h&&this._updatefilterrowui(!0)},_addfilterwidget:function(r,l,e){for(var t=this.that,i=this,s="",o="",d=0;d<t.dataview.filters.length;d++){var n=t.dataview.filters[d];if(n.datafield&&n.datafield==r.datafield){var d=n.filter.getfilters()[0];s=d.value,r.filtertype==="range"&&(s={from:s,to:n.filter.getfilters()[1].value}),o=d.condition,r.filtercondition=o;break}}var f=function(B,S){var D=a('<input autocomplete="off" type="textarea"/>');D.attr("tabindex",5+r.visibleindex),D[0].id=a.jqx.utilities.createId(),D.addClass(B.toThemeProperty("jqx-widget")),D.addClass(B.toThemeProperty("jqx-filter-input jqx-input jqx-input-widget")),D.addClass(B.toThemeProperty("jqx-rc-all")),D.addClass(B.toThemeProperty("jqx-widget-content")),B.rtl&&D.css("direction","rtl"),B.disabled&&D.attr("disabled",!0),D.attr("disabled",!1),D.appendTo(S),D.css("margin","4px"),D.width(e-8),D.height(B.filterrowheight-9),r.createfilterwidget&&r.createfilterwidget(r,S,D),r._filterwidget=D,D.focus(function(){return B.content[0].scrollLeft=0,setTimeout(function(){B.content[0].scrollLeft=0},10),B.focusedfilter=D,D.addClass(B.toThemeProperty("jqx-fill-state-focus")),!1}),D.blur(function(){D.removeClass(B.toThemeProperty("jqx-fill-state-focus"))}),D.keydown(function(H){H.keyCode=="13"&&B._applyfilterfromfilterrow(),D[0]._writeTimer&&clearTimeout(D[0]._writeTimer),D[0]._writeTimer=setTimeout(function(){B._loading||(B["_oldWriteText"+D[0].id]||(B["_oldWriteText"+D[0].id]=""),(B["_oldWriteText"+D[0].id].length>0&&B["_oldWriteText"+D[0].id]!=D.val()||B["_oldWriteText"+D[0].id].length==0)&&(B._applyfilterfromfilterrow(),B["_oldWriteText"+D[0].id]=D.val()))},r.filterdelay),B.focusedfilter=D}),B.host.removeClass("jqx-disableselect"),B.content.removeClass("jqx-disableselect"),D.val(s)};switch(r.datatype!=null&&(r.filtertype=="number"&&(r.datatype=="string"||r.datatype=="date"||r.datatype=="bool")&&(r.filtertype="textbox"),r.filtertype=="date"&&(r.datatype=="string"||r.datatype=="number"||r.datatype=="bool")&&(r.filtertype="textbox"),r.filtertype=="bool"&&(r.datatype=="string"||r.datatype=="number"||r.datatype=="date")&&(r.filtertype="textbox")),r.filtertype){case"number":case"input":var h=a("<div></div>");h.width(l.width()),h.height(this.filterrowheight),l.append(h);var c=20;this.theme==="fluent"&&(c=25);var e=l.width()-c-1,p=function(S,D,H){var G=a('<input style="float: left;" autocomplete="off" type="textarea"/>');return t.rtl&&(G.css("float","right"),G.css("direction","rtl")),G.attr("tabindex",5+r.visibleindex),G[0].id=a.jqx.utilities.createId(),G.addClass(t.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-input-widget jqx-filter-input jqx-widget-content")),G.appendTo(S),G.width(D-10),t.disabled&&G.attr("disabled",!0),G.attr("disabled",!1),G[0].style.height=t.filterrowheight-9+"px",G.css("margin","4px"),G.css("margin-right","3px"),G.focus(function(){t.focusedfilter=G,G.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),G.blur(function(){G.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),G.keydown(function(N){N.keyCode=="13"&&t._applyfilterfromfilterrow(),N.keyCode!="9"&&(G[0]._writeTimer&&clearTimeout(G[0]._writeTimer),G[0]._writeTimer=setTimeout(function(){t._loading||t["_oldWriteText"+G[0].id]!=G.val()&&(t._applyfilterfromfilterrow(),t["_oldWriteText"+G[0].id]=G.val())},r.filterdelay),t.focusedfilter=G)}),G.val(s),G};p(h,e);var v=t._getfiltersbytype(r.filtertype=="number"?"number":"string"),x=a("<div class='filter' style='float: left;'></div>");x.css("margin-top","4px"),x.appendTo(h),t.rtl&&x.css("float","right");var w=0;if(r.filtercondition!=null){var d=new a.jqx.filter,m=d.getoperatorsbyfiltertype(r.filtertype=="number"?"numericfilter":"stringfilter"),g=m.indexOf(r.filtercondition.toUpperCase());g!=-1&&(w=g)}var b=180;if(r.filtertype=="input"&&(b=240,w==0)){var g=v.indexOf("contains")>=0?v.indexOf("contains"):2;g!=-1&&r.filtercondition==null?w=g:w=-1}x.jqxDropDownList({popupZIndex:999999999,disabled:t.disabled,touchMode:t.touchmode,rtl:t.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:w,width:c,height:27,dropDownHeight:150,dropDownWidth:b,source:v,theme:t.theme}),x.jqxDropDownList({selectionRenderer:function(S){return""}}),x.attr("tabindex",5+r.visibleindex),x.jqxDropDownList("setContent",""),x.find(".jqx-dropdownlist-content").hide(),r.createfilterwidget&&r.createfilterwidget(r,l,h),r._filterwidget=h;var _=null;this.addHandler(x,"open",function(){i._activeFilterElement=x}),this.addHandler(x,"select",function(){var S=x.jqxDropDownList("getSelectedItem");S?S=S.label:S="contains",r._filterwidget.find("input").val().length>0&&!t.refreshingfilter&&t._applyfilterfromfilterrow(),(r.filtertype=="input"&&!t.refreshingfilter||r._filterwidget.find("input").val().length==0&&!t.refreshingfilter&&(_=="null"||_=="not null"||S=="null"||S=="not null"))&&t._applyfilterfromfilterrow(),_=S});break;case"textbox":case"default":default:f(this,l);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var y=a("<div></div>");y.css("margin","4px"),y.css("margin-left","5px"),y.appendTo(l);var j={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};y.jqxDateTimeInput({popupZIndex:999999999,firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:t.disabled,localization:j,rtl:t.rtl,showFooter:!0,formatString:r.cellsformat,selectionMode:r.filtertype,value:null,theme:this.theme,width:e-9,height:this.theme==="fluent"?20:this.filterrowheight-9}),this._idsCache.push({id:y[0].id,type:"dateTimeInput"}),r.createfilterwidget&&r.createfilterwidget(r,l,y),s&&s.from?y.jqxDateTimeInput("setRange",s.from,s.to):s&&s.toString().length>1&&y.val(s),y.find("input").attr("tabindex",5+r.visibleindex),r._filterwidget=y,this.addHandler(y,"valueChanged",function(S){t.refreshingfilter||(t._applyfilterfromfilterrow(),t.focusedfilter=null)})}else f(this,l);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var C=this._getfilterdataadapter(r),L=!1,x=a("<div></div>");x.css("margin","4px"),x.css("margin-left","5px");var k=r.datafield,O=r.filtertype=="checkedlist",b=e<150?220:"auto";C.dataBind();var X=C.records,P=X.length<8;L=P,x.appendTo(l),x.jqxDropDownList({popupZIndex:999999999,hint:!1,placeHolder:t.gridlocalization.filterchoosestring,disabled:t.disabled,touchMode:t.touchmode,rtl:t.rtl,checkboxes:O,dropDownWidth:b,source:C.records,autoDropDownHeight:P,theme:this.theme,width:e-9,height:this.filterrowheight-9,displayMember:r.displayfield,valueMember:k}),this._idsCache.push({id:x[0].id,type:"dropDownList"}),x.attr("tabindex",5+r.visibleindex),x.attr("default-placeholder",!0),r.createfilterwidget&&r.createfilterwidget(r,l,x),this.addHandler(x,"open",function(){i._activeFilterElement=x});var T=x.jqxDropDownList("listBox");if(O){x.jqxDropDownList({selectionRenderer:function(){var H='<span class="'+t.toThemeProperty("jqx-item")+'" style="top: 4px; position: relative; color: inherit; border: none; background-color: transparent;">'+t.gridlocalization.filterselectstring+"</span>";return H}});var I=a('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+t.gridlocalization.filterselectstring+"</span>");if(I.addClass(this.toThemeProperty("jqx-item")),T!=null){L||T.host.height(200),T.insertAt({label:t.gridlocalization.filterselectallstring},0),x.jqxDropDownList("setContent",I);var z=!0;new Array,T.checkAll(!1),t.addHandler(T.host,"checkChange",function(H){if(x[0]._selectionChanged=!0,!!z)if(H.args.label!=t.gridlocalization.filterselectallstring){z=!1,T.host.jqxListBox("checkIndex",0,!0,!1);var G=T.host.jqxListBox("getCheckedItems"),N=T.host.jqxListBox("getItems");G.length==1?T.host.jqxListBox("uncheckIndex",0,!0,!1):N.length!=G.length&&T.host.jqxListBox("indeterminateIndex",0,!0,!1),z=!0}else z=!1,H.args.checked?T.host.jqxListBox("checkAll",!1):T.host.jqxListBox("uncheckAll",!1),z=!0})}}else T.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),x.jqxDropDownList({selectedIndex:0});r._filterwidget=x,x.jqxDropDownList("dropdownlistWrapper"),r.filtertype=="list"?this.addHandler(x,"select",function(H){t.refreshingfilter||H.args&&H.args.type!="none"&&(t._applyfilterfromfilterrow(),t.focusedfilter=null)}):this.addHandler(x,"close",function(H){x[0]._selectionChanged&&(t._applyfilterfromfilterrow(),t.focusedfilter=null,x[0]._selectionChanged=!1)})}else f(this,l);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var q=a('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>');q.appendTo(l),q.jqxCheckBox({disabled:t.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),q.attr("tabindex",5+r.visibleindex),r.createfilterwidget&&r.createfilterwidget(r,l,q),s===!0||s=="true"?q.jqxCheckBox({checked:!0}):(s===!1||s=="false")&&q.jqxCheckBox({checked:!1}),r._filterwidget=q,this.addHandler(q,"change",function(S){t.refreshingfilter||S.args&&(t.focusedfilter=null,t._applyfilterfromfilterrow())})}else f(this,l);break}},_getfilterdataadapter:function(r){var l=!!this.source._source;if(l)var t={localdata:a.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},i=this,e=new a.jqx.dataAdapter(t,{autoBind:!1,autoSort:!0,autoSortField:r.displayfield,async:!1,uniqueDataFields:[r.displayfield],beforeLoadComplete:function(o){var d=new Array;if(r.cellsformat){for(var n=i._getcolumntypebydatafield(r),f=0;f<o.length;f++){d.push(o[f]);var h=o[f][r.displayfield];o[f][r.displayfield+"JQValue"]=h,n==="date"?h!=null?o[f][r.displayfield]=e.formatDate(h,r.cellsformat,i.gridlocalization):o[f][r.displayfield]="":(n==="number"||n==="float"||n==="int")&&(h!=null?o[f][r.displayfield]=e.formatNumber(h,r.cellsformat,i.gridlocalization):o[f][r.displayfield]="")}return d}else return o}});else var e=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[r.displayfield],autoSort:!0,autoSortField:r.displayfield,async:!1});if(r.filteritems&&r.filteritems.length>0)var t={localdata:r.filteritems,datatype:this.source.datatype,async:!1},e=new a.jqx.dataAdapter(t,{autoBind:!1,async:!1});else if(r.filteritems){if(r.filteritems._source)return r.filteritems._options.autoBind=!1,r.filteritems._options.async=!1,r.filteritems;if(a.isFunction(r.filteritems))return r.filteritems()}return e},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var r=this.that,l=this.columns.records.length,e=0;e<l;e++){var t=this.columns.records[e];if(t.filterable&&t.filter){var i=t.filter.getfilters();if(i.length>0){var s=i[0].value,o=t._filterwidget,d=t._filterwidget.parent();if(o!=null)switch(t.filtertype){case"number":if(d.find("input").val(s),this.host.jqxDropDownList){var n=t.filter.getoperatorsbyfiltertype("numericfilter");o.find(".filter").jqxDropDownList("selectIndex",n.indexOf(i[0].condition))}break;case"input":if(d.find("input").val(s),this.host.jqxDropDownList){var n=t.filter.getoperatorsbyfiltertype("stringfilter");o.find(".filter").jqxDropDownList("selectIndex",n.indexOf(i[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){var s=t.filter.getfilterat(0).filtervalue;if(s!=null){if(t.filter.getfilterat(1))var f=t.filter.getfilterat(1).filtervalue;else f=s;if(t.filtertype=="range"){var h=new Date(s),c=new Date(f);t.cellsformat&&(h=a.jqx.dataFormat.tryparsedate(s,null,t.cellsformat),c=a.jqx.dataFormat.tryparsedate(f,null,t.cellsformat)),isNaN(h)&&(h=a.jqx.dataFormat.tryparsedate(s)),isNaN(c)&&(c=a.jqx.dataFormat.tryparsedate(f)),a(d.children()[0]).jqxDateTimeInput("setRange",h,c)}else a(d.children()[0]).jqxDateTimeInput("setDate",new Date(s))}}else o.val(s);break;case"textbox":case"default":o.val(s),r["_oldWriteText"+o[0].id]=s;break;case"bool":case"boolean":this.host.jqxCheckBox?a(d.children()[0]).jqxCheckBox({checked:s}):o.val(s);break}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that;for(var r=this.columns.records.length,l=0;l<r;l++){var e=this.columns.records[l];if(e.filterable){var t=e._filterwidget;if(e.filtertype=="list"||e.filtertype=="checkedlist")this.removeHandler(t,"select"),this.removeHandler(t,"close"),t.jqxDropDownList("destroy");else if(e.filtertype=="date"||e.filtertype=="range")this.removeHandler(t,"valueChanged"),t.jqxDateTimeInput("destroy");else if(e.filtertype=="bool")this.removeHandler(t,"change"),t.jqxCheckBox("destroy");else if(e.filtertype=="number"||e.filtertype==="input"){var i=t.find(".jqx-input");this.removeHandler(i,"keydown");var s=a(t.children()[1]);s.jqxDropDownList("destroy")}else this.removeHandler(t,"keydown");t.remove()}}},_updatelistfilters:function(r,l){for(var e=this.that,t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i];if(s.filterable&&(s.filtertype=="list"||s.filtertype=="checkedlist")){var o=s._filterwidget;if(r){var d=this._getfilterdataadapter(s);o.jqxDropDownList({source:d});var c=o.jqxDropDownList("getItems"),n=!0;if(c.length!=d.records.length+1&&(n=!1),n){for(var f=1;f<c.length;f++)if(c[f].label!=d.records[f-1][s.displayfield]){n=!1;break}}if(n&&!l)continue}else if(s.filter==null){o.jqxDropDownList("renderSelection");continue}var h=s.filtertype=="checkedlist",c=o.jqxDropDownList("getItems"),p=o.jqxDropDownList("listBox");if(o.jqxDropDownList("dataBind"),h){o.jqxDropDownList({selectionRenderer:function(){return e.gridlocalization.filterselectstring}}),p.getItem(this.gridlocalization.filterselectallstring)==null&&p.insertAt({label:this.gridlocalization.filterselectallstring},0);var v=a('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(v.addClass(this.toThemeProperty("jqx-item")),o.jqxDropDownList("setContent",v),p.checkAll(!1),s.filter){for(var x=s.filter.getfilters(),f=0;f<p.items.length;f++){var w=p.items[f].label,m=void 0;a.each(x,function(){var y;this.condition=="NOT_EQUAL"?w==this.value?y=!1:y=!0:this.condition=="EQUAL"&&(w==this.value?y=!0:y=!1),m==null&&y!==void 0?m=y:this.condition=="EQUAL"?m=m||y:m=m&&y}),m?p.checkIndex(f,!1,!1):p.uncheckIndex(f,!1,!1)}p._updateCheckedItems();var g=p.getCheckedItems().length;p.items.length!=g&&g>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(p.getItem(this.gridlocalization.filterchoosestring)==null&&p.items[0].label!==this.gridlocalization.filterchoosestring&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),o.jqxDropDownList({selectedIndex:0}),s.filter){for(var x=s.filter.getfilters(),b=-1,f=0;f<p.items.length;f++){var w=p.items[f].label;a.each(x,function(){if(this.condition=="NOT_EQUAL")return!0;if(w==this.value)return b=f,!1})}b!=-1&&p.selectIndex(b)}c.length<8?o.jqxDropDownList("autoDropDownHeight",!0):o.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var r=this.that;if(this.filterable){if(!this.columns.records)return;a.each(this.columns.records,function(l,e){var t=!1;r.autoshowfiltericon?this.filter?(a(this.filtericon).show(),t=!0):a(this.filtericon).hide():this.filterable&&(a(this.filtericon).show(),t=!0),this.element.removeAttribute("filter"),t&&this.element.setAttribute("filter",!0),this.align=="right"&&!this.renderer&&this.element&&(t?this.element.firstChild.firstChild.style.marginRight="18px":this.element.firstChild.firstChild.style.marginRight="2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var r=this.source._source.datafields;if(r)for(var l=0;l<this.columns.records.length;l++){var e=this.columns.records[l];if(!e.datatype){var t="";a.each(r,function(){if(this.name==e.displayfield)return this.type&&(t=this.type),!1}),t!=""?e.datatype=t:e.datatype=""}}}},_getcolumntypebydatafield:function(r){var l=this.that,e="string",t=l.source.datafields||(l.source._source?l.source._source.datafields:null);if(t){var i="";if(a.each(t,function(){if(this.name==r.displayfield)return this.type&&(i=this.type),!1}),i)return i}if(r!=null){if(this.dataview.cachedrecords==null)return e;var s=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return s=this[r.displayfield],!1});else{if(this.dataview.cachedrecords.length==0)return e;if(s=this.dataview.cachedrecords[0][r.displayfield],s!=null&&s.toString()=="")return"string"}if(s!=null)if(typeof s=="boolean")e="boolean";else if(a.jqx.dataFormat.isNumber(s))e="number";else{var o=new Date(s);if(o.toString()=="NaN"||o.toString()=="Invalid Date")if(a.jqx.dataFormat)if(o=a.jqx.dataFormat.tryparsedate(s),o!=null){if(o&&o.getFullYear()&&o.getFullYear()==1970&&o.getMonth()==0&&o.getDate()==1){var d=new Number(s);return isNaN(d)?"string":"number"}return"date"}else e="string";else e="string";else e="date"}}return e},_getfiltersbytype:function(r){var l=this.that,e="";switch(r){case"number":case"float":case"int":e=l.gridlocalization.filternumericcomparisonoperators;break;case"date":e=l.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":e=l.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:e=l.gridlocalization.filterstringcomparisonoperators;break}return e},_getfiltertype:function(r){var l="stringfilter";switch(r){case"number":case"int":case"float":case"decimal":l="numericfilter";break;case"boolean":case"bool":l="booleanfilter";break;case"date":case"time":case"range":l="datefilter";break;case"string":case"input":l="stringfilter";break}return l},_buildfilter:function(r,l,e){var t=a(l).find(".filter1"),i=a(l).find(".filter2"),s=a(l).find(".filter3"),o=a(l).find(".filtertext1"+r.element.id),d=a(l).find(".filtertext2"+r.element.id),n=o.val(),f=d.val(),h=r._getcolumntypebydatafield(e);r._getfiltersbytype(h);var c=new a.jqx.filter,p=r._getfiltertype(h);if(r.filtermode==="default"&&e.filtertype!=="list"&&e.filtertype!=="checkedlist"){var v=t.jqxDropDownList("selectedIndex"),x=i.jqxDropDownList("selectedIndex"),w=s.jqxDropDownList("selectedIndex"),m=null,g=null;if(r.updatefilterconditions){var b=r.updatefilterconditions(p,c.getoperatorsbyfiltertype(p));b!=null&&c.setoperatorsbyfiltertype(p,b)}var _=!1,y=c.getoperatorsbyfiltertype(p)[v],s=c.getoperatorsbyfiltertype(p)[w],j=y=="NULL"||y=="NOT_NULL",C=y=="EMPTY"||y=="NOT_EMPTY";y==null&&(y=c.getoperatorsbyfiltertype(p)[0]),s==null&&(s=c.getoperatorsbyfiltertype(p)[0]),(n.length>0||j||C)&&(m=c.createfilter(p,n,y,null,e.cellsformat,r.gridlocalization),c.addfilter(x,m),_=!0);var L=s=="NULL"||s=="NOT_NULL",k=s=="EMPTY"||s=="NOT_EMPTY";if((f.length>0||L||k)&&(g=c.createfilter(p,f,s,null,e.cellsformat,r.gridlocalization),c.addfilter(x,g),_=!0),_){var O=e.displayfield;this.addfilter(O,c,!0)}else this._clearfilter(r,l,e)}else if(r.filtermode==="excel"||e.filtertype==="list"||e.filtertype==="checkedlist"){var X=!1,P=t.data().jqxListBox.instance,T=this.filtermode==="excel"||e.filtertype==="checkedlist",I=P.getCheckedItems();if(!T)var I=P.getSelectedItems();if(I.length==0){for(var z=1;z<P.items.length;z++){var q=P.items[z].value;q===void 0&&(q="");var B="not_equal";if(q&&q.indexOf&&(q.indexOf("|")>=0||q.indexOf(" AND ")>=0||q.indexOf(" OR ")>=0||q.indexOf(" and ")>=0||q.indexOf(" or ")>=0)){q=q.replace("|",""),q=q.replace("AND",""),q=q.replace("OR",""),q=q.replace("and",""),q=q.replace("or","");var B="equal"}if(p=="datefilter")var S=c.createfilter(p,q,B,null,e.cellsformat,r.gridlocalization);else var S=c.createfilter(p,q,B,null);c.addfilter(0,S)}X=!0}else if(I.length!=P.items.length){X=!0;for(var z=0;z<I.length;z++)if(r.gridlocalization.filterselectallstring!==I[z].value){var q=I[z].value;q===void 0&&(q="");var B="equal";if(p=="datefilter")var S=c.createfilter(p,q,B,null,e.cellsformat,r.gridlocalization);else var S=c.createfilter(p,q,B,null);var D=1;c.addfilter(D,S)}}else X=!1;if(X){var O=e.displayfield;this.addfilter(O,c,!0)}else{var O=e.displayfield;this.removefilter(O,!0)}}},_clearfilter:function(r,l,e){var t=e.displayfield;this.removefilter(t,!0)},addfilter:function(r,l,e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var t=this.getcolumn(r),i=this._getcolumn(r);t==null||t==null||(t.filter=l,!(i==null||i==null)&&(i.filter=l,this.dataview.addfilter(r,l),e==!0&&e!=null&&this.applyfilters("add")))},removefilter:function(r,l){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var e=this.getcolumn(r),t=this._getcolumn(r);e==null||e==null||e.filter!=null&&(this.dataview.removefilter(r,e.filter),e.filter=null,t.filter=null,this.showfilterrow&&this.clearfilterrow(r),(l==!0||l!==!1)&&this.applyfilters("remove"))},applyfilters:function(r){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&this.source!=null&&this.source.filter){var l=-1;this.pageable?(l=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=l)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode){this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&typeof r!="string"&&a.isEmptyObject(r)&&this.refreshfilterrow(),this._postrender("filter"),this._raiseEvent(13,{filters:this.dataview.filters});return}else if(this.selectedrowindexes,this.that,this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var e=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,e,null,!1,!1):this.sortby(this.sortcolumn,e,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&this.groups.length==0?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this.collapseallgroups(),this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("group")),this.showfilterrow&&typeof r!="string"&&a.isEmptyObject(r)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var r=new Array,l=0;l<this.dataview.filters.length;l++){var e=this.getcolumn(this.dataview.filters[l].datafield);r[l]={filter:this.dataview.filters[l].filter,datafield:e.datafield,displayfield:e.displayfield,filtercolumn:e.datafield,filtercolumntext:e.text}}return r},clearfilters:function(r){var l=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var e=r==!0||r!==!1;a.each(this.columns.records,function(){l.removefilter(this.displayfield,!e)})}r!==!1&&(r==!0||r!==!1)&&this.applyfilters("clear")},_destroyfilterpanel:function(){var r=a(a.find("#filterclearbutton"+this.element.id)),l=a(a.find("#filterbutton"+this.element.id)),i=a(a.find("#filter1"+this.element.id)),s=a(a.find("#filter2"+this.element.id)),o=a(a.find("#filter3"+this.element.id)),e=a(a.find(".filtertext1"+this.element.id)),t=a(a.find(".filtertext2"+this.element.id));e.length>0&&t.length>0&&(e.removeClass(),t.removeClass(),e.remove(),t.remove()),r.length>0&&(r.jqxButton("destroy"),l.jqxButton("destroy"),this.removeHandler(r,"click"),this.removeHandler(l,"click")),i.length>0&&i.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy");var i=a(a.find("#filter1"+this.element.id+"ex")),s=a(a.find("#filter2"+this.element.id+"ex")),o=a(a.find("#filter3"+this.element.id+"ex"));if(i.length>0&&i.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy"),this.excelfilterpanel){var i=a(this.excelfilterpanel).find("#filter1"+this.element.id+"ex"),s=a(this.excelfilterpanel).find("#filter2"+this.element.id+"ex"),o=a(this.excelfilterpanel).find("#filter3"+this.element.id+"ex");i.length>0&&(this.removeHandler(i,"checkChange"),i.jqxListBox("destroy")),s.length>0&&s.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy");var r=a(this.excelfilterpanel).find("#filterclearbutton"+this.element.id+"ex"),l=a(this.excelfilterpanel).find("#filterbutton"+this.element.id+"ex"),i=a(this.excelfilterpanel).find("#filter1"+this.element.id+"ex"),s=a(this.excelfilterpanel).find("#filter2"+this.element.id+"ex"),o=a(this.excelfilterpanel).find("#filter3"+this.element.id+"ex"),e=a(this.excelfilterpanel).find(".filtertext1"+this.element.id+"ex"),t=a(this.excelfilterpanel).find(".filtertext2"+this.element.id+"ex");e.length>0&&t.length>0&&(e.removeClass(),t.removeClass(),e.remove(),t.remove()),r.length>0&&(r.jqxButton("destroy"),l.jqxButton("destroy"),this.removeHandler(r,"click"),this.removeHandler(l,"click")),this.excelfilterpanel.removeData(),this.excelfilterpanel.remove(),delete this.excelfilterpanel}},_updatefilterpanel:function(r,l,e){(r==null||r==null)&&(r=this);var t=r._getcolumntypebydatafield(e),i=r._getfiltersbytype(t);if(!r.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");r.filterpanel.detach(),r.excelfilterpanel.detach(),e.filterpanel&&e.filterpanel.detach(),a(l).children().detach();var s=a(r.menuitemsarray[6]);if(a(s).css("height","220px"),e.createfilterpanel&&!e.filterpanel){var o=a("<div class='filter' style='margin-left: 7px;'></div>");a(l).append(o),e.createfilterpanel(e.displayfield,o),e.filterpanel=o}e.filtertype==="list"||e.filtertype==="checkedlist"?a(l).append(r.excelfilterpanel):e.filtertype!=="custom"?a(l).append(r.filterpanel):e.filterpanel&&a(l).append(e.filterpanel),this._showwhere=a(l).find(".filter.showwhere");var d=a(l),n=d.find("#filterclearbutton"+r.element.id),f=d.find("#filterbutton"+r.element.id),h=d.find(".filter1"),c=d.find(".filter2"),p=d.find(".filter3"),v=d.find(".filtertext1"+r.element.id),x=d.find(".filtertext2"+r.element.id);if(this._hasdatefilter&&e.filtertype!=="list"&&e.filtertype!=="checkedlist"&&e.filtertype!=="custom"){var w=v.parent(),m=x.parent();if(e.filtertype=="date"){v.jqxDateTimeInput("destroy"),x.jqxDateTimeInput("destroy"),w.children().remove(),m.children().remove(),r._showwhere.text(r.gridlocalization.filtershowrowdatestring);var b=a("<div class='filtertext1"+r.element.id+"' style=''></div>");w.append(b);var g=function(U){var Y={calendar:r.gridlocalization,todayString:r.gridlocalization.todaystring,clearString:r.gridlocalization.clearstring};U.jqxDateTimeInput({disabled:r.disabled,firstDayOfWeek:r.gridlocalization.firstDay,localization:Y,rtl:r.rtl,width:r._filterpanelwidth-10,height:24,value:null,formatString:e.cellsformat,theme:r.theme})};g(b);var b=a("<div class='filtertext2"+r.element.id+"' style=''></div>");m.append(b),g(b)}else{w.children().remove(),m.children().remove(),r._showwhere.text(r.gridlocalization.filtershowrowstring);var b=a("<input autocomplete='off' class='filtertext1"+r.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>");w.append(b);var g=function(E){E.addClass(r.toThemeProperty("jqx-input")),E.addClass(r.toThemeProperty("jqx-filter-input jqx-widget-content")),E.addClass(r.toThemeProperty("jqx-rc-all")),E.width(r._filterpanelwidth-18)};g(b);var b=a("<input autocomplete='off' class='filtertext2"+r.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>");m.append(b),g(b)}var v=d.find(".filtertext1"+r.element.id),x=d.find(".filtertext2"+r.element.id)}if(e.filtertype!="date"?(v.val(""),x.val("")):(v.val(null),x.val(null)),f.length>0&&(f.jqxButton({height:this.filterMenuItemsHeight}),n.jqxButton({height:this.filterMenuItemsHeight}),this.removeHandler(f,"click"),this.addHandler(f,"click",function(){r._buildfilter(r,l,e),r._closemenu()}),this.removeHandler(n,"click"),this.addHandler(n,"click",function(){r._clearfilter(r,l,e),r._closemenu()}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(M){M.keyCode===13&&(r._buildfilter(r,l,e),r._closemenu())}),this.removeHandler(n,"keydown"),this.addHandler(n,"keydown",function(M){M.keyCode===13&&(r._clearfilter(r,l,e),r._closemenu())})),v.length>0&&(this.removeHandler(v,"keydown"),this.addHandler(v,"keydown",function(M){if(M.keyCode===13)return f.trigger("click"),!1;M.keyCode===27&&r._closemenu()}),this.removeHandler(x,"keydown"),this.addHandler(x,"keydown",function(M){if(M.keyCode===13)return f.trigger("click"),!1;M.keyCode===27&&r._closemenu()})),this.filtermode==="default"&&e.filtertype!=="list"&&e.filtertype!=="checkedlist"&&e.filtertype!=="custom"){if(h.jqxDropDownList("source")!=i&&(h.jqxDropDownList({enableBrowserBoundsDetection:!1,source:i}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:i})),t=="boolean"||t=="bool")h.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var _=!1;i&&i.length&&i.length<5&&(_=!0),h.jqxDropDownList({autoDropDownHeight:_,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:_,selectedIndex:2})}c.jqxDropDownList({selectedIndex:0});var y=e.filter,j=new a.jqx.filter,C="";switch(t){case"number":case"int":case"float":case"decimal":C="numericfilter",L=j.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":C="booleanfilter",L=j.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":C="datefilter",L=j.getoperatorsbyfiltertype("datefilter");break;case"string":C="stringfilter",L=j.getoperatorsbyfiltertype("stringfilter");break}if(y!=null){var w=y.getfilterat(0),m=y.getfilterat(1);if(y.getoperatorat(0),r.updatefilterconditions){var L=[],k=r.updatefilterconditions(C,L);if(k!=null){for(var O=0;O<k.length;O++)k[O]=k[O].toUpperCase();y.setoperatorsbyfiltertype(C,k),L=k}}var X="default";if(w!=null){var P=L.indexOf(w.comparisonoperator),T=w.filtervalue;v.val(T),h.jqxDropDownList({selectedIndex:P,animationType:X})}if(m!=null){var I=L.indexOf(m.comparisonoperator),z=m.filtervalue;x.val(z),p.jqxDropDownList({selectedIndex:I,animationType:X})}y.getoperatorat(0)==null?c.jqxDropDownList({selectedIndex:0,animationType:X}):y.getoperatorat(0)=="and"||y.getoperatorat(0)==0?c.jqxDropDownList({selectedIndex:0}):c.jqxDropDownList({selectedIndex:1})}r.updatefilterpanel&&r.updatefilterpanel(h,p,c,v,x,f,n,y,C,L),(!this._hasdatefilter||this._hasdatefilter&&e.filtertype!="date")&&(this.touchdevice||setTimeout(function(){v.focus()},10))}else if(this.filtermode==="excel"||e.filtertype==="list"||e.filtertype==="checkedlist"){var q=r._getfilterdataadapter(e),C=r._getfiltertype(t),B=this.filtermode==="excel"||e.filtertype==="checkedlist";if(h.jqxListBox("focus"),this.removeHandler(h,"keyup"),this.addHandler(h,"keyup",function(Q){Q.keyCode===13&&f.trigger("click"),Q.keyCode===27&&r._closemenu()}),e.cellsformat?h.jqxListBox({checkboxes:B,displayMember:e.displayfield,valueMember:e.displayfield+"JQValue",source:q}):h.jqxListBox({checkboxes:B,displayMember:e.displayfield,valueMember:e.displayfield,source:q}),B){var S=h.jqxListBox("getItem",0);S&&S.label===r.gridlocalization.filterselectallstring||h.jqxListBox("insertAt",{label:r.gridlocalization.filterselectallstring},0);var D=h.data().jqxListBox.instance;if(D.checkAll(!1),e.filter){D.uncheckAll(!1);for(var H=e.filter.getfilters(),G=0;G<D.items.length;G++){var N=D.items[G].value;a.each(H,function(){if(this.condition=="NOT_EQUAL"){if(N!=this.value)return D.uncheckIndex(G,!1,!1),!1;if(N!=null&&this.value!=null&&N.toString()!=this.value.toString())return D.uncheckIndex(G,!1,!1),!1}else if(this.condition=="EQUAL"){if(N==this.value)return D.checkIndex(G,!1,!1),!1;if(N!=null&&this.value!=null&&N.toString()==this.value.toString())return D.checkIndex(G,!1,!1),!1}})}D._updateCheckedItems();var A=D.getCheckedItems().length;D.items.length!=A&&A>0&&D.host.jqxListBox("indeterminateIndex",0,!0,!1),A===D.items.length-1&&D.host.jqxListBox("checkIndex",0,!0,!1)}}else if(e.filter){var D=h.data().jqxListBox.instance;D.clearSelection();for(var H=e.filter.getfilters(),G=0;G<D.items.length;G++){var N=D.items[G].value;a.each(H,function(){if(this.condition=="NOT_EQUAL"){if(N!=this.value)return D.unselectIndex(G,!1,!1),!1}else if(this.condition=="EQUAL"&&N==this.value)return D.selectIndex(G,!0,!1),!1})}D._renderItems()}}},_initfilterpanel:function(r,l,e,t,i){(r==null||r==null)&&(r=this),l[0].innerHTML="";var s=a("<div class='filter' style='position: absolute; bottom: 3px; margin-left: 3px;'></div>");l.append(s);var o=a("<div class='filter showwhere' style='height: 18px; margin-top: 3px; margin-bottom: 3px;'></div>");o.text(r.gridlocalization.filtershowrowstring),this._showwhere=o;var d=i?"ex":"",n=a("<div class='filter filter1' id='filter1"+r.element.id+d+"'></div>"),f=a("<div class='filter filter2' id='filter2"+r.element.id+d+"' style='margin-top: 3px; margin-bottom: 3px;'></div>"),h=a("<div class='filter filter3' id='filter3"+r.element.id+d+"'></div>"),c=r._getcolumntypebydatafield(e);if(n[0].setAttribute("aria-label","Filter Condition 1"),f[0].setAttribute("aria-label","Filter Operator"),h[0].setAttribute("aria-label","Filter Condition 2"),n[0].setAttribute("aria-expanded",!1),f[0].setAttribute("aria-expanded",!1),h[0].setAttribute("aria-expanded",!1),!n.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=r._getfiltersbytype(c);if(this._hasdatefilter=!1,this._filterpanelwidth=t,this.columns&&this.columns.records){for(var v=0;v<this.columns.records.length;v++)if(this.columns.records[v].filtertype=="date"){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records){for(var v=0;v<this.columns.length;v++)if(this.columns[v].filtertype=="date"){this._hasdatefilter=!0;break}}this._hasdatefilter=!0;var x=a("<div style='margin-top:3px;' class='filter'><input aria-label='Filter Value Input' autocomplete='off' class='filtertext1"+r.element.id+"' style='padding: 3px; height: 16px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),w=x.find("input");w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-rc-all")),w.width(t-18);var m=a("<div style='margin-top:3px;' class='filter'><input aria-label='Filter Value Input 2' autocomplete='off' class='filtertext2"+r.element.id+"' style='padding: 3px; height: 16px; margin-top: 3px;' type='text'></input></div>"),g=m.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(t-18),r.rtl&&(w.css("direction","rtl"),g.css("direction","rtl"));var b=a("<div class='filter' style='height: 35px; text-align:center; margin-top: 15px; margin-left:-2px;'></div>"),_=a('<span tabIndex=0 id="filterbutton'+r.element.id+'" class="primary filterbutton" style="padding: 6px 15px;">'+r.gridlocalization.filterstring+"</span>");b.append(_);var y=a('<span tabIndex=0 id="filterclearbutton'+r.element.id+'" class="filterclearbutton secondary" style="position: relative; left: 2px; padding: 6px 15px; margin-left: 7px;">'+r.gridlocalization.filterclearstring+"</span>");b.append(y),_.jqxButton({height:this.filterMenuItemsHeight,theme:r.theme}),y.jqxButton({height:this.filterMenuItemsHeight,theme:r.theme});var j=function(k){if(k){if(k.text().indexOf("case sensitive")!=-1){var O=k.text();O=O.replace("case sensitive","match case"),k.text(O)}return k.css("font-family",r.host.css("font-family")),k.css("font-size",r.host.css("font-size")),k.css("top","2px"),k.css("position","relative"),k}return""};if(this.filtermode==="default"&&!i){s.append(o),s.append(n),n.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:r.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:t-10,height:this.filterMenuItemsHeight,dropDownHeight:200,dropDownWidth:t-10,selectionRenderer:j,source:p,theme:r.theme}),s.append(x);var C=new Array;C[0]=r.gridlocalization.filterandconditionstring,C[1]=r.gridlocalization.filterorconditionstring,f.jqxDropDownList({_checkForHiddenParent:!1,rtl:r.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:this.filterMenuItemsHeight,source:C,selectionRenderer:j,theme:r.theme}),s.append(f),h.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:r.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:t-10,height:this.filterMenuItemsHeight,dropDownHeight:200,dropDownWidth:t-10,selectionRenderer:j,source:p,theme:r.theme}),s.append(h),s.append(m)}else if(this.filtermode==="excel"||i){s.append(o),s.append(n),n.attr("tabindex",0),n.jqxListBox({rtl:r.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:t-10,height:160,theme:r.theme});var L=!0;r.addHandler(n,"checkChange",function(k){if(L)if(k.args.label!=r.gridlocalization.filterselectallstring){L=!1,n.jqxListBox("checkIndex",0,!0,!1);var O=n.jqxListBox("getCheckedItems"),X=n.jqxListBox("getItems");O.length==1?n.jqxListBox("uncheckIndex",0,!0,!1):X.length!=O.length&&n.jqxListBox("indeterminateIndex",0,!0,!1),L=!0}else L=!1,k.args.checked?n.jqxListBox("checkAll",!1):n.jqxListBox("uncheckAll",!1),L=!0})}s.append(b),r.updatefilterpanel&&r.updatefilterpanel(n,h,f,x,m,_,y,null,null,p)}})})(jqxBaseFramework))})();(function(){typeof document>"u"||(function(a){a.jqx.dataview.sort=function(){this.sortby=function(r,l,e){var t=Object.prototype.toString;if(l==null&&(this.sortdata=null,this.grid.sortmode!=="many"?this.sortcache={}:this.sortcache[r]&&delete this.sortcache[r],this.grid._pagescache=new Array,this.grid._cellscache=new Array,this.grid.sortmode!=="many")){this.refresh();return}this.grid.sortmode==="many"&&(this.grid._pagescache=new Array,this.grid._cellscache=new Array),l!=null&&(l=="a"||l=="asc"||l=="ascending"||l==!0?l=!0:l=!1);var i=r;this.sortfield=r,this.sortfielddirection=l?"asc":"desc",l==null&&(this.sortfielddirection=null),this.sortcache==null&&(this.sortcache={}),this.sortdata=[];var s=[],o=!1;if(i=="constructor"&&(i=""),!this.virtualmode&&this.sortcache[i]!=null&&this.grid.sortmode!=="many"){var d=this.sortcache[i];s=d._sortdata,d.direction==l?s.reverse():(!d.direction&&l&&s.reverse(),o=!0),s.length<this.totalrecords&&(this.sortcache={},o=!1,s=[])}Object.prototype.toString=typeof r=="function"?r:function(){return this[r]};var n=this.records;this.that;var f="";if(this.source.datafields&&a.each(this.source.datafields,function(){if(this.name==r)return this.type&&(f=this.type),!1}),s.length==0)if(n.length)for(var h=n.length,c=0;c<h;c++){var p=n[c];if(p!=null){var v=p,x=v.toString();s.push({sortkey:x,value:v,index:c})}}else{var w=!1;for(var m in n){var p=n[m];if(p==null){w=!0;break}var v=p;s.push({sortkey:v.toString(),value:v,index:m})}w&&a.each(n,function(L,k){s.push({sortkey:k.toString(),value:k,index:L})})}if(!o)if(e==null){this._sortcolumntype=f;var g=this;s.sort(function(L,k){return g._compare(L,k,f)})}else s.sort(e);if(l||s.reverse(),Object.prototype.toString=t,this.sortdata=s,l!==null&&(this.sortcache[i]={_sortdata:s,direction:l,dataType:this._sortcolumntype,dataField:i}),this.grid.sortmode==="many"){var b=[],_=[],y=[];for(var j in this.sortcache)if(j!=="data"){var d=this.sortcache[j];b.push(d.dataField),_.push(d.direction?"asc":"desc"),y.push(d.dataType)}if(b.length>0){var C=this.multiSort(n,b,_,y);s=[],C&&a.each(C,function(L,k){s.push({sortkey:i,value:k,index:k.boundindex})}),this.sortdata=s}else{this.sortcache={},this.sortdata=null,this.refresh();return}}this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.multiSort=function(r,l,e,t,i){if(r.length===0)return[];for(var s=[],o=0;o<r.length;o++){var d=a.extend({},r[o]);s.push(d)}var n=!1;if(s&&s.constructor&&s.constructor.name==="ObservableArray"&&(n=!0),(!s||!(s instanceof Array)||s.length===0||!l||l instanceof Array&&l.length===0)&&!n)throw new Error("sort: Missing or Invalid arguments!");typeof l=="string"&&(l=[l]);var f=[],h=[];e===void 0&&(e=[]);for(var c=function(v,x){var w=x||typeof v,m;switch(w){case"string":default:m=new Intl.Collator().compare;break;case"date":case"time":case"datetime":case"number":case"int":case"float":m=function(g,b){return g-b};break;case"boolean":m=function(g,b){return g===b?0:g===!1?-1:1};break;case"object":v instanceof Date&&(m=function(g,b){return g.getTime()-b.getTime()});break}return m},o=0;o<l.length;o++){e[o]===void 0||e[o]==="asc"||e[o]==="ascending"?f[o]=1:f[o]=-1;var p=s[0][l[o]];h[o]=c(p,t[o])}if(i){i(s,l,e,h);return}return s.sort(function(v,x){for(var w=0;w<l.length;w++){var m=h[w](v[l[w]],x[l[w]]);if(m===0){if(l[w+1])continue;return v._index!==void 0?(v._index-x._index)*f[w]:0}return m*f[w]}if(l.length===0)return v.boundIndex<x.boundIndex?-1:v.boundIndex>x.boundIndex?1:0}),s},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(t,i,e){var t=t.sortkey,i=i.sortkey;if(t===void 0&&(t=null),i===void 0&&(i=null),t===null&&i===null)return 0;if(t===null&&i!==null)return-1;if(t!==null&&i===null)return 1;if(a.jqx.dataFormat)if(e&&e!="")switch(e){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase();break}else{if(a.jqx.dataFormat.isNumber(t)&&a.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(a.jqx.dataFormat.isDate(t)&&a.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;!a.jqx.dataFormat.isNumber(t)&&!a.jqx.dataFormat.isNumber(i)&&(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch{}return 0},this._equals=function(r,l){return this._compare(r,l)===0}},a.extend(a.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var r=this.that,l=this.getsortcolumn();if(this.sortmode==="many"){this.__columnsbydatafield=new Array;var e=this.getsortcolumns();if(a.each(this.columns.records,function(d,n){a(this.sortasc).hide(),a(this.sortdesc).hide(),a(this.sorticon).css("visibility","hidden"),this.element.removeAttribute("sort"),this.element.removeAttribute("sort-index"),a(this.sorticon)[0]&&a(this.sorticon)[0].removeAttribute("order")}),e.length>0)for(var t=0;t<e.length;t++){var i=e[t],s=this._getcolumnbydatafield(i.dataField);s.element.setAttribute("sort",!0),s.element.setAttribute("sort-index",t),r.isMaterialized()||r.isModern()?(a(s.sorticon).show(),a(s.sorticon).css("visibility","inherit"),a(s.sorticon).removeClass("ascending"),a(s.sorticon).removeClass("descending"),a(s.sorticon)[0].setAttribute("order",t+1),i.ascending?a(s.sorticon).addClass("ascending"):a(s.sorticon).addClass("descending")):i.ascending?(a(s.sortasc).show(),a(s.sortdesc).hide()):i.ascending===!1&&(a(s.sortasc).hide(),a(s.sortdesc).show())}return}if(this.sortdirection){var o=function(d,n){var f=r.getcolumn(d);f&&(n.ascending?a.jqx.aria(f.element,"aria-sort","ascending"):n.descending?a.jqx.aria(f.element,"aria-sort","descending"):a.jqx.aria(f.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&o(this._oldsortinfo.column,{ascending:!1,descending:!1}),o(l,this.sortdirection)}this._oldsortinfo={column:l,direction:this.sortdirection},this.sortdirection&&a.each(this.columns.records,function(d,n){var f=a.data(document.body,"groupsortelements"+this.displayfield);l==null||this.displayfield!=l?(a(this.sortasc).hide(),a(this.sortdesc).hide(),a(this.sorticon).css("visibility","hidden"),a(this.sorticon).removeClass("ascending"),a(this.sorticon).removeClass("descending"),this.element.removeAttribute("sort"),f!=null&&(f.sortasc.hide(),f.sortdesc.hide())):(r.isMaterialized()||r.isModern()?(a(this.sortasc).hide(),a(this.sortdesc).hide(),a(this.sorticon).show(),a(this.sorticon).css("visibility","inherit"),f!=null&&(f.sortasc.hide(),f.sortdesc.show()),a(this.sorticon).removeClass("ascending"),a(this.sorticon).removeClass("descending"),r.sortdirection.ascending?a(this.sorticon).addClass("ascending"):a(this.sorticon).addClass("descending")):r.sortdirection.ascending?(a(this.sortasc).show(),a(this.sortdesc).hide(),f!=null&&(f.sortasc.show(),f.sortdesc.hide())):(a(this.sortasc).hide(),a(this.sortdesc).show(),f!=null&&(f.sortasc.hide(),f.sortdesc.show())),this.element.setAttribute("sort",!0))})},getsortcolumns:function(){var r=this,l=[];for(var e in r.dataview.sortcache)e!=="data"&&l.push({dataField:e,ascending:r.dataview.sortcache[e].direction});if(l.length===0)for(var t in r.sortcolumns){var i=r.sortcolumns[t];i!==null&&l.push({dataField:t,ascending:i})}return l},getsortcolumn:function(){return this.sortcolumn!=null?this.sortcolumn:null},removesort:function(){if(this.sortby(null),this.sortmode==="many")for(var r in this.sortcolumns)this.sortby(r,null)},sortby:function(r,l,e,t,i){if(this._loading&&i!==!1)throw new Error("jqxGrid: "+this.loadingerrormessage);if(r==null&&(l=null,r=this.sortcolumn),r!=null){var s=this.that;if(e==null&&s.source&&s.source.sortcomparer!=null&&(e=s.source.sortcomparer),l===void 0&&(l=!0),l=="a"||l=="asc"||l=="ascending"||l==!0)var o=!0;else var o=!1;if(l!=null?s.sortdirection={ascending:o,descending:!o}:s.sortdirection={ascending:!1,descending:!1},l!=null?s.sortcolumn=r:s.sortcolumn=null,s.sortcolumns||(s.sortcolumns=[]),s.sortcolumns[r]=l,s.source&&(s.source.sort||s.virtualmode)){if(s.dataview.sortfield=r,l==null?s.dataview.sortfielddirection="":s.dataview.sortfielddirection=o?"asc":"desc",s.source.sort&&!this._loading){s.source.sort(r,l,s.sortcolumns),s._raiseEvent(6,{sortinformation:s.getsortinformation()});return}}else s.dataview.sortby(r,l,e);if(t===!1)return;if(s.groupable&&s.groups.length>0)s._render(!0,!1,!1),s._updategroupheadersbounds&&s.showgroupsheader&&s._updategroupheadersbounds(),s._postrender("sort");else{s.pageable&&s.dataview.updateview();var d=s.vScrollInstance.value;s._updaterowsproperties(),s.rendergridcontent(!0),s.vScrollInstance.setPosition(d),s._postrender("sort")}s._raiseEvent(6,{sortinformation:s.getsortinformation()})}},_togglesort:function(r){var l=this.that;if(!this.disabled){if(this.sortmode==="many"){if(r.sortable&&l.sortable){for(var e=l.getsortcolumns(),t=null,i=0;i<e.length;i++){var s=e[i],o=r.displayfield;if(o===s.dataField){t=s.ascending,l.sorttogglestates>1?t==!0?t=!1:t=null:t=!t,l.sortby(r.displayfield,t,null);return}}l.sortby(r.displayfield,!0,null)}return}if(r.sortable&&l.sortable){var d=l.getsortinformation(),t=null;d.sortcolumn!=null&&d.sortcolumn==r.displayfield?(t=d.sortdirection.ascending,l.sorttogglestates>1?t==!0?t=!1:t=null:t=!t):t=!0,l.sortby(r.displayfield,t,null)}}}})})(jqxBaseFramework)})();(function(){typeof document>"u"||(function(a){a.extend(a.jqx._jqxGrid.prototype,{savestate:function(r){if(!this.loadingstate){var l=this.getstate();return r!==void 0&&!a.isEmptyObject(r)&&(r.indexOf("sort")==-1&&(delete l.sortcolumn,delete l.sortdirection),r.indexOf("pager")==-1&&(delete l.pagenum,delete l.pagesizeoptions,delete l.pagesize),r.indexOf("selection")==-1&&(delete l.selectedcells,delete l.selectedrowindexes,delete l.selectedrowindex),r.indexOf("grouping")==-1&&delete l.groups,r.indexOf("filter")==-1&&delete l.filters,a.each(this.columns.records,function(e){var t=l.columns[this.datafield];r.indexOf("hidden_columns")==-1&&delete t.hidden,r.indexOf("reorder")==-1&&delete t.index,r.indexOf("columns_width")==-1&&delete t.width,r.indexOf("columns_text")==-1&&delete t.text,r.indexOf("alignment")==-1&&(delete t.align,delete t.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(l)),this._savedstate=l,l}},loadstate:function(r,l){var e="";if(r!=null&&r.width!=null)e=r;else if(window.localStorage){var t=window.localStorage["jqxGrid"+this.element.id];if(t)var e=a.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var e=this._savedstate;if(e!=null&&e!==""){(this.virtualmode||this.source._source.url&&this.source._source.url!="")&&this.source.beginUpdate();var i=e;if(i.width!==void 0&&(this.width=i.width),i.height!==void 0&&(this.height=i.height),this.pageable&&(i.pagesize!=null&&(this.pagesize=i.pagesize,this.dataview.pagesize=i.pagesize),i.pagenum!=null&&(this.dataview.pagenum=i.pagenum),i.pagesizeoptions!=null&&(this.pagesizeoptions=i.pagesizeoptions),this.pagesizeoptions)){for(var s=0,o=0;o<this.pagesizeoptions.length;o++)this.pagesize>=this.pagesizeoptions[o]&&(s=o);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:s})}if(this.sortable){if(this._loading&&(this._loading=!1),i.sortdirection){if(i.sortdirection.ascending||i.sortdirection.descending){this.dataview.sortfield=i.sortcolumn;var d=i.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=d,this.source.sortcolumn=i.sortcolumn,this.source.sortdirection=d,this.sortby(i.sortcolumn,d)}}else this.dataview.sortfield!=null&&(this.dataview.sortfielddirection=="asc"||this.dataview.sortfielddirection=="desc")&&this.sortby(this.dataview.sortfield,null);if(i.sortcolumns)for(var o=0;o<i.sortcolumns.length;o++){var n=i.sortcolumns[o];this.sortby(n.dataField,n.ascending)}}this.groupable&&i.groups&&(this.dataview.groups=i.groups,this.groups=i.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(i),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&this.source._source.url!="")&&(l==!0?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(r){this.loadingstate=!0;var l="";if(r!=null&&r.width!=null)l=r;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])var l=a.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var l=this._savedstate;if(l!=null&&l!=""){var e=this._loading;this._loading=!1;var t=l,i=this,s=!1,o=[];if(o.length=0,a.each(this.columns.records,function(B){var S=t.columns[this.datafield];if(S!=null){if(this.text!=S.text&&(s=!0),this.hidden!=S.hidden&&(s=!0),S.width!==void 0&&(this.width=S.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),S.hidden!==void 0&&(this.hidden=S.hidden),S.pinned!==void 0&&(this.pinned=S.pinned),S.groupable!==void 0&&(this.groupable=S.groupable),S.resizable!==void 0&&(this.resizable=S.resizable),this.draggable=S.draggable,S.text!==void 0&&(this.text=S.text),S.align!==void 0&&(this.align=S.align),S.cellsalign!==void 0&&(this.cellsalign=S.cellsalign),i._columns)for(var D=0;D<i._columns.length;D++)i._columns[D].datafield==this.datafield&&(S.hidden!==void 0&&(i._columns[D].hidden=S.hidden),S.width!==void 0&&(i._columns[D].width=S.width));S.index!==void 0&&(o[this.datafield]=S.index,o.length++)}}),o.length>0){if(this.setcolumnindex){var d=this.rowdetails?1:0;d+=this.groupable?this.groups.length:0;for(var n=new Array,f=0;f<this.columns.records.length;f++)n.push(this.columns.records[f]);for(var h=0,c=new Array,f=0;f<n.length;f++){var p=n[f],v=o[p.datafield];if(this.groupable&&p.grouped){h++;continue}if(f==0&&this.rowdetails){h++;continue}if(f!==v||this.groupable||this.rowdetails){var x=h+v;c.push({column:p,key:x})}}c.sort(function(B,S){return B.key<S.key?-1:B.key>S.key?1:0}),c.reverse(),a.each(c,function(B,S){var D=this.key;i.setcolumnindex(this.column.datafield,D,!1)})}if(this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo),this.groupable&&t.groups!==void 0){var w=this.source?this.source.datafields:null;if(w==null&&this.source&&this.source._source){w=this.source._source.datafields;var m=this;m._columns&&m._columns.sort(function(B,S){for(var D,H,G=0;G<m.columns.records.length;G++)m.columns.records[G].datafield===B.datafield&&(D=G),m.columns.records[G].datafield===S.datafield&&(H=G);return D<H?-1:D>H?1:0})}}}if(this.filterable&&t.filters!==void 0){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));for(var g="",b=new a.jqx.filter,f=0;f<t.filters.filterscount;f++){var _=t.filters["filtercondition"+f],y=t.filters["filterdatafield"+f],p=this.getcolumn(y);if(y!=g&&(b=new a.jqx.filter),g=y,p&&p.filterable){var j=t.filters["filtervalue"+f],C=t.filters["filteroperator"+f],L=t.filters["filtertype"+f];if(L=="datefilter")var k=b.createfilter(L,j,_,null,p.cellsformat,this.gridlocalization);else var k=b.createfilter(L,j,_);if(b.addfilter(C,k),this.showfilterrow){var O=p._filterwidget,X=p._filterwidget.parent();if(O!=null)switch(p.filtertype){case"number":if(X.find("input").val(j),this.host.jqxDropDownList){var P=b.getoperatorsbyfiltertype("numericfilter");O.find(".filter").jqxDropDownList("selectIndex",P.indexOf(_))}break;case"date":this.host.jqxDateTimeInput?a(X.children()[0]).jqxDateTimeInput("setDate",j):O.val(j);break;case"range":if(this.host.jqxDateTimeInput){var T=t.filters["filtervalue"+(f+1)],L=t.filters["filtertype"+f],k=b.createfilter(L,T,"LESS_THAN_OR_EQUAL");b.addfilter(C,k);var I=new Date(j),z=new Date(T);p.cellsformat&&(I=a.jqx.dataFormat.tryparsedate(j,null,p.cellsformat),z=a.jqx.dataFormat.tryparsedate(T,null,p.cellsformat)),isNaN(I)&&(I=a.jqx.dataFormat.tryparsedate(j)),isNaN(z)&&(z=a.jqx.dataFormat.tryparsedate(T)),z.setHours(23,59,59,999),I.setHours(0,0,0,0),a(X.children()[0]).jqxDateTimeInput("setRange",I,z),f++}else O.val(j);break;case"textbox":case"default":O.val(j),i["_oldWriteText"+O[0].id]=j;break;case"list":if(this.host.jqxDropDownList){var q=a(X.children()[0]).jqxDropDownList("getItems"),v=-1;a.each(q,function(H){if(this.value==j)return v=H,!1}),a(X.children()[0]).jqxDropDownList("selectIndex",v)}else O.val(j);break;case"checkedlist":this.host.jqxDropDownList||O.val(j);break;case"bool":case"boolean":this.host.jqxCheckBox?a(X.children()[0]).jqxCheckBox({checked:j}):O.val(j);break}}this.addfilter(y,b)}}t.filters&&t.filters.filterscount>0&&(this.applyfilters(),this.showfilterrow&&a.each(this.columns.records,function(){if(this.filtertype=="checkedlist"&&this.filterable&&i.host.jqxDropDownList){var B=this,S=B._filterwidget;S.jqxDropDownList("getItems");var D=S.jqxDropDownList("listBox");if(D.checkAll(!1),B.filter){D.uncheckAll(!1);for(var H=B.filter.getfilters(),G=0;G<D.items.length;G++){var N=D.items[G].label;a.each(H,function(){if(this.condition=="NOT_EQUAL")return!0;N==this.value&&D.checkIndex(G,!1,!1)})}D._updateCheckedItems();var A=D.getCheckedItems().length;D.items.length!=A&&A>0&&D.host.jqxListBox("indeterminateIndex",0,!0,!1)}}})),this.pageable&&t.pagenum!==void 0&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(t.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(t.pagenum))}if(t.selectedrowindexes&&t.selectedrowindexes&&t.selectedrowindexes.length>0&&(this.selectedrowindexes=t.selectedrowindexes,this.selectedrowindex=t.selectedrowindex,this.selectionmode==="checkbox"&&this._updatecheckboxselection()),t.selectedcells&&this._applycellselection&&a.each(t.selectedcells,function(){i._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&t.groups!==void 0){this._refreshdataview(),this.render(),this._loading=e,this.loadingstate=!1;return}if(s){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=e,this.loadingstate=!1,this.updating())return!1}else this._loading=e,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=e,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var r=this.getdatainformation(),l={};if(l.width=this.width,l.height=this.height,l.pagenum=r.paginginformation.pagenum,l.pagesize=r.paginginformation.pagesize,l.pagesizeoptions=this.pagesizeoptions,l.sortcolumn=r.sortinformation.sortcolumn,l.sortdirection=r.sortinformation.sortdirection,this.sortmode==="many"&&(l.sortcolumns=this.getsortcolumns()),this.selectionmode!=null&&this.getselectedcells)if(this.selectionmode.toString().indexOf("cell")!=-1){var e=this.getselectedcells(),t=new Array;a.each(e,function(){t.push({datafield:this.datafield,rowindex:this.rowindex})}),l.selectedcells=t}else{var i=this.getselectedrowindexes();l.selectedrowindexes=i,l.selectedrowindex=this.selectedrowindex}var s={},o=0;if(this.dataview.filters)for(var d=0;d<this.dataview.filters.length;d++){var n=this.dataview.filters[d].datafield,f=this.dataview.filters[d].filter,h=f.getfilters();s[n+"operator"]=f.operator;for(var c=0;c<h.length;c++){if(h[c].datafield=n,h[c].type=="datefilter")if(h[c].value&&h[c].value.toLocaleString){var p=this.getcolumn(h[c].datafield);if(p.cellsformat){var v=this.source.formatDate(h[c].value,p.cellsformat,this.gridlocalization);v?s["filtervalue"+o]=v:s["filtervalue"+o]=h[c].value.toLocaleString()}else s["filtervalue"+o]=h[c].value.toLocaleString()}else s["filtervalue"+o]=h[c].value;else s["filtervalue"+o]=h[c].value;s["filtercondition"+o]=h[c].condition,s["filteroperator"+o]=h[c].operator,s["filterdatafield"+o]=n,s["filtertype"+o]=h[c].type,o++}}s.filterscount=o,l.filters=s,l.groups=this.groups,l.columns={};var x=0;return this.columns.records&&a.each(this.columns.records,function(w,m){if(!this.datafield)return!0;var g={};g.width=this.width,this._percentagewidth&&(g.width=this._percentagewidth),g.hidden=this.hidden,g.pinned=this.pinned,g.groupable=this.groupable,g.resizable=this.resizable,g.draggable=this.draggable,g.text=this.text,g.align=this.align,g.cellsalign=this.cellsalign,g.index=x++,l.columns[this.datafield]=g}),l},_stringify:function(r){if(window.JSON&&typeof window.JSON.stringify=="function"){var l=this,e="";try{e=window.JSON.stringify(r)}catch{return l._str("",{"":r})}return e}var e=this._str("",{"":r});return e},_quote:function(r){var l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+r.replace(l,function(t){var i=e[t];return typeof i=="string"?i:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(r){for(var l=r.length,e=[],t,t=0;t<l;t++)e.push(this._str(t,r)||"null");return"["+e.join(",")+"]"},_stringifyObject:function(r){var l=[],e,t,i=this;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t=i._str(e,r),t&&l.push(i._quote(e)+":"+t));return"{"+l.join(",")+"}"},_stringifyReference:function(r){switch(Object.prototype.toString.call(r)){case"[object Array]":return this._stringifyArray(r)}return this._stringifyObject(r)},_stringifyPrimitive:function(r,l){switch(l){case"string":return this._quote(r);case"number":return isFinite(r)?r:"null";case"boolean":return r}return"null"},_str:function(r,l){var e=l[r],t=typeof e;return e&&typeof e=="object"&&typeof e.toJSON=="function"&&(e=e.toJSON(r),t=typeof e),/(number|string|boolean)/.test(t)||!e&&t==="object"?this._stringifyPrimitive(e,t):this._stringifyReference(e)}})})(jqxBaseFramework)})();(function(){typeof document>"u"||(function(a){a.jqx.dataview.grouping=function(){this.loadgrouprecords=function(r,l,e,t,i,s,o,d,n){for(var N=r,f=this,v=new Array,h=0;h<f.groups.length;h++)v[h]=f.generatekey();var c=new Array,p=0,v=v,x=new Array,w=l,m=f.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var g=this.sortdata!=null,b=g?this.sortdata:this.records;if(this.pageable){var _=new Array,y=0;b[l]||(a.each(b,function(A,M){_[l+A++]=this}),b=_)}if(this.virtualmode){for(var _=new Array,y=0,w=0;w<e-l;w++)b[w]?_[l+y++]=b[w]:b[l+y]&&(_[l+y]=b[l+y],y++);w=0,b=_}for(var j=l;j<e;j++){var C={};g?C=a.extend({},b[j].value):C=a.extend({},b[j]);var L=C[f.uniqueId];(i>=d||L!=o[i][f.uniqueId]||s&&s[L])&&(n[n.length]=i);for(var k=new Array,O=0,h=0;h<m;h++){var X=f.groups[h],P=C[X];P==null&&(P=""),k[O++]={value:P,hash:v[h]}}if(k.length!=m)break;for(var T=null,I="",z=0;z<k.length;z++){var q=k[z].value,B=k[z].hash;if(I=I+"_"+B+"_"+q,x[I]!=null&&x[I]!=null){T=x[I];continue}if(T==null)T={group:q,subItems:new Array,subGroups:new Array,level:0},c[p++]=T,T.uniqueid=f.generatekey(),f.loadedgroupsByKey[q]=T;else{var S={group:q,subItems:new Array,subGroups:new Array,parentItem:T,level:T.level+1};f.loadedgroupsByKey[T.uniqueid+"_"+q]=S,S.uniqueid=f.generatekey(),T.subGroups[T.subGroups.length++]=S,T=S}x[I]=T}T!=null?(C.uid==null&&(C.uid=this.getid(this.source.id,C,w)),g?(C.boundindex=b[j].index,this.recordsbyid["id"+C.uid]=b[j].value):(C.boundindex=w,this.recordsbyid["id"+C.uid]=b[j]),this.bounditems[C.boundindex]=C,this.sortedgroups[w]=C,C.uniqueid=f.generatekey(),C.parentItem=T,C.level=T.level+1,T.subItems[T.subItems.length++]=C):(C.uid==null&&(C.uid=this.getid(this.source.id,C,w)),g?(C.boundindex=b[j].index,this.recordsbyid["id"+C.uid]=b[j].value):(C.boundindex=w,this.recordsbyid["id"+C.uid]=b[j]),this.sortedgroups[w]=C,this.bounditems[C.boundindex]=C,C.uniqueid=f.generatekey()),i++,w++}var D=function(A,M,Q){for(var U=0;U<M.subItems.length;U++)M.subItems[U].visibleindex=r+Q,A.rows[Q]=M.subItems[U],A.loadedrecords[Q]=M.subItems[U],Q++;return Q},H=function(A,M,Q){var U=1,Y=A.grid.columns.records?A.grid.columns.records:A.grid.columns;if(A.aggregates==!0)for(var E=0;E<Y.length;E++)Y[E].aggregates&&(U=Math.max(U,Y[E].aggregates.length));var R=function(W){if(A.aggregates==!0)for(var V=function(re){var ae=W,ee={},te=function(se){for(var K=0;K<Y.length;K++)if(Y[K].aggregates){for(var oe=A.grid.getcolumnaggregateddata(Y[K].datafield,Y[K].aggregates,!0,se),ne=0;ne<Y[K].aggregates.length;ne++)if(Y[K].aggregates[re]){var he=Y[K],fe=Y[K].aggregates[re],ue=fe;ue=A.grid._getaggregatename(ue);var ce=ue+":"+oe[fe];oe[fe]?ee[he.datafield]=ce:ee[he.datafield]=ue+":"+oe[ue]}}};if(ae!=null){if(ee.level=ae.level,ee.visibleindex=r+Q,ee.uniqueid=A.generatekey(),A.rows[Q]=ee,A.loadedrecords[Q++]=ee,ee.totalsrow=!0,W.subItems.length>0){ae=W.subItems[W.subItems.length-1],ee.parentItem=ae.parentItem,ee.parentItem.subItems&&(ee.parentItem.subItems[ee.parentItem.subItems.length]=ee);var Z=[],ie=function(){for(var se=0;se<W.subItems.length;se++)W.subItems[se].totalsrow||(Z[Z.length]=W.subItems[se])};ie(W),te(Z)}else if(W.subGroups.length>0){ae=W.subGroups[W.subGroups.length-1],ee.level=ae.level,ee.parentItem=W,W.subGroups[W.subGroups.length]=ee;var Z=[],ie=function(oe){if(!oe.totalsrow){for(var ne=0;ne<oe.subItems.length;ne++)oe.subItems[ne].totalsrow||(Z[Z.length]=oe.subItems[ne]);for(var ne=0;ne<oe.subGroups.length;ne++)ie(oe.subGroups[ne])}};ie(W),te(Z)}}},le=0;le<U;le++)V(le)};for(var $ in M.subGroups){var F=M.subGroups[$];F.subGroups&&(A.loadedgroups[A.loadedgroups.length]=F,F.visibleindex=r+Q,A.rows[Q]=F,A.loadedrecords[Q]=F,Q++,F.subGroups.length>0?Q=H(A,F,Q):F.subItems.length>0&&(Q=D(A,F,Q)))}return M.subItems.length>0&&(Q=D(A,M,Q)),R(M),Q},G=c.length;this.loadedgroups=new Array,this.rows=new Array;for(var N=0,w=0;w<G;w++){var X=c[w];this.loadedrootgroups[w]=X,this.loadedgroups[this.loadedgroups.length]=X,X.visibleindex=r+N,this.rows[N]=X,this.loadedrecords[N]=X,N++,N=H(this,X,N)}return N},this._updategroupsinpage=function(r,l,e,t,i,s,o){var d=new Array;if(this.groupable&&this.groups.length>0){for(var n=0,f=new Array,h=new Array,c=0;c<r.groups.length;c++)h[c]=r.generatekey();var p=0,v=new Array,x=0;o>this.totalrecords&&(o=this.totalrecords);for(var w=s;w<o;w++){var m=a.extend({},r.sortedgroups[w]),g=m[r.uniqueId];if(!r.pagesize||e>=r.pagesize*r.pagenum&&e<r.pagesize*(r.pagenum+1)){t>=i||g!=d[t][r.uniqueId]||updated&&updated[g];for(var b=new Array,_=0,c=0;c<r.groups.length;c++){var y=r.groups[c],j=m[y];j==null&&(j=""),b[_++]={value:j,hash:h[c]}}if(b.length!=r.groups.length)break;for(var C=null,L="",k=0;k<b.length;k++){var O=b[k].value,X=b[k].hash;if(L=L+"_"+X+"_"+O,f[L]!=null&&f[L]!=null){C=f[L];continue}if(C==null){C={group:O,subItems:new Array,subGroups:new Array,level:0},v[x++]=C;var P=r.loadedgroupsByKey[O];P!=null&&(C.visibleindex=P.visibleindex,C.uniqueid=P.uniqueid)}else{var T={group:O,subItems:new Array,subGroups:new Array,parentItem:C,level:C.level+1},P=r.loadedgroupsByKey[C.uniqueid+"_"+O];T.visibleindex=P.visibleindex,T.uniqueid=P.uniqueid,C.subGroups[C.subGroups.length++]=T,C=T}f[L]=C}C!=null&&(m.parentItem=C,m.level=C.level+1,C.subItems[C.subItems.length++]=m),t++}p++,e++}for(var I=function(B,S,D){for(var H=0;H<S.subItems.length;H++)d[D]=a.extend({},S.subItems[H]),D++;return D},z=function(B){var S=!1;for(var D in B.subGroups){var H=B.subGroups[D];if(H.subGroups){if(H.subGroups.length>0){var G=z(H);if(G)return S=!0,!0}if(H.subItems.length>0)return S=!0,!0}}return B.subItems.length>0?(S=!0,!0):S},q=function(B,S,D){var H=1,G=B.grid.columns.records?B.grid.columns.records:B.grid.columns;if(B.aggregates==!0)for(var N=0;N<G.length;N++)G[N].aggregates&&(H=Math.max(H,G[N].aggregates.length));var A=function(U){if(B.aggregates==!0)for(var Y=function(R){var $=U,F={},W=function(re){for(var ae=0;ae<G.length;ae++)if(G[ae].aggregates){for(var ee=B.grid.getcolumnaggregateddata(G[ae].datafield,G[ae].aggregates,!0,re),te=0;te<G[ae].aggregates.length;te++)if(G[ae].aggregates[R]){var Z=G[ae],ie=G[ae].aggregates[R],se=ie;se=B.grid._getaggregatename(se);var K=se+":"+ee[ie];F[Z.datafield]=K}}};if($!=null){if(F.level=$.level,F.visibleindex=D,F.uniqueid=B.generatekey(),d[D]=F,B.loadedrecords[D++]=F,F.totalsrow=!0,U.subItems.length>0){$=U.subItems[U.subItems.length-1],F.parentItem=$.parentItem,F.parentItem.subItems&&(F.parentItem.subItems[F.parentItem.subItems.length]=F);var V=[],le=function(){for(var re=0;re<U.subItems.length;re++)U.subItems[re].totalsrow||(V[V.length]=U.subItems[re])};le(U),W(V)}else if(U.subGroups.length>0){$=U.subGroups[U.subGroups.length-1],F.level=$.level,F.parentItem=U,U.subGroups[U.subGroups.length]=F;var V=[],le=function(ee){if(!ee.totalsrow){for(var te=0;te<ee.subItems.length;te++)ee.subItems[te].totalsrow||(V[V.length]=ee.subItems[te]);for(var te=0;te<ee.subGroups.length;te++)le(ee.subGroups[te])}};le(U),W(V)}}},E=0;E<H;E++)Y(E)};for(var M in S.subGroups){var Q=S.subGroups[M];Q.subGroups&&z(Q)&&(d[D]=Q,D++,Q.subGroups.length>0?D=q(B,Q,D):Q.subItems.length>0&&(D=I(B,Q,D)))}return S.subItems.length>0&&(D=I(B,S,D)),A(S),D},p=0;p<v.length;p++){var y=v[p];z(y)&&(d[n]=y,n++,n=q(this,y,n))}}return d}},a.extend(a.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var r=this,l=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||a('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var e=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var t=new Array;if(e>0)a.each(this.groups,function(s){var o=this,d=r._getColumnText(this),n=d.label,f=r._rendergroupcolumn(n,o);if(f.addClass(r.toThemeProperty("jqx-grid-group-column")),r.groupsheaderdiv.append(f),r.closeablegroups){var h=a(f.find(".jqx-icon-close"));r.isTouchDevice()&&r.touchmode!==!0?r.addHandler(h,"touchstart",function(){return r.removegroupat(s),!1}):r.addHandler(h,"click",function(){return r.removegroupat(s),!1})}if(r.sortable&&r.addHandler(f,"click",function(){var v=r.getcolumn(o);return v!=null&&r._togglesort(v),!1}),t[t.length]=f,r._handlegroupstocolumnsdragdrop(this,f),s<e-1){var c=f.height(),p=a('<div style="float: left; position: relative;"></div>');r.rtl&&p.css("float","right"),p.width(r.groupindentwidth/3),p.height(1),p.css("top",c/2),p.addClass(r.toThemeProperty("jqx-grid-group-column-line")),r.groupsheaderdiv.append(p)}});else{var i=a('<div style="position: relative;">'+l+"</div>");this.groupsheaderdiv.append(i),this.rtl&&i.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=t,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var r=this,l=this.groupsheaderdiv.children().outerHeight(),e=(this.groupsheader.height()-l)/2;this.groupsheaderdiv.css("top",e),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",e)):(this.groupsheaderdiv.css("left",e),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),a.each(this._groupheaders,function(t){var i=this.coord();r.groupheadersbounds[t]={left:i.left,top:i.top,width:this.outerWidth(),height:this.outerHeight(),index:t}})},addgroup:function(r){if(r){var l=this;l.groups!==l.dataview.groups&&(l.dataview.groups=l.groups),l.groups[l.groups.length]=r,l.refreshgroups(),this._raiseEvent(12,{type:"Add",index:l.groups[l.groups.length],groups:l.groups})}},insertgroup:function(r,l){if(r!=null&&r!=null&&r>=0&&r<=this.groups.length&&l){var e=this;e.groups!==e.dataview.groups&&(e.dataview.groups=e.groups),e.groups.splice(r,0,l.toString()),e.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:r,groups:e.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(r,l){var e=this._getGroupIndexByDataField(r);this.insertgroup(e+1,l)},_insertbeforegroup:function(r,l){var e=this._getGroupIndexByDataField(r);this.insertgroup(e,l)},removegroupat:function(r){if(r>=0&&r!=null&&r!=null){var l=this;return l.groups!==l.dataview.groups&&(l.dataview.groups=l.groups),l.groups.splice(r,1),l.refreshgroups(),l.virtualmode&&l.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:r,groups:l.groups}),!0}return!1},cleargroups:function(){var r=this;return r.groups=[],r.dataview.groups=r.groups,r.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:r.groups}),!0},removegroup:function(r){if(r==null)return!1;var l=this.groups.indexOf(r.toString());return this.removegroupat(l)},getrootgroupscount:function(){var r=this.dataview.loadedrootgroups.length;return r},collapsegroup:function(r){if(r>=0&&r.toString().indexOf(".")===-1)return this._setrootgroupstate(r,!1);var l=r.toString().split("."),e=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var t=0;t<l.length;t++){var r=parseInt(l[t]);if(t==0){var e=this.dataview.loadedrootgroups[r];this.groupsVisibility[e.group]=null}else{var i=e.subGroups[r];i&&(e=i,t==l.length-1&&(this._setgroupstate(e,!1,!0),this.groupsVisibility[e.group]=null))}}},expandgroup:function(r){if(r>=0&&r.toString().indexOf(".")===-1)return this._setrootgroupstate(r,!0);for(var l=r.toString().split("."),e=null,t=0;t<l.length;t++){var r=parseInt(l[t]);if(t==0){var e=this.dataview.loadedrootgroups[r];this._setrootgroupstate(r,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=e}else{var i=e.subGroups[r];i&&(e=i,this._setgroupstate(e,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=e)}}},collapseallgroups:function(r){this._setbatchgroupstate(!1,r)},expandallgroups:function(r){this._setbatchgroupstate(!0,r)},isgroupexpanded:function(r){var l=this.dataview.loadedrootgroups[r];if(l==null)return null;var e=this.expandedgroups[l.uniqueid].expanded;return e},jsonParser:function(){var r="~",l="\\x"+("0"+r.charCodeAt(0).toString(16)).slice(-2),e="\\"+l,t=new RegExp(l,"g"),i=new RegExp(e,"g"),s=new RegExp("(?:^|([^\\\\]))"+e),o=[].indexOf||function(w){for(var m=this.length;m--&&this[m]!==w;);return m},d=String;function n(w,m,g){var b=!1,_=!!m,y=[],j=[w],C=[w],L=[g?r:"[Circular]"],k=w,O=1,X,P;return _&&(P=typeof m=="object"?function(T,I){return T!==""&&o.call(m,T)<0?void 0:I}:m),function(T,I){return _&&(I=P.call(this,T,I)),b?(k!==this&&(X=O-o.call(j,this)-1,O-=X,j.splice(O,j.length),y.splice(O-1,y.length),k=this),typeof I=="object"&&I?(o.call(j,I)<0&&j.push(k=I),O=j.length,X=o.call(C,I),X<0?(X=C.push(I)-1,g?(y.push((""+T).replace(t,l)),L[X]=r+y.join(r)):L[X]=L[0]):I=L[X]):typeof I=="string"&&g&&(I=I.replace(l,e).replace(r,l))):b=!0,I}}function f(w,m){for(var g=0,b=m.length;g<b;w=w[m[g++].replace(i,r)]);return w}function h(w){return function(m,g){var b=typeof g=="string";return b&&g.charAt(0)===r?new d(g.slice(1)):(m===""&&(g=v(g,g,{})),b&&(g=g.replace(s,"$1"+r).replace(e,l)),w?w.call(this,m,g):g)}}function c(w,m,g){for(var b=0,_=m.length;b<_;b++)m[b]=v(w,m[b],g);return m}function p(w,m,g){for(var b in m)m.hasOwnProperty(b)&&(m[b]=v(w,m[b],g));return m}function v(w,m,g){return m instanceof Array?c(w,m,g):m instanceof d?m.length?g.hasOwnProperty(m)?g[m]:g[m]=f(w,m.split(r)):w:m instanceof Object?p(w,m,g):m}var x={stringify:function(m,g,b,_){return x.parser.stringify(m,n(m,g,!_),b)},parse:function(m,g){return x.parser.parse(m,h(g))},parser:JSON};return x},getgroup:function(r){var l=this.dataview.loadedrootgroups[r];if(l==null)return null;var e=this.expandedgroups[l.uniqueid].expanded,t=l.group,i=l.level,s=new Array;this._getsubgroups(s,l);var o=this,d={group:t,level:i,expanded:e,subgroups:s};if(l.subItems){var n=new Array;a.each(l.subItems,function(){var h=this.boundindex;n[n.length]=o.getrowdata(h)}),n.length>0&&(d.subrows=n)}var f=this.jsonParser().stringify(l);return f=f.replace(/subItems/ig,"subrows"),f=f.replace(/subGroups/ig,"subgroups"),d=this.jsonParser().parse(f),d.expanded=e,d},getrootgroups:function(){for(var r=this.dataview.loadedrootgroups.length,l=new Array,e=0;e<r;e++)l[e]=this.getgroup(e);return l},_getsubgroups:function(r,l){var e=this;for(var t in l.subGroups){var i=l.subGroups[t],s=e.expandedgroups[i.uniqueid].expanded,o=i.group,d=i.level;if(r[r.length]={group:o,level:d,expanded:s},i.subItems){var n=new Array;a.each(i.subItems,function(){var h=this.boundindex;n[n.length]=e.getrowdata(h)}),r[r.length-1].subrows=n}if(i.subGroups){var f=new Array;e._getsubgroups(f,i)}}return r},_setbatchgroupstate:function(r,l){var e=this;for(var t in this.dataview.loadedrootgroups)e._setrootgroupstate(t,r,!1,!0);if(l==!1)return e._requiresupdate=!0,e._renderrows(e.virtualsizeinfo),!0;var i=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(i!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(r,l,e,t){if(r==null||r==null||r<0||!this.groupable||this.groups.length==0)return!1;var i=e??!0;if(r>=0&&r<this.dataview.loadedrootgroups.length){var s=this.dataview.loadedrootgroups[r];if(this.pageable){for(var o=new Array,d=0;d<this.dataview.rows.length;d++)this.dataview.rows[d].group!=null&&this.dataview.rows[d].level===0&&o.push(this.dataview.rows[d]);if(s=o[r],!s)return}return this._setgroupstate(s,l,i,t)}return!1},_togglegroupstate:function(r,l){if(r==null||r==null)return!1;var e=this.vScrollInstance.value,t=this.expandedgroups[r.uniqueid];t==null?t=!1:t=t.expanded,t=!t,this.groupsVisibility||(this.groupsVisibility=new Array),t?this.groupsVisibility[r.group]=r:this.groupsVisibility[r.group]=null;var i=this._setgroupstate(r,t,l);return this._newmax=null,e!==0&&this.vScrollBar.css("visibility")!=="hidden"&&(e<=this.vScrollInstance.max?this.vScrollInstance.setPosition(e):this.vScrollInstance.setPosition(this.vScrollInstance.max)),i},_setgroupstate:function(r,l,e,t){if(r==null||r==null)return!1;var i=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var s=this.expandedgroups[r.uniqueid];if(s==null&&(s={expanded:!1},i=!0),(s.expanded!=l||t)&&(i=!0),i){if(this.expandedgroups[r.uniqueid]={expanded:l,group:r},this._setsubgroupsvisibility(this,r,!l,t),e){var o=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(o!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return(this.suspendgroupevents==null||this.suspendgroupevents==!1)&&(l?this._raiseEvent(4,{group:r.group,parentgroup:r.parentItem?r.parentItem.group:null,level:r.level,visibleindex:r.visibleindex}):this._raiseEvent(5,{group:r.group,parentgroup:r.parentItem?r.parentItem.group:null,level:r.level,visibleindex:r.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(r,l,e){for(var t=0;t<l.subItems.length;t++)r._setrowvisibility(l.subItems[t].visibleindex,e,!1)},_setsubgroupsvisibility:function(r,l,e,t){if(l.parentItem!=null){if(this.hiddens[l.parentItem.visibleindex])return}else if(l.parentItem==null&&this.hiddens[l.visibleindex])return;for(var i in l.subGroups){var s=l.subGroups[i];e||r._setrowvisibility(s.visibleindex,e,!1);var o=!e;t?this.expandedgroups[s.uniqueid]={expanded:o,group:s}:r.expandedgroups[s.uniqueid]==null?o=!1:o=r.expandedgroups[s.uniqueid].expanded,s.subGroups&&(s.subGroups.length>0?r._setsubgroupsvisibility(r,s,!o||e,t):s.subItems.length>0&&r._setgroupitemsvisibility(r,s,!o||e)),e&&r._setrowvisibility(s.visibleindex,e,!1)}l.subItems&&l.subItems.length>0&&r._setgroupitemsvisibility(r,l,e)},_handlecolumnsdragdrop:function(){var r=this,l=-1,e=!1;if(r.groupable){var t="mousemove.grouping"+this.element.id;""+this.element.id;var i="mouseup.grouping"+this.element.id,s=!1;this.isTouchDevice()&&this.touchmode!==!0&&(s=!0,t=a.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,a.jqx.mobile.getTouchEventName("touchstart")+""+this.element.id,i=a.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(a(document),t),this.addHandler(a(document),t,function(o){if(!r.showgroupsheader)return!0;if(r.dragcolumn!=null){var d=parseInt(o.pageX),n=parseInt(o.pageY);if(s){var f=r.getTouches(o),h=f[0];d=parseInt(h.pageX),n=parseInt(h.pageY)}var c=r.host.coord(),p=parseInt(c.left),v=parseInt(c.top);(r.dragmousedownoffset==null||r.dragmousedownoffset==null)&&(r.dragmousedownoffset={left:0,top:0});var x=parseInt(d)-parseInt(r.dragmousedownoffset.left),w=parseInt(n)-parseInt(r.dragmousedownoffset.top);if(r.dragcolumn.css({left:x+"px",top:w+"px"}),e=!1,d>=p&&d<=p+r.host.width()&&n>=v&&n<=v+r.host.height()&&(e=!0),l=-1,e){r.dragcolumnicon.removeClass(r.toThemeProperty("jqx-grid-dragcancel-icon")),r.dragcolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon"));var m=r.groupsheader.coord(),g=m.top+r.groupsheader.height(),b=a.data(r.dragcolumn[0],"datarecord");if(b)var _=r.groups.indexOf(b.toString());else var _=-1;var y=_==-1||r.groups.length>1&&_>-1;r.dropline!=null&&(n>=m.top&&n<=g?y&&(l=r._handlegroupdroplines(d)):r.dropline.fadeOut("slow"))}else r.dropline!=null&&r.dropline.fadeOut("slow"),r.dragcolumnicon.removeClass(r.toThemeProperty("jqx-grid-drag-icon")),r.dragcolumnicon.addClass(r.toThemeProperty("jqx-grid-dragcancel-icon"));if(s)return o.preventDefault(),o.stopPropagation(),!1}},{passive:!1}),this.removeHandler(a(document),i),this.addHandler(a(document),i,function(o){if(!r.showgroupsheader)return!0;r.__drag=!1,a(document.body).removeClass("jqx-disableselect"),parseInt(o.pageX);var d=parseInt(o.pageY);if(s){var n=r.getTouches(o),f=n[0];parseInt(f.pageX),d=parseInt(f.pageY)}var h=r.host.coord();parseInt(h.left);var c=parseInt(h.top),p=r.groupsheader.height();if(r.showtoolbar&&(c+=r.toolbarheight),r.showfilterbar&&(c+=r.toolbarheight),r.dragstarted=!1,r.dragmousedown=null,r.dragcolumn!=null){var v=a.data(r.dragcolumn[0],"datarecord");if(r.dragcolumn.remove(),r.dragcolumn=null,v!=null){if(!r.getcolumn(v).groupable){r.dropline!=null&&(r.dropline.remove(),r.dropline=null);return}if(e){if(l!=-1){var x=l.index,w=r.groups[x],m=r._getGroupIndexByDataField(v);m!=x&&(m!=null&&m>=0&&r.groups.splice(m,1),l.position=="before"?r.rtl?r._insertaftergroup(w,v):r._insertbeforegroup(w,v):r.rtl?r._insertbeforegroup(w,v):r._insertaftergroup(w,v))}else if(r.groups.length==0)d>c&&d<=c+p&&r.addgroup(v);else if(d>c+p){var m=r._getGroupIndexByDataField(v);r.removegroupat(m)}}r.dropline!=null&&(r.dropline.remove(),r.dropline=null)}}})}},_getGroupIndexByDataField:function(r){for(var l=0;l<this.groups.length;l++)if(this.groups[l]==r)return l;return-1},_isColumnInGroups:function(r){for(var l=0;l<this.groups.length;l++)if(this.groups[l]==r)return!0;return!1},_handlegroupdroplines:function(r){var l=this,e=-1;return a.each(l.groupheadersbounds,function(t){if(r<=this.left+this.width/2){var i=this.left-3;return t>0&&(i=this.left-1-l.groupindentwidth/6),l.dropline.css("left",i),l.dropline.css("top",this.top),l.dropline.height(this.height),l.dropline.fadeIn("slow"),e={index:t,position:"before"},l.rtl&&(e={index:l.groupheadersbounds.length-1-t,position:"before"}),!1}else r>=this.left+this.width/2&&(l.dropline.css("left",1+this.left+this.width),l.dropline.css("top",this.top),l.dropline.height(this.height),l.dropline.fadeIn("slow"),e={index:t,position:"after"},l.rtl&&(e={index:l.groupheadersbounds.length-1-t,position:"after"}))}),e},_handlegroupstocolumnsdragdrop:function(r,l){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var e=this,t,i="mousedown",s="mousemove",o=!1;this.isTouchDevice()&&this.touchmode!==!0&&(o=!0,i=a.jqx.mobile.getTouchEventName("touchstart"),s=a.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(l,"dragstart",function(d){return!1}),this.addHandler(l,i,function(d){if(!e.showgroupsheader)return!0;var n=d.pageX,f=d.pageY;if(e.__drag=!0,e.dragmousedown={left:n,top:f},o){var h=e.getTouches(d),c=h[0];n=c.pageX,f=c.pageY,e.dragmousedown={left:n,top:f},d.preventDefault&&d.preventDefault()}var p=a(d.target).coord();e.dragmousedownoffset={left:parseInt(n)-parseInt(p.left),top:parseInt(f-p.top)}}),this.addHandler(l,s,function(d){if(!e.showgroupsheader)return!0;if(e.dragmousedown){if(t={left:d.pageX,top:d.pageY},o){var n=e.getTouches(d),f=n[0];t={left:f.pageX,top:f.pageY}}if(!e.dragstarted&&e.dragcolumn==null){var h=Math.abs(t.left-e.dragmousedown.left),c=Math.abs(t.top-e.dragmousedown.top);(h>3||c>3)&&(e._createdragcolumn(l,t,!0),a(document.body).addClass("jqx-disableselect"),a.data(e.dragcolumn[0],"datarecord",r),d.preventDefault&&d.preventDefault())}}},{passive:!1})},_createdragcolumn:function(r,l,e){var t=this,i=l;t.dragcolumn=a("<div></div>");var s=r.clone();t.dragcolumn.css("z-index",999999),s.css("border-width","1px"),s.css("opacity","0.4");var o=a(s.find("."+t.toThemeProperty("jqx-grid-column-menubutton")));o.length>0&&o.css("display","none");var d=a(s.find(".jqx-icon-close"));d.length>0&&d.css("display","none"),t.dragcolumnicon=a('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon")),t.dragcolumn.css("float","left"),t.dragcolumn.css("position","absolute"),t.host.coord(),s.width(r.width()+16),t.dragcolumn.append(s),t.dragcolumn.height(r.height()),t.dragcolumn.width(s.width()),t.dragcolumn.append(t.dragcolumnicon),a(document.body).append(t.dragcolumn),s.css("margin-left",0),s.css("left",0),s.css("top",0),t.dragcolumn.css("left",i.left+t.dragmousedown.left),t.dragcolumn.css("top",i.top+t.dragmousedown.top),e!=null&&e&&(t.dropline=a('<div style="display: none; position: absolute;"></div>'),t.dropline.width(2),t.dropline.addClass(t.toThemeProperty("jqx-grid-group-drag-line")),a(document.body).append(t.dropline))},iscolumngroupable:function(r){return this._getcolumnproperty(r,"groupable")},_handlecolumnstogroupsdragdrop:function(r,l){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var e=this,s,t=!1;this.isTouchDevice()&&this.touchmode!==!0&&(t=!0);var i="mousedown.drag",s="mousemove.drag";t?(i=a.jqx.mobile.getTouchEventName("touchstart")+".drag",s=a.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(l,"dragstart",function(o){return!1}),this.addHandler(l,i,function(o){if(!e.showgroupsheader)return!0;if(e.__drag=!0,e._isColumnInGroups(r.displayfield))return l.css("cursor")!="col-resize",!0;if(r.groupable==!1)return!0;var d=o.pageX,n=o.pageY;if(t){var f=e.getTouches(o),h=f[0];d=h.pageX,n=h.pageY}e.dragmousedown={left:d,top:n},t&&o.preventDefault&&o.preventDefault();var c=a(o.target).coord();e.dragmousedownoffset={left:parseInt(d)-parseInt(c.left),top:parseInt(n-c.top)}}),this.addHandler(l,s,function(o){if(!e.showgroupsheader)return!0;if(e._isColumnInGroups(r.displayfield))return l.css("cursor")!="col-resize",!0;if(e.dragmousedown){var d=o.pageX,n=o.pageY;if(t){var f=e.getTouches(o),h=f[0];d=h.pageX,n=h.pageY}if(s={left:d,top:n},!e.dragstarted&&e.dragcolumn==null){var c=Math.abs(s.left-e.dragmousedown.left),p=Math.abs(s.top-e.dragmousedown.top);(c>3||p>3)&&(e._createdragcolumn(l,s,!0),a.data(e.dragcolumn[0],"datarecord",r.displayfield),o.preventDefault&&o.preventDefault())}}})},_rendergroupcolumn:function(r,l){var e=a('<div style="float: left; position: relative;"></div>');if(this.rtl&&e.css("float","right"),this.groupcolumnrenderer!=null&&(e[0].innerHTML=this.groupcolumnrenderer(r),e.addClass(this.toThemeProperty("jqx-grid-group-column")),e.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){e[0].innerHTML==""&&(e[0].innerHTML='<a style="float: left;" href="#">'+r+"</a>"),this.rtl&&(e[0].innerHTML='<a style="float: right;" href="#">'+r+"</a>");var t=this.rtl?"left":"right";this.groupcolumnrenderer!=null&&(e[0].innerHTML=this.groupcolumnrenderer(r),e.addClass(this.toThemeProperty("jqx-grid-group-column")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")));var i='<div style="float: '+t+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(i='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){var i='<div style="float: '+t+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';a.jqx.browser.msie&&a.jqx.browser.version<8&&(i='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}e[0].innerHTML+=i}else e[0].innerHTML==""&&(e[0].innerHTML='<a href="#">'+r+"</a>");if(this.sortable){var s=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var s=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.rtl){var s=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var s=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}s.css("display","none"),o.css("display","none"),a.jqx.browser.msie&&a.jqx.browser.version<8&&(s.css("float","left"),o.css("float","left")),e.append(s),e.append(o),a.data(document.body,"groupsortelements"+l,{sortasc:s,sortdesc:o})}return e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-grid-group-column")),e},_rendergroup:function(r,l,e,t,i,s,o){var d=l,n=l.cells[e.level];this.rtl&&(n=l.cells[l.cells.length-1-e.level]);var f=this._findgroupstate(e.uniqueid);if(e.bounddata.subGroups.length>0||e.bounddata.subItems.length>0){var h=this.rtl?"-rtl":"",c=this.toThemeProperty("jqx-icon-arrow-right");h&&(c=this.toThemeProperty("jqx-icon-arrow-left")),f?n.className+=" "+this.toThemeProperty("jqx-grid-group-expand"+h)+" "+this.toThemeProperty("jqx-icon-arrow-down"):n.className+=" "+this.toThemeProperty("jqx-grid-group-collapse"+h)+" "+c}var p=this._getColumnText(this.groups[e.level]).label,v=this.groupindentwidth,x=this.rowdetails&&this.showrowdetailscolumn?(1+r)*v:r*v,w=o-x,m=e.level+1;this.rtl&&(m=0);for(var g=d.cells[m],b=2;g!=null&&g.style.display=="none"&&b<d.cells.length;)g=d.cells[m+b-1],b++;var _=a(g);if(g){if(g.style.width=parseInt(w)+"px",g.className.indexOf("jqx-grid-cell-filter")!=-1&&_.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),g.className.indexOf("jqx-grid-cell-sort")!=-1&&_.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),g.className.indexOf("jqx-grid-cell-pinned")!=-1&&_.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),this.groupsrenderer!=null){var y={group:e.group,level:e.level,parent:e.bounddata.parentItem,subGroups:e.bounddata.subGroups,subItems:e.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[e.level]).column},j=this.groupsrenderer(p+": "+e.group,e.group,f,y);if(j)g.innerHTML=j,l.classList.add("jqx-grid-groups-custom-row"),this.theme&&l.classList.add("jqx-grid-groups-custom-row-"+this.theme);else{var C=e.bounddata.subItems.length>0?e.bounddata.subItems.length:e.bounddata.subGroups.length;if(this.showgroupaggregates){var L=e.bounddata.subItems.length>0?e.bounddata.subItems:e.bounddata.subGroups;C=0;for(var k=0;k<L.length;k++)L[k].totalsrow||C++}g.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+e.group+" ("+C+")</span></div>"}}else{var O=this._getcolumnbydatafield(this.groups[e.level]),X=e.group;if(O!=null){O.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(X)?X=a.jqx.dataFormat.formatdate(X,O.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(X)&&(X=a.jqx.dataFormat.formatnumber(X,O.cellsformat,this.gridlocalization)));var C=e.bounddata.subItems.length>0?e.bounddata.subItems.length:e.bounddata.subGroups.length;if(this.showgroupaggregates){var L=e.bounddata.subItems.length>0?e.bounddata.subItems:e.bounddata.subGroups;C=0;for(var k=0;k<L.length;k++)L[k].totalsrow||C++}g.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+X+" ("+C+")</span></div>"}else throw new Error("jqxGrid: Unable to find '"+this.groups[e.level]+"' group in the Grid's columns collection.")}if(this.rtl){O||(O=this._getcolumnbydatafield(this.groups[e.level]));var P=this.hScrollBar.css("visibility")=="hidden"?0:this.hScrollInstance.max-this.hScrollInstance.value,T=this.vScrollBar.css("visibility")=="hidden"?0:this.scrollbarsize+6,x=this.rowdetails&&this.showrowdetailscolumn?(2+e.level)*v:(1+e.level)*v;g.style.width=o+parseInt(P)-x-T+"px",_.addClass(this.toThemeProperty("jqx-rtl"));var I=a(l.cells[l.cells.length-1]).css("z-index");_.css("z-index",I);var z=_.find("div"),w=z.width();z.css("left","100%");var q=this.columns.records[l.cells.length-2-e.level]!=null?this.columns.records[l.cells.length-2-e.level].pinned:!1;if(this.table.width()<o&&(o=this.table.width(),this.vScrollBar.css("visibility")!="hidden"&&(o+=this.vScrollBar.outerWidth())),O.pinned||q)this.rowdetails&&this.showrowdetailscolumn&&(o+=30),z.css("margin-left",-w),g.style.width=o+P-x-T+"px";else{var P=this.hScrollBar.css("visibility")=="hidden"?0:this.hScrollInstance.max;g.style.width=o+P-x-T+"px";var w=z.width();z.css("margin-left",-w)}}}}})})(jqxBaseFramework)})();(function(){typeof document>"u"||(function(a){a.extend(a.jqx._jqxGrid.prototype,{_exportData:function(r,l,e,t){var i=this,s=typeof l=="string"?l:l.fileName;s||(s="jqxGrid"),(!l||typeof l=="string")&&(l={header:!0,filterBy:null,groupBy:null,style:null,fileName:s,pageOrientation:"portrait",expandChart:"+",collapseChar:"-"});var o=new a.jqx.dataAdapter.DataExporter({exportHeader:l.header});o.expandChar=l.expandChar,o.collapseChar=l.collapseChar,o.pageOrientation=l.pageOrientation,o.style=l.style,o.filterBy=l.filterBy,o.groupBy=l.groupBy,t&&(o.addImageToCell=t.addImageToCell,o.headerContent=t.headerContent,o.footerContent=t.footerContent,o.setRowHeight=t.setRowHeight,o.cellFormatFunction=t.cellFormatFunction,o.freezeHeader=t.freezeHeader,o.exportAsTable=t.exportAsTable,o.onlySelected=t.onlySelected,o.autoConvertFormulas=t.autoConvertFormulas);var d=[],n=i.columngroups||[],f=0;if(n)for(var h=0;h<n.length;h++){var c=n[h];c.label=c.text}for(var h=0;h<i.columns.records.length;h++){var c=i.columns.records[h];c.exportable&&i.columns.records[h].datafield!==null&&(d[f++]={label:i.columns.records[h].text,width:i.columns.records[h].width?i.columns.records[h].width+"px":"100px",dataField:i.columns.records[h].datafield,columnGroup:i.columns.records[h].columnGroup||i.columns.records[h].columngroup})}if(o.header={columns:d,columngroups:n},!l.style){var p=window.getComputedStyle(i.element),v=window.getComputedStyle(i.columns.records.length>0&&i.columns.records[0].element?i.columns.records[0].element:i.host.find(".jqx-grid-header")[0]),x=window.getComputedStyle(i.host.find(".jqx-grid-header")[0]),w=i.offsetWidth===0||i.offsetHeight===0;if(!w){for(var m=function(N){var A="Helvetica",M=N.fontSize,Q=N.borderRightColor,U=N.backgroundColor,Y=N.color,E=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),R=function(F){return isNaN(F)?"00":E[(F-F%16)/16]+E[F%16]},$=function(F){if(F.toString().indexOf("rgba")!=-1){var W=Y.split(","),V=parseInt(W[0].substring(5)),le=parseInt(W[1]),re=parseInt(W[2]);if(W[3])var ae=parseFloat(W[3].substring(1,4));else var ae=1;var ee={r:V,g:le,b:re},te=i._rgbToHex(ee);return V==0&&le==0&&re==0&&ae==0?"#ffffff":"#"+te}return F=F.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),F?"#"+R(F[1])+R(F[2])+R(F[3]).toUpperCase():"#ffffff"};return{borderColor:$(Q),fontSize:M,fontFamily:A,color:$(Y),backgroundColor:$(U)}},g=m(p),b=m(v),_=m(x),y={height:"30px",border:"1px solid "+g.borderColor,fontFamily:_.fontFamily,fontSize:_.fontSize,color:_.color,backgroundColor:b.backgroundColor,fontWeight:"400"},j={border:"1px solid "+g.borderColor,fontFamily:g.fontFamily,fontSize:g.fontSize},C={height:i.rowsheight+"px"},h=0;h<i.columns.records.length;h++){var c=i.columns.records[h];if(c.exportable){y[c.datafield]={textAlign:c.align,width:c.width+"px",format:c.cellsformat||""};var L=c.cellsformat||"";c.dataType==="date"?L="d":c.dataType==="dateTime"?L="D":c.dataType==="time"&&(L="t");var k={textAlign:c.cellsalign,format:L};j[c.datafield]=k}}i.altrows&&(C.alternationCount=2,C.alternationStart=0,C.alternationEnd=0,C.alternationIndex0Color=g.color,C.alternationIndex0BackgroundColor=g.backgroundColor,C.alternationIndex1Color=g.color,C.alternationIndex1BackgroundColor="#F5F5F5"),o.style={border:"1px solid "+g.borderColor,borderCollapse:"collapse",header:y,columns:j,rows:C}}}if(t&&t.getSpreadsheets){var O=t.getSpreadsheets();if(O){o.spreadsheets=O;for(var y=o.style.header,j=o.style.columns,X=0;X<O.length;X++)for(var P=O[X],T=P.columns,h=0;h<T.length;h++){var c=T[h];if(typeof c=="string"&&(c={label:c,dataField:c,allowExport:!0,visible:!0}),!(c.allowExport!==void 0&&!c.allowExport)&&!(c.visible!==void 0&&!c.visible)){c.label=c.text,y[c.dataField]={textAlign:c.align||"left",verticalAlign:"center",width:c.computedWidth?c.computedWidth+"px":"100px",format:c.cellsFormat||""};var L=c.cellsFormat||"";if(L||(c.dataType==="date"?L="d":c.dataType==="dateTime"?L="D":c.dataType==="time"&&(L="t")),i.locale&&L&&L.indexOf("c")>=0&&r==="xlsx"&&i.locale!==""&&i.locale!=="en"){var I=i._getCurrencyByLocale(i.locale);L=I+"x"+L}var k={textAlign:c.cellsAlign||"left",format:L};j[c.dataField]=k}}}}for(var z=e||this.getrows(),q=[],h=0;h<z.length;h++){var B=z[h];if(!B.hidden){for(var S={},D=0;D<i.columns.records.length;D++){var c=i.columns.records[D];c.exportable&&(S[c.datafield]=B[c.datafield])}q.push(S)}}if(!l.groupBy&&i.groups&&i.groups.length&&(o.groupBy=i.groups.slice(0)),t&&t.formatData){var H=function(N){o.exportData(N,r,l.fileName,null)};t.formatData(q,d,q,H)}else var G=o.exportData(q,r,l.fileName,null);return G},exportview:function(r,l,e,t){var i=this;i._exportData(r,l,e,t)},exportdata:function(r,l,e,t,i,s,o){if(!a.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";if(r==="xlsx"){this._exportData("xlsx",l);return}e==null&&(e=!0);var d=this;if(t==null){var t=this.getrows();if(t.length==0)throw"No data to export."}this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo);var n=this.hScrollInstance.value;this.hScrollInstance.setPosition(0),this._renderrows(this.virtualsizeinfo);var f=i??!1,h={},c={},p=this.host.find(".jqx-grid-cell:first"),v=this.host.find(".jqx-grid-cell-alt:first");p.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),p.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),v.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),v.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),p.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),p.removeClass(this.toThemeProperty("jqx-fill-state-hover")),v.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),v.removeClass(this.toThemeProperty("jqx-fill-state-hover"));for(var x="cell",w=1,m="column",g=1,b=[],_=0;_<this.columns.records.length;_++){var y=this.columns.records[_];if(y.cellclassname!="")if(y.customCellStyles=new Array,typeof y.cellclassname=="string")for(var j=0;j<t.length;j++)y.customCellStyles[j]=y.cellclassname;else for(var j=0;j<t.length;j++){var C=this.getrowboundindex(j),L=y.cellclassname(C,y.displayfield,t[j][y.displayfield],t[j]);L&&(y.customCellStyles[j]=L)}}var k=new Array,O=null,X=null,P=null;if(a.each(this.columns.records,function(D){var H=a(d.table[0].rows[0].cells[D]);if(d.table[0].rows.length>1){var G=a(d.table[0].rows[1].cells[D]);P||(P=G)}X||(X=H);var N=this,A=function(R){if(R.removeClass(d.toThemeProperty("jqx-grid-cell-selected")),R.removeClass(d.toThemeProperty("jqx-fill-state-pressed")),R.removeClass(d.toThemeProperty("jqx-grid-cell-hover")),R.removeClass(d.toThemeProperty("jqx-fill-state-hover")),N.customCellStyles)for(var $ in N.customCellStyles)R.removeClass(N.customCellStyles[$])};if(A(H),G&&A(G),this.displayfield==null)return!0;d.showaggregates&&d.getcolumnaggregateddata&&b.push(d.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,t));var M=d._getexportcolumntype(this);this.exportable&&(!this.hidden||f)&&(h[this.displayfield]={},h[this.displayfield].text=this.text,h[this.displayfield].width=parseInt(this.width),isNaN(h[this.displayfield].width)&&(h[this.displayfield].width=60),h[this.displayfield].formatString=this.cellsformat,h[this.displayfield].localization=d.gridlocalization,h[this.displayfield].type=M,h[this.displayfield].cellsAlign=this.cellsalign,h[this.displayfield].hidden=!e,h[this.displayfield].displayfield=this.displayfield,k.push(h[this.displayfield])),x="cell"+w;var Q=a(this.element);if(this.element==null&&(Q=a(this.uielement)),!O)O=Q;else if(!N._rendered){Q=O,H=X,G=P;var U=d.toTP("jqx-grid-cell")+" "+d.toTP("jqx-item");H[0].className=U,U+=d.toTP("jqx-grid-cell-alt"),G&&(G[0].className=U)}if(m="column"+g,r=="html"||r=="xls"||r=="pdf"){var Y=function(R,$,F,W,V,le,re,ae,ee){if(c[R]={},$!=null){if($[0].offsetWidth==0||$[0].offsetHeight==0){F||(c[R].dataType=M);return}c[R]["font-size"]=$.css("font-size"),c[R]["font-weight"]=$.css("font-weight"),c[R]["font-style"]=$.css("font-style"),c[R]["background-color"]=le._getexportcolor($.css("background-color")),c[R].color=le._getexportcolor($.css("color")),c[R]["border-color"]=le._getexportcolor($.css("border-top-color")),F?c[R]["text-align"]=V.align:(c[R]["text-align"]=V.cellsalign,c[R].formatString=V.cellsformat,c[R].dataType=M),(r=="html"||r=="pdf")&&(c[R]["border-top-width"]=$.css("border-top-width"),c[R]["border-left-width"]=$.css("border-left-width"),c[R]["border-right-width"]=$.css("border-right-width"),c[R]["border-bottom-width"]=$.css("border-bottom-width"),c[R]["border-top-style"]=$.css("border-top-style"),c[R]["border-left-style"]=$.css("border-left-style"),c[R]["border-right-style"]=$.css("border-right-style"),c[R]["border-bottom-style"]=$.css("border-bottom-style"),F?(re==0&&(c[R]["border-left-width"]=$.css("border-right-width")),c[R]["border-top-width"]=$.css("border-right-width"),c[R]["border-bottom-width"]=$.css("border-bottom-width")):re==0&&(c[R]["border-left-width"]=$.css("border-right-width")),c[R].height=$.css("height")),V.exportable&&(!V.hidden||f)&&(ae==!0?(h[V.displayfield].customCellStyles||(h[V.displayfield].customCellStyles=new Array),h[V.displayfield].customCellStyles[ee]=R):F?h[V.displayfield].style=R:W?h[V.displayfield].cellAltStyle=R:h[V.displayfield].cellStyle=R)}};if(Y(m,Q,!0,!1,this,d,D),g++,Y(x,H,!1,!1,this,d,D),d.altrows&&(x="cellalt"+w,Y(x,G,!1,!0,this,d,D)),this.customCellStyles){for(var E in N.customCellStyles)H.removeClass(N.customCellStyles[E]);for(var E in N.customCellStyles)H.addClass(N.customCellStyles[E]),Y(x+N.customCellStyles[E],H,!1,!1,this,d,D,!0,E),H.removeClass(N.customCellStyles[E])}w++}}),a.each(this.columns.records,function(D){h[this.displayfield]&&(h[this.displayfield].columnsDataFields=k)}),this.showaggregates){var T=[],I=r=="xls"?"_AG":"",z=this.groupable?this.groups.length:0;this.rowdetails&&z++,this.selectionmode==="checkbox"&&z++,b.length>0&&(a.each(this.columns.records,function(D){if(this.aggregates){for(var H=0;H<this.aggregates.length;H++)if(T[H]||(T[H]={}),T[H]){var G=d._getaggregatename(this.aggregates[H]),N=d._getaggregatetype(this.aggregates[H]),A=b[D-z];A&&(T[H][this.displayfield]=I+G+": "+A[N])}}}),a.each(this.columns.records,function(D){for(var H=0;H<T.length;H++)T[H][this.displayfield]==null&&(T[H][this.displayfield]=I)})),a.each(T,function(){t.push(this)})}var q=this,B=a.jqx.dataAdapter.ArrayExporter(t,h,c);if(l==null){this._renderrows(this.virtualsizeinfo);var S=B.exportTo(r);return this.showaggregates&&a.each(T,function(){t.pop(this)}),setTimeout(function(){q.exporting=!1},50),this.hScrollInstance.setPosition(n),this._renderrows(this.virtualsizeinfo),S}else B.exportToFile(r,l,s,o);this.showaggregates&&a.each(T,function(){t.pop(this)}),this._renderrows(this.virtualsizeinfo),setTimeout(function(){q.exporting=!1},50),this.hScrollInstance.setPosition(n),this._renderrows(this.virtualsizeinfo)},_getexportcolor:function(r){var l=r;if(r=="transparent"&&(l="#FFFFFF"),(!l||!l.toString())&&(l="#FFFFFF"),l.toString().indexOf("rgb")!=-1){var e=l.split(",");if(l.toString().indexOf("rgba")!=-1){var i=parseInt(e[0].substring(5)),s=parseInt(e[1]),o=parseInt(e[2]),t=parseFloat(e[3].substring(1,4)),d={r:i,g:s,b:o},n=this._rgbToHex(d);return i==0&&s==0&&o==0&&t==0?"#ffffff":"#"+n}var i=parseInt(e[0].substring(4)),s=parseInt(e[1]),o=parseInt(e[2].substring(1,4)),d={r:i,g:s,b:o},n=this._rgbToHex(d);return"#"+n}else if(l.toString().indexOf("#")!=-1&&l.toString().length==4){var f=l.toString().substring(1,4);l+=f}return l},_rgbToHex:function(r){return this._intToHex(r.r)+this._intToHex(r.g)+this._intToHex(r.b)},_intToHex:function(r){var l=parseInt(r).toString(16);return l.length==1&&(l="0"+l),l.toUpperCase()},_getexportcolumntype:function(r){var l=this,e="string",t=l.source.datafields||(l.source._source?l.source._source.datafields:null);if(t){var i="";if(a.each(t,function(){if(this.name==r.displayfield)return this.type&&(i=this.type),!1}),i)return i}if(r!=null){if(this.dataview.cachedrecords==null)return e;var s=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return s=this[r.displayfield],!1});else{if(this.dataview.cachedrecords.length==0)return e;if(s=this.dataview.cachedrecords[0][r.displayfield],s!=null&&s.toString()=="")return"string"}if(s!=null){if(r.cellsformat.indexOf("c")!=-1||r.cellsformat.indexOf("n")!=-1||r.cellsformat.indexOf("p")!=-1)return"number";if(r.cellsformat.indexOf("d")!=-1||r.cellsformat.indexOf("y")!=-1||r.cellsformat.indexOf("M")!=-1||r.cellsformat.indexOf("m")!=-1||r.cellsformat.indexOf("t")!=-1)return"date";if(typeof s=="boolean")e="boolean";else if(a.jqx.dataFormat.isNumber(s))e="number";else{var o=new Date(s);if(o.toString()=="NaN"||o.toString()=="Invalid Date")if(a.jqx.dataFormat)if(o=a.jqx.dataFormat.tryparsedate(s),o!=null){if(o&&o.getFullYear()&&o.getFullYear()==1970&&o.getMonth()==0&&o.getDate()==1){var d=new Number(s);return isNaN(d)?"string":"number"}return"date"}else e="string";else e="string";else e="date"}}}return e}})})(jqxBaseFramework)})();(function(){typeof document>"u"||(function(a){a.extend(a.jqx._jqxGrid.prototype,{autoresizecolumns:function(r,l,e){r!="cells"&&r!="all"&&r!="column"&&(r="all");var t=this.that,i=this.getrows();this.pageable&&(i=this.dataview.rows,this.groupable&&(i=this.dataview.records)),l==null?l=0:l=parseInt(l);var s=i.length;if(s==null&&i!=null){var o=new Array;a.each(i,function(I){o.push(this)}),i=o,s=i.length}var d=a("<span></span>");d.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-grid-cell")),a(document.body).append(d);var n=[],f=[],h=[],c=[],p=t.host.width(),v=0;t.vScrollBar[0].style.visibility!="hidden"&&(p-=this.scrollbarsize+5),p<0&&(p=0);for(var x=0;x<s;x++)for(var w=i[x],m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];if(!g.hidden&&!(this.groups.length>0&&m<=this.groups.length-1)){f[g.displayfield]==null&&(f[g.displayfield]=0),h[g.displayfield]==null&&(h[g.displayfield]="");var b=w[g.displayfield];if(g.cellsformat!="")a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(b)?b=a.jqx.dataFormat.formatdate(b,g.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(b)&&(b=a.jqx.dataFormat.formatnumber(b,g.cellsformat,this.gridlocalization)));else if(g.cellsrenderer){var _=t._defaultcellsrenderer(b,g),y=g.cellsrenderer(x,g.datafield,b,_,g.getcolumnproperties(),w);y!=null&&(b=a(y).text())}if((r==null||r=="cells"||r=="all")&&b!=null&&b!=null){var n=b.toString().length,j=b.toString(),C=j.replace(/[^A-Z]/g,"").length;if(n>f[g.displayfield]&&(f[g.displayfield]=n,h[g.displayfield]=b,c[g.displayfield]=C),n>0&&n>=C){var L=C*20+(n-C)*15,k=c[g.displayfield]*20+(f[g.displayfield]-c[g.displayfield])*15;L>k&&L>0&&k>0&&(f[g.displayfield]=n,h[g.displayfield]=b,c[g.displayfield]=C)}}if(r=="column"||r=="all"){if((g.text===null||g.text===void 0)&&(g.text=""),g.text.toString().length>f[g.displayfield]){h[g.displayfield]=g.text,f[g.displayfield]=g.text.length;var j=g.text.toString(),C=j.replace(/[^A-Z]/g,"").length;c[g.displayfield]=C}var b=g.text,n=b.toString().length,j=b.toString(),C=j.replace(/[^A-Z]/g,"").length;if(n>0&&n>=C){var L=C*20+(n-C)*15,k=c[g.displayfield]*20+(f[g.displayfield]-c[g.displayfield])*15;L>k&&L>0&&k>0&&(f[g.displayfield]=n,h[g.displayfield]=b,c[g.displayfield]=C)}}}}if(this.columns.records){for(var O=0,m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];if(g.displayfield){h[g.displayfield]==null&&(h[g.displayfield]=g.text),d[0].className.indexOf("jqx-grid-column-header")>=0&&d.removeClass(this.toThemeProperty("jqx-grid-column-header")),h[g.displayfield]==g.text&&d.addClass(this.toThemeProperty("jqx-grid-column-header")),d[0].innerHTML=this.escape_HTML(h[g.displayfield].toString());var X=d.outerWidth()+10;if(d.children().length>0&&(X=d.children().outerWidth()+10),a.jqx.browser.msie&&a.jqx.browser.version<8&&(X+=10),this.filterable&&this.showfilterrow&&(X+=5),X+=l,X+=20,X>g.maxwidth&&(X=g.maxwidth),g._width!=null&&(g.__width=g._width),g._width=null,g.maxwidth=="auto"||X<=g.maxwidth){var P=g.width;X<g.minwidth&&(X=g.minwidth),g.width=X,g._percentagewidth!=null&&(g._percentagewidth=null),this._raiseEvent(14,{columntext:g.text,column:g.getcolumnproperties(),datafield:g.datafield,displayfield:g.displayfield,oldwidth:P,newwidth:X})}v+=g.width,O++}}if(v<p&&e)for(var T=Math.round((p-v-2)/O),m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];g.displayfield&&(g._width=null,g.width+=T)}d.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(var m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];g.__width!=null&&(g._width=g.__width)}}},autoresizecolumn:function(r,l,e){if(l!="cells"&&l!="all"&&l!="column"&&(l="all"),r==null)return!1;var t=this.getrows();this.pageable&&(t=this.dataview.rows,this.groupable&&(t=this.dataview.records));var i=this.getcolumn(r);if(i==null)return!1;e==null?e=0:e=parseInt(e);var s=t.length,o=a("<span></span>");o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),a(document.body).append(o);var d=0,n="",f=0,h=this.that,c=h.host.width();if(h.vScrollBar[0].style.visibility!="hidden"&&(c-=this.scrollbarsize+5),c<0&&(c=0),l==null||l=="cells"||l=="all")for(var p=0;p<s;p++){var v=t[p][i.displayfield];if(i.cellsformat!="")a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(v)?v=a.jqx.dataFormat.formatdate(v,i.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(v)&&(v=a.jqx.dataFormat.formatnumber(v,i.cellsformat,this.gridlocalization)));else if(i.cellsrenderer){var x=i.cellsrenderer(p,i,v);x!=null&&(v=a(x).text())}if(v!=null&&v!=null){var w=v.toString().length,m=v.toString(),g=m.replace(/[^A-Z]/g,"").length;if(w>d&&(d=w,n=v,f=g),w>0&&w>=g){var b=g*20+(w-g)*15,_=f*20+(d-f)*15;b>_&&b>0&&_>0&&(d=w,n=v,f=g)}}}if(l=="column"||l=="all"){i.text.toString().length>d&&(n=i.text);var v=i.text.toString(),w=v.toString().length,m=v.toString(),g=m.replace(/[^A-Z]/g,"").length;if(w>0&&w>=g){var b=g*20+(w-g)*15,_=f*20+(d-f)*15;b>_&&b>0&&_>0&&(d=w,n=v,f=g)}}n==null&&(n=i.text),o[0].innerHTML=this.escape_HTML(n),n==i.text&&o.addClass(this.toThemeProperty("jqx-grid-column-header"));var y=o.outerWidth()+10;if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(y+=5),this.filterable&&this.showfilterrow&&(y+=5),y+=e,o.remove(),y>i.maxwidth&&(y=i.maxwidth),i.maxwidth=="auto"||y<=i.maxwidth){var j=i.width;y<i.minwidth&&(y=i.minwidth),i.width=y,i._width!=null&&(i.__width=i._width),i._width=null,i._percentagewidth!=null&&(i._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:i.text,column:i.getcolumnproperties(),datafield:r,displayfield:i.displayfield,oldwidth:j,newwidth:y}),this._renderrows(this.virtualsizeinfo),i._width!=null&&(i._width=i.__width)}},_handlecolumnsresize:function(){var r=this.that;if(this.columnsresize){var l=!1;r.isTouchDevice()&&r.touchmode!==!0&&(l=!0);var e="mousemove.resize"+this.element.id,t="mousedown.resize"+this.element.id,i="mouseup.resize"+this.element.id;if(l)var e=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,t=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,i=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(a(document),e),this.addHandler(a(document),e,function(n){var f=a.data(document.body,"contextmenu"+r.element.id);if(f!=null&&r.autoshowcolumnsmenubutton)return!0;if(r.resizablecolumn!=null&&!r.disabled&&r.resizing&&r.resizeline!=null){r.resizablecolumn.columnelement;var h=r.host.coord(),c=parseInt(r.resizestartline.coord().left),p=c-r._startcolumnwidth,v=r.resizablecolumn.column.minwidth;v=="auto"?v=0:v=parseInt(v);var x=r.resizablecolumn.column.maxwidth;x=="auto"?x=0:x=parseInt(x);var w=n.pageX;if(l){var m=r.getTouches(n),g=m[0];w=g.pageX}p+=v;var b=x>0?c+x:0,_=x==0?!0:r._startcolumnwidth+w-c<x;if(r.rtl)var _=!0;if(_){if(r.rtl){if(w>=h.left&&w<=h.left+r.host.width()&&(r.resizeline.css("left",w),l))return!1}else if(w>=h.left&&w>=p&&((b!=0&&n.pageX<b||b==0)&&r.resizeline.css("left",w),l))return!1}}if(!l&&r.resizablecolumn!=null)return!1}),this.removeHandler(a(document),t),this.addHandler(a(document),t,function(n){var f=a.data(document.body,"contextmenu"+r.element.id);if(f!=null&&r.autoshowcolumnsmenubutton)return!0;if(r.resizablecolumn!=null&&!r.disabled&&r.columnsresize){var h=r.resizablecolumn.columnelement;if(h.coord().top+h.height()+5<n.pageY){r.resizablecolumn=null;return}if(h.coord().top-5>n.pageY){r.resizablecolumn=null;return}if(r._startcolumnwidth=r.resizablecolumn.column.width,r.resizablecolumn.column._width=null,a(document.body).addClass("jqx-disableselect"),a(document.body).addClass("jqx-position-reset"),r.host.addClass("jqx-disableselect"),r.content.addClass("jqx-disableselect"),r._mouseDownResize=new Date,r.resizing=!0,r._lastmouseDownResize&&r.columnsautoresize&&r._lastmouseDownResize-r._mouseDownResize<300&&r._lastmouseDownResize-r._mouseDownResize>-500){var c=r.resizablecolumn.column;if(c.resizable){r.resizablecolumn.column.width;var p=r.hScrollBar[0].style.visibility;return r._resizecolumn=null,r.resizeline.hide(),r.resizestartline.hide(),r.resizebackground.remove(),r.resizablecolumn=null,r.columndragstarted=!1,r.dragmousedown=null,r.__drag=!1,r.autoresizecolumn(c.displayfield,"all"),p!=r.hScrollBar[0].style.visibility&&r.hScrollInstance.setPosition(0),r.rtl&&r._arrange(),r.autosavestate&&r.savestate&&r.savestate(),n.stopPropagation(),r.suspendClick=!0,setTimeout(function(){r.suspendClick=!1},100),!1}}r._lastmouseDownResize=new Date,r._resizecolumn=r.resizablecolumn.column,r.resizeline=r.resizeline||a('<div style="position: absolute;"></div>'),r.resizestartline=r.resizestartline||a('<div style="position: absolute;"></div>'),r.resizebackground=r.resizebackground||a('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),r.resizebackground.css("opacity",.01),r.resizebackground.css("cursor","col-resize"),r.resizeline.css("cursor","col-resize"),r.resizestartline.css("cursor","col-resize"),r.resizeline.addClass(r.toThemeProperty("jqx-grid-column-resizeline")),r.resizestartline.addClass(r.toThemeProperty("jqx-grid-column-resizestartline")),a(document.body).append(r.resizeline),a(document.body).append(r.resizestartline),a(document.body).append(r.resizebackground);var v=r.resizablecolumn.columnelement.coord();r.resizebackground.css("left",r.host.coord().left),r.resizebackground.css("top",r.host.coord().top),r.resizebackground.width(r.host.width()),r.resizebackground.height(r.host.height()),r.resizebackground.css("z-index",9999);var x=function(w){r.rtl?w.css("left",parseInt(v.left)):w.css("left",parseInt(v.left)+r._startcolumnwidth);var m=r._groupsheader(),g=m?r.groupsheader.height():0,b=r.showtoolbar?r.toolbarheight:0;g+=b;var _=r.showstatusbar?r.statusbarheight:0;g+=_;var y=0;r.pageable&&(y=r.pagerheight);var j=r.hScrollBar.css("visibility")=="visible"?17:0;w.css("top",parseInt(v.top)),w.css("z-index",99999),r.columngroups?w.height(r.host.height()+r.resizablecolumn.columnelement.height()-y-g-j-r.columngroupslevel*r.columnsheight):w.height(r.host.height()-y-g-j),r.enableanimations?w.show("fast"):w.show()};x(r.resizeline),x(r.resizestartline),r.dragmousedown=null}});var s=function(){if(a(document.body).removeClass("jqx-disableselect"),a(document.body).removeClass("jqx-position-reset"),(r.showfilterrow||r.showstatusbar||r.showtoolbar||r.enablebrowserselection)&&(r.host.removeClass("jqx-disableselect"),r.content.removeClass("jqx-disableselect")),!!r.resizing){r._mouseUpResize=new Date;var n=r._mouseUpResize-r._mouseDownResize;if(n<200){r.resizing=!1,r._resizecolumn!=null&&r.resizeline!=null&&r.resizeline.css("display")=="block"&&(r._resizecolumn=null,r.resizeline.hide(),r.resizestartline.hide(),r.resizebackground.remove());return}if(r.resizing=!1,!r.disabled){var f=r.host.width();if(r.vScrollBar[0].style.visibility!="hidden"&&(f-=20),f<0&&(f=0),r._resizecolumn!=null&&r.resizeline!=null&&r.resizeline.css("display")=="block"){var h=parseInt(r.resizeline.css("left")),c=parseInt(r.resizestartline.css("left")),p=r._startcolumnwidth+h-c;if(r.rtl)var p=r._startcolumnwidth-h+c;var v=r._resizecolumn.width;r._closemenu(),p<r._resizecolumn.minwidth&&(p=r._resizecolumn.minwidth),r._resizecolumn.width=p,r._resizecolumn._percentagewidth!=null&&(r._resizecolumn._percentagewidth=p/f*100);for(var x=0;x<r._columns.length;x++)if(r._columns[x].datafield===r._resizecolumn.datafield){r._columns[x].width=r._resizecolumn.width,r._columns[x].width<r._resizecolumn.minwidth&&(r._columns[x].width=r._resizecolumn.minwidth);break}var w=r.hScrollBar[0].style.visibility;r._updatecolumnwidths(),r._updatecellwidths(),r._raiseEvent(14,{columntext:r._resizecolumn.text,column:r._resizecolumn.getcolumnproperties(),datafield:r._resizecolumn.datafield,oldwidth:v,newwidth:p}),r._renderrows(r.virtualsizeinfo),r.autosavestate&&r.savestate&&r.savestate(),w!=r.hScrollBar[0].style.visibility&&r.hScrollInstance.setPosition(0),r.rtl&&r._arrange(),r._resizecolumn=null,r.resizeline.hide(),r.resizestartline.hide(),r.resizebackground.remove(),r.resizablecolumn=null}else r.resizablecolumn=null}}};try{if(document.referrer!=""||window.frameElement){var o=null;if(window.top!=null&&window.top!=window.self&&window.parent&&document.referrer&&(o=document.referrer),o&&o.indexOf(document.location.host)!=-1){var d=function(n){s()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",d,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",d)}}}catch{}this.removeHandler(a(document),i),this.addHandler(a(document),i,function(n){var f=a.data(document.body,"contextmenu"+r.element.id);if(f!=null&&r.autoshowcolumnsmenubutton)return!0;s()})}}})})(jqxBaseFramework)})();(function(){typeof document>"u"||(function(a){a.extend(a.jqx._jqxGrid.prototype,{getcolumnindex:function(r){var l=this.getcolumn(r),e=this.columns.records.indexOf(l);return e},setcolumnindex:function(r,l,e){var c=this.getcolumn(r);if(!c.pinned&&!c.hidden&&!c.checkboxcolumn&&!c.grouped){var t=this.columns.records.indexOf(c);this.columns.records.splice(t,1),this.columns.records.splice(l,0,c);var i=0,s=this.headerZIndex;this.columnsrow.children().detach();var o=this.toThemeProperty("jqx-grid-cell");o+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(a(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var d=this,n=null;if(d.filterrow!=null)var n=a(d.filterrow.children()[0]);this.columnsrow[0].cells=[];var f=!1;if(a.each(this.columns.records,function(v,x){var w=this.uielement;d.columnsrow.append(w),d.rtl?w.css("z-index",s++):w.css("z-index",s--);var m=this.width;if(w.css("left",i),d.columnsrow[0].cells[d.columnsrow[0].cells.length]=w[0],d.filterrow){var g=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+o+'"></div>');n.append(g),g.css("left",i),g.css("z-index",s+1),g.width(this.width),g[0].left=i,g.append(this._filterwidget),d.filterrow[0].cells[d.filterrow[0].cells.length]=g[0]}this.hidden&&(f=!0),this.hidden&&this.hideable||(i+=m)}),this.groupable){var h=this.groups.length;h>0&&t-h>=0&&(t-=h,l-=h)}this.rowdetails&&t-1>=0&&(t--,l--),this.selectionmode=="checkbox"&&t-1>=0&&(t--,l--);var c=this._columns[t],p=this._columns[l];this._columns.splice(t,1),this._columns.splice(l,0,c),this._raiseEvent(24,{columntext:c.text,datafield:c.datafield,oldindex:t,newindex:l}),e!=!1&&(f||c.columntype=="checkbox"||p&&p.columntype==="checkbox"?(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths()):(this._updatecolumnwidths(),this._updatecellwidths()),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this.showeverpresentrow&&this._updateaddnewrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))}},_pinnedColumnsLength:function(){var r=0;return a.each(this.columns.records,function(){this.pinned&&r++,this.grouped&&r++}),this.selectionmode=="checkbox"&&r++,r},_handlecolumnsreorder:function(){var r=this,l=-1,e=!1;if(r.columnsreorder){var t="mousemove.reorder"+this.element.id,i="mousedown.reorder"+this.element.id,s="mouseup.reorder"+this.element.id,o=!1;this.isTouchDevice()&&this.touchmode!==!0&&(o=!0,t=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,i=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,s=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(a(document),t),this.addHandler(a(document),t,function(d){if(r.resizing)return!0;if(r.reordercolumn!=null){var n=parseInt(d.pageX),f=parseInt(d.pageY);if(o){var h=r.getTouches(d),c=h[0];c!=null&&(n=parseInt(c.pageX),f=parseInt(c.pageY))}var p=r.host.coord(),v=parseInt(p.left),x=parseInt(p.top);(r.dragmousedownoffset==null||r.dragmousedownoffset==null)&&(r.dragmousedownoffset={left:0,top:0});var w=parseInt(n)-parseInt(r.dragmousedownoffset.left),m=parseInt(f)-parseInt(r.dragmousedownoffset.top);if(r.reordercolumn.css({left:w+"px",top:m+"px"}),e=!1,n>=v&&n<=v+r.host.width()&&f>=x&&f<=x+r.host.height()&&(e=!0),l=-1,e){r.reordercolumnicon.removeClass(r.toThemeProperty("jqx-grid-dragcancel-icon")),r.reordercolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon"));var g=r.columnsheader.coord(),b=g.top+r.columnsheader.height();r.columnsdropline!=null&&(f>=g.top&&f<=b?l=r._handlereordercolumnsdroplines(n):r.columnsdropline.fadeOut("slow"))}else r.columnsdropline!=null&&r.columnsdropline.fadeOut("slow"),r.reordercolumnicon.removeClass(r.toThemeProperty("jqx-grid-drag-icon")),r.reordercolumnicon.addClass(r.toThemeProperty("jqx-grid-dragcancel-icon"));if(o)return d.preventDefault(),d.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(a(document),i),this.addHandler(a(document),i,function(d){if(r.resizing)return!0;r.columnsbounds=new Array;var n=r.host.coord().left,f=r.host.coord().top;r.showtoolbar&&(f+=r.toolbarheight),r.groupable&&r.showgroupsheader&&(f+=r.groupsheaderheight),r.showfilterbar&&(f+=r.toolbarheight);var h=0;a.each(r.columns.records,function(c){var p=this;if(p.hidden)return r.columnsbounds[r.columnsbounds.length]={top:f,column:p,left:n,width:0,height:2+r.rowsheight},!0;h==0&&(r.rtl?r.hScrollBar.css("visibility")!="hidden"?n=parseInt(r.host.coord().left)-r.hScrollInstance.max+r.hScrollInstance.value:r.vScrollBar.css("visibility")=="hidden"?n=a(p.element).coord().left:n=a(p.element).coord().left-r.vScrollBar.width()-r.host.offset().left:n=parseInt(r.host.coord().left)-r.hScrollInstance.value),h++;var v=2+r.columnsheight;r.columnshierarchy&&(f=a(p.uielement).coord().top,v=a(p.uielement).height()),r.columnsbounds[r.columnsbounds.length]={top:f,column:p,left:n,width:p.width,height:v},n+=p.width})}),this.removeHandler(a(document),s),this.addHandler(a(document),s,function(d){if(r.resizing)return!0;if(r.__drag=!1,a(document.body).removeClass("jqx-disableselect"),parseInt(d.pageX),parseInt(d.pageY),o){var n=r.getTouches(d),f=n[0];parseInt(f.pageX),parseInt(f.pageY)}var h=r.host.coord();parseInt(h.left);var c=parseInt(h.top);if(r.groupsheader.height(),r.showtoolbar&&(c+=r.toolbarheight),r.showfilterbar&&(c+=r.toolbarheight),r.columndragstarted=!1,r.dragmousedown=null,r.reordercolumn!=null){var p=a.data(r.reordercolumn[0],"reorderrecord"),v=r.columns.records.indexOf(r.getcolumn(p));r.reordercolumn.remove(),r.reordercolumn=null;var x=0;if(x+=r._pinnedColumnsLength(),p!=null){if(e&&l!=-1){var w=l.index;if(w>=x){var m=r.columns.records[w];if(m!=null){var g=r.columns.records.indexOf(r.getcolumn(m.datafield));if(m.datafield==null)var g=r.columns.records.indexOf(r.getcolumnbytext(m.text));if(r.columngroups){var b=m;if(v<g&&l.position=="before"&&(b=r.columns.records[g-1]),b.columngroup!=r.getcolumn(p).columngroup){r.columnsdropline!=null&&(r.columnsdropline.remove(),r.columnsdropline=null);return}}v<g?l.position=="before"?r.setcolumnindex(p,g-1):r.setcolumnindex(p,g):v>g&&r.setcolumnindex(p,g),r.autosavestate&&r.savestate&&r.savestate()}}}r.columnsdropline!=null&&(r.columnsdropline.remove(),r.columnsdropline=null)}}})}},getcolumnbytext:function(r){var l=null;return this.columns.records&&a.each(this.columns.records,function(){if(this.text==r)return l=this,!1}),l},_handlereordercolumnsdroplines:function(r){var l=this,e=-1,t=l._pinnedColumnsLength(),i=parseInt(l.host.coord().left),s=i+l.host.width(),o=l.vScrollBar.css("visibility")!="hidden"?19:0;return l.rtl||(o=0),a.each(l.columnsbounds,function(d){if(d>=t){if(this.width==0)return!0;if(r<=this.left+this.width/2)return r>s?(l.columnsdropline.fadeOut(),!1):(l.columnsdropline.css("left",o+parseInt(this.left)+"px"),l.columnsdropline.css("top",parseInt(this.top)+"px"),l.columnsdropline.height(this.height),l.columnsdropline.fadeIn("slow"),e={index:d,position:"before"},!1);if(r>=this.left+this.width/2){if(this.left+this.width>s)return l.columnsdropline.fadeOut(),!1;l.columnsdropline.css("left",o+1+this.left+this.width),l.columnsdropline.css("top",this.top),l.columnsdropline.height(this.height),l.columnsdropline.fadeIn("slow"),e={index:d,position:"after"}}}}),e},_createreordercolumn:function(r,l,e){var t=this,i=l;t.reordercolumn&&t.reordercolumn.remove(),t.columnsdropline&&t.columnsdropline.remove(),t.reordercolumn=a("<div></div>");var s=r.clone();t.reordercolumn.css("z-index",999999),s.css("border-width","1px"),s.css("opacity","0.4");var o=a(s.find("."+t.toThemeProperty("jqx-grid-column-menubutton")));o.length>0&&o.css("display","none");var d=a(s.find(".jqx-icon-close"));d.length>0&&d.css("display","none"),t.reordercolumnicon=a('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumn.css("float","left"),t.reordercolumn.css("position","absolute"),t.host.coord(),s.width(r.width()+16),t.reordercolumn.append(s),t.reordercolumn.height(r.height()),t.reordercolumn.width(s.width()),t.reordercolumn.append(t.reordercolumnicon),a(document.body).append(t.reordercolumn),s.css("margin-left",0),s.css("left",0),s.css("top",0),t.reordercolumn.css("left",i.left+t.dragmousedown.left),t.reordercolumn.css("top",i.top+t.dragmousedown.top),e!=null&&e&&(t.columnsdropline=a('<div style="z-index: 9999; display: none; position: absolute;"></div>'),t.columnsdropline.width(2),t.columnsdropline.addClass(t.toThemeProperty("jqx-grid-group-drag-line")),a(document.body).append(t.columnsdropline))},_handlecolumnsdragreorder:function(r,l){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var e=this,s,t=!1;this.isTouchDevice()&&this.touchmode!==!0&&(t=!0);var i="mousedown.drag",s="mousemove.drag";t?(i=a.jqx.mobile.getTouchEventName("touchstart")+".drag",s=a.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(l,"dragstart",function(o){return!1}),this.addHandler(l,i,function(o){if(r.draggable==!1||e.resizing)return!0;e.__drag=!0;var d=o.pageX,n=o.pageY;if(t){var f=e.getTouches(o),h=f[0];d=h.pageX,n=h.pageY}e.dragmousedown={left:d,top:n};var c=a(o.target).coord();return e.dragmousedownoffset={left:parseInt(d)-parseInt(c.left),top:parseInt(n-c.top)},!0}),this.addHandler(l,s,function(o){if(!r.draggable||r.datafield==null||r.pinned||e.resizing)return!0;if(e.dragmousedown){var d=o.pageX,n=o.pageY;if(t){var f=e.getTouches(o),h=f[0];h!=null&&(d=h.pageX,n=h.pageY)}if(s={left:d,top:n},!e.columndragstarted&&e.reordercolumn==null){var c=Math.abs(s.left-e.dragmousedown.left),p=Math.abs(s.top-e.dragmousedown.top);(c>3||p>3)&&(e._createreordercolumn(l,s,!0),a(document.body).addClass("jqx-disableselect"),a.data(e.reordercolumn[0],"reorderrecord",r.datafield))}}})}})})(jqxBaseFramework)})();(function(){typeof document>"u"||(function(a){a.extend(a.jqx._jqxGrid.prototype,{_calculateaggregate:function(r,l,e,t){var i=r.aggregates;if(i||(i=l),i){for(var s=new Array,o=0;o<i.length;o++)i[o]!="count"&&(s[s.length]=r.cellsformat);if(this.source&&this.source.getAggregatedData){if(t==null&&(t=this.getrows()),this.virtualmode){var t=new Array;a.each(this.source._source.records,function(){t.push(this)})}if(e==null||e==!0){var d=this.source.getAggregatedData([{name:r.datafield,aggregates:i,formatStrings:s}],this.gridlocalization,t);return d}else{var d=this.source.getAggregatedData([{name:r.datafield,aggregates:i}],this.gridlocalization,t);return d}}}return null},getcolumnaggregateddata:function(r,l,e,t){var i=this.getcolumn(r),s=e==null||e==!1?!1:e;if(l==null)return"";var o=i.aggregates;i.aggregates=null;var d=this._calculateaggregate(i,l,s,t),n={};return d&&(n=d[r]),i.aggregates=o,n},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(r,l,e){var t=this;if(!l){if(e.children().remove(),e.html(""),r.aggregatesrenderer){var i={};r.aggregates&&(i=this.getcolumnaggregateddata(r.datafield,r.aggregates));var s=r.aggregatesrenderer({},r,e,null);e.html(s)}return}if(e.children().remove(),e.html(""),r.aggregatesrenderer){if(l){var s=r.aggregatesrenderer(l[r.datafield],r,e,this.getcolumnaggregateddata(r.datafield,l[r.datafield]));e.html(s)}}else a.each(l,function(){var o=this;for(i in o){var d=a('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),n=i;n=t._getaggregatename(n),d.html(n+":"+o[i]),t.rtl&&d.addClass(t.toThemeProperty("jqx-rtl")),e.append(d)}})},_getaggregatetype:function(r){switch(r){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return r}var l=r;for(var e in r){l=e;break}return l},_getaggregatename:function(r){var l=r;switch(r){case"min":l="Min";break;case"max":l="Max";break;case"count":l="Count";break;case"avg":l="Avg";break;case"product":l="Product";break;case"var":l="Var";break;case"stdevp":l="StDevP";break;case"stdev":l="StDev";break;case"varp":l="VarP";case"sum":l="Sum";break}if(r===l&&typeof l!="string")for(var e in r){l=e;break}return l},_updatecolumnsaggregates:function(){var r=this.getrows(),l=this.columns.records.length;if(this.statusbar[0].cells!=null)for(var e=0;e<l;e++){var t=a(this.statusbar[0].cells[e]),i=this.columns.records[e],s=this._calculateaggregate(i,null,!0,r);this._updatecolumnaggregates(i,s,t)}},_updateaggregates:function(){var r=a('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),l=0,e=this.columns.records.length,t=this.toThemeProperty("jqx-grid-cell");this.rtl&&(t+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),l=-1),t+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var i=e+10,s=new Array;this.statusbar[0].cells=s;for(var o=this.getrows(),d=0;d<e;d++){var n=this.columns.records[d],f=this._calculateaggregate(n,n.aggregates,!0,o),h=n.width;h<n.minwidth&&(h=n.minwidth),h>n.maxwidth&&(h=n.maxwidth);var c=t;n.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+n.cellsalign+"-align"));var p=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');r.append(p),p.css("left",l),this.rtl?p.css("z-index",i++):p.css("z-index",i--),p.width(h),p[0].left=l,n.hidden&&n.hideable?p.css("display","none"):l+=h,s[s.length]=p[0],this._updatecolumnaggregates(n,f,p)}a.jqx.browser.msie&&a.jqx.browser.version<8&&r.css("z-index",i--),r.width(parseFloat(l)+2),r.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(r),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(t),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&this.hScrollBar.css("visibility")!="hidden"&&this._renderhorizontalscroll(),this._arrange()}})})(jqxBaseFramework)})();(function(){typeof document>"u"||(function(a){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(r){if(this==null)throw new TypeError('"this" is null or not defined');var l=Object(this),e=l.length>>>0;if(typeof r!="function")throw new TypeError("predicate must be a function");for(var t=arguments[1],i=0;i<e;){var s=l[i];if(r.call(t,s,i,l))return s;i++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(r){if(this==null)throw new TypeError('"this" is null or not defined');var l=Object(this),e=l.length>>>0;if(typeof r!="function")throw new TypeError("predicate must be a function");for(var t=arguments[1],i=0;i<e;){var s=l[i];if(r.call(t,s,i,l))return i;i++}return-1},configurable:!0,writable:!0}),a.extend(a.jqx._jqxGrid.prototype,{_getChartDataFields:function(r){var l=this,e=r[0],t=!0,i,s=[];for(var o in e)if(!(o==="$"||o==="uid"||o==="boundindex"||o==="uniqueid"||o==="visibleindex")){if(l.source._source.dataFields)var d=l.source._source.dataFields.find(function(f){return f.name===o}).type;else var d=l.source._source.datafields.find(function(h){return h.name===o}).type;if(d==="string"){var n=l.columns.records.findIndex(function(f){return f.datafield===o});n===0&&(i=o)}else t=!1,s.push({dataField:o,displayText:o})}return{xAxisDataField:i,series:s,stringOnly:t}},createChart:function(r,l){var e=this,t=e.getselection(),i=t.rows,s=t.cells,o=document.createElement("div"),d=[],n={},f=[],h=[],c;if(s&&s.length>1&&s.forEach(function(y){f.indexOf(y.rowindex)===-1&&f.push(y.rowindex),h.indexOf(y.datafield)===-1&&h.push(y.datafield)}),i.length===0&&s.length===0)var l=e.source.records;if(l)d=d.concat(l);else for(var l=e.source.records,p=0;p<l.length;p++){var v={};if(i.length>0){if(i.indexOf(p)===-1)continue}else if(s.length>0&&s.length>1){if(f.indexOf(p)===-1)continue;h.forEach(function(j){v[j]=l[p][j]}),d.push(v);continue}e.columns.records.forEach(function(j){v[j.datafield]=l[p][j.datafield]}),d.push(v)}var x=e._getChartDataFields(d);if(x.stringOnly){if(e.showheader){var w=e.element.querySelector("#"+r);e.toolbar[0].firstElementChild.classList.add("warning"),w&&w.classList.add("warning"),setTimeout(function(){e.toolbar[0].firstElementChild.classList.remove("warning"),w&&w.classList.remove("warning")},1e3)}return}c=x.series;var m={};if(m.title="",m.description="",m.showLegend=!0,m.showBorderLine=!1,m.padding={left:5,top:10,right:5,bottom:5},m.source=d,m.xAxis={dataField:x.xAxisDataField,gridLines:{visible:!0}},m.valueAxis={displayValueAxis:!0,description:e.charting.description,axisSize:"auto",formatSettings:e.charting.formatSettings},m.colorScheme=e.charting.colorScheme,m.seriesGroups=[n],n.formatSettings=e.charting.formatSettings,n.series=c,r==="line")c.forEach(function(y){y.symbolSize=8,y.symbolType="square"});else if(r==="pie"){var g=c[0].dataField;delete n.formatSettings,n.formatFunction=function(y,j){return isNaN(y)&&typeof y=="object"?j:y},n.showLabels=!0,c.length=0,c.push({dataField:g,displayText:x.xAxisDataField,initialAngle:0})}else if(r==="bar")r="column",n.orientation="horizontal",m.xAxis.textRotationAngle=90,m.valueAxis.textRotationAngle=30,m.valueAxis.flip=!0;else if(r==="area")for(var b=1,p=0;p<c.length;p++)c[p].opacity=b,b-=.2,b=Math.max(.3,b);if(n.type=r,e.charting.ready&&e.charting.ready(m),e.charting.appendTo){var _=e.charting.appendTo==="string"?document.querySelector(e.charting.appendTo):e.charting.appendTo;_&&(new jqxChart(o,m),_.appendChild(o))}else e._openChartDialog(o,r,m)},_openChartDialog:function(r,l,e){var t=this;if(!t.charting.dialog.enabled)return!1;var i=document.createElement("div");i.innerHTML="<div>"+t.charting.dialog.header+'</div><div style="overflow:hidden;"></div>',l.substring(0,1).toUpperCase()+l.substring(1),r.style.width="100%",r.style.height="100%";var s=new jqxWindow(i,{width:t.charting.dialog.width,height:t.charting.dialog.height,position:t.charting.dialog.position,isModal:!0});s.open(),setTimeout(function(){i.querySelector(".jqx-widget-content").appendChild(r),new jqxChart(r,e)},100),s.on("close",function(){s.destroy()})}})})(jqxBaseFramework)})();const is={props:{altrows:{default:!1,type:Boolean},altstart:Number,altstep:Number,autoshowloadelement:{default:!0,type:Boolean},autoshowfiltericon:{default:!0,type:Boolean},autoshowcolumnsmenubutton:{default:!0,type:Boolean},showcolumnlines:{default:!0,type:Boolean},showrowlines:{default:!0,type:Boolean},showcolumnheaderlines:{default:!0,type:Boolean},adaptive:{default:!1,type:Boolean},compact:{default:!1,type:Boolean},contextmenuitems:[],contextmenuenabled:[],contextmenuwidth:[],contextmenuheight:[],contextmenuitemclick:[],adaptivewidth:Number,commandcolumn:{default:!1,type:Boolean},commandcolumnrenderer:Function,clipboard:{default:!0,type:Boolean},closeablegroups:{default:!0,type:Boolean},columnsmenuwidth:Number,columnmenuopening:Function,columnmenuclosing:Function,cellhover:Function,enablekeyboarddelete:{default:!0,type:Boolean},enableellipsis:{default:!0,type:Boolean},enablemousewheel:{default:!0,type:Boolean},enableanimations:{default:!0,type:Boolean},enabletooltips:{default:!1,type:Boolean},enablehover:{default:!0,type:Boolean},enablebrowserselection:{default:!1,type:Boolean},everpresentrowposition:String,everpresentrowheight:Number,everpresentrowactions:String,everpresentrowactionsmode:String,filterrowheight:Number,filtermode:String,groupsrenderer:Function,groupcolumnrenderer:Function,groupsexpandedbydefault:{default:!1,type:Boolean},handlekeyboardnavigation:Function,pagerrenderer:Function,rtl:{default:!1,type:Boolean},showdefaultloadelement:{default:!0,type:Boolean},showfiltercolumnbackground:{default:!0,type:Boolean},showfiltermenuitems:{default:!0,type:Boolean},showpinnedcolumnbackground:{default:!0,type:Boolean},showsortcolumnbackground:{default:!0,type:Boolean},showsortmenuitems:{default:!0,type:Boolean},showgroupmenuitems:{default:!0,type:Boolean},showrowdetailscolumn:{default:!0,type:Boolean},showheader:{default:!0,type:Boolean},showgroupsheader:{default:!0,type:Boolean},showaggregates:{default:!1,type:Boolean},showgroupaggregates:{default:!1,type:Boolean},showeverpresentrow:{default:!1,type:Boolean},showfilterrow:{default:!1,type:Boolean},showemptyrow:{default:!0,type:Boolean},showstatusbar:{default:!1,type:Boolean},statusbarheight:Number,showtoolbar:{default:!1,type:Boolean},showfilterbar:{default:!1,type:Boolean},filterbarmode:String,selectionmode:String,updatefilterconditions:Function,updatefilterpanel:Function,theme:String,toolbarheight:Number,autoheight:{default:!1,type:Boolean},autorowheight:{default:!1,type:Boolean},columnsheight:Number,deferreddatafields:Array,groupsheaderheight:Number,groupindentwidth:Number,height:[String,Number],pagerheight:Number,rowsheight:Number,scrollbarsize:Number,scrollmode:String,scrollfeedback:Function,width:[String,Number],autosavestate:{default:!1,type:Boolean},autoloadstate:{default:!1,type:Boolean},columns:Array,enableSanitize:{default:!1,type:Boolean},cardview:{default:!1,type:Boolean},cardviewcolumns:[],cardheight:Number,cardsize:Number,columngroups:Array,columnsmenu:{default:!0,type:Boolean},columnsresize:{default:!1,type:Boolean},columnsautoresize:{default:!0,type:Boolean},columnsreorder:{default:!1,type:Boolean},charting:Object,disabled:{default:!1,type:Boolean},editable:{default:!1,type:Boolean},batcheditable:{default:!1,type:Boolean},editmode:String,filter:Function,filterable:{default:!1,type:Boolean},filternlpinput:String,aiKey:String,aiUrl:String,groupable:{default:!1,type:Boolean},groups:Array,horizontalscrollbarstep:Number,horizontalscrollbarlargestep:Number,initrowdetails:Function,disablerowdetails:Function,keyboardnavigation:{default:!0,type:Boolean},localization:Object,pagesize:Number,pagesizeoptions:Array,pagermode:String,pagerbuttonscount:Number,pageable:{default:!1,type:Boolean},autofill:{default:!1,type:Boolean},rowdetails:{default:!1,type:Boolean},rowdetailstemplate:Object,ready:Function,rendered:Function,renderstatusbar:Function,rendertoolbar:Function,rendergridrows:Function,sortable:{default:!1,type:Boolean},sortmode:String,sortmodekey:String,selectedrowindex:Number,selectedrowindexes:Array,source:Object,sorttogglestates:Number,updatedelay:Number,virtualmode:{default:!1,type:Boolean},verticalscrollbarstep:Number,verticalscrollbarlargestep:Number,autoCreate:{default:!0,type:Boolean}},emits:["bindingcomplete","columnresized","columnreordered","columnclick","cellclick","celldoubleclick","cellselect","cellunselect","cellvaluechanged","cellbeginedit","cellendedit","filter","groupschanged","groupexpand","groupcollapse","pagechanged","pagesizechanged","rowclick","rowdoubleclick","rowselect","rowunselect","rowexpand","rowcollapse","sort"],setup(a,r){const l="jqxGrid"+JQXLite.generateID(),e="#"+l;function t(u){a.autoCreate?console.warn('Component is already created! If you want to use createComponent, please set "autoCreate" property to "false".'):Zi(u)}function i(u){JQXLite(e).jqxGrid(u)}function s(){const u=Object.keys(_e()),J={};for(let de=0;de<u.length;de++)J[u[de]]=JQXLite(e).jqxGrid(u[de]);return J}function o(u){JQXLite(e).jqxGrid("autoresizecolumns",u)}function d(u,J){JQXLite(e).jqxGrid("autoresizecolumn",u,J)}function n(){JQXLite(e).jqxGrid("beginupdate")}function f(){JQXLite(e).jqxGrid("clear")}function h(u,J){JQXLite(e).jqxGrid("createChart",u,J)}function c(){JQXLite(e).jqxGrid("destroy")}function p(){JQXLite(e).jqxGrid("endupdate")}function v(u){JQXLite(e).jqxGrid("ensurerowvisible",u)}function x(){JQXLite(e).jqxGrid("focus")}function w(u){return JQXLite(e).jqxGrid("getcolumnindex",u)}function m(u){return JQXLite(e).jqxGrid("getcolumn",u)}function g(u,J){return JQXLite(e).jqxGrid("getcolumnproperty",u,J)}function b(u){return JQXLite(e).jqxGrid("getrowid",u)}function _(u){return JQXLite(e).jqxGrid("getrowdata",u)}function y(u){return JQXLite(e).jqxGrid("getrowdatabyid",u)}function j(u){return JQXLite(e).jqxGrid("getrowboundindexbyid",u)}function C(u){return JQXLite(e).jqxGrid("getrowboundindex",u)}function L(){return JQXLite(e).jqxGrid("getrows")}function k(){return JQXLite(e).jqxGrid("getboundrows")}function O(){return JQXLite(e).jqxGrid("getdisplayrows")}function X(){return JQXLite(e).jqxGrid("getdatainformation")}function P(){return JQXLite(e).jqxGrid("getsortinformation")}function T(){return JQXLite(e).jqxGrid("getpaginginformation")}function I(u){JQXLite(e).jqxGrid("hidecolumn",u)}function z(){JQXLite(e).jqxGrid("hideloadelement")}function q(u){JQXLite(e).jqxGrid("hiderowdetails",u)}function B(u){return JQXLite(e).jqxGrid("iscolumnvisible",u)}function S(u){return JQXLite(e).jqxGrid("iscolumnpinned",u)}function D(u){JQXLite(e).jqxGrid("localizestrings",u)}function H(u){JQXLite(e).jqxGrid("pincolumn",u)}function G(){JQXLite(e).jqxGrid("refreshdata")}function N(){JQXLite(e).jqxGrid("refresh")}function A(){JQXLite(e).jqxGrid("render")}function M(u,J){JQXLite(e).jqxGrid("scrolloffset",u,J)}function Q(){return JQXLite(e).jqxGrid("scrollposition")}function U(){JQXLite(e).jqxGrid("showloadelement")}function Y(u){JQXLite(e).jqxGrid("showrowdetails",u)}function E(u,J){JQXLite(e).jqxGrid("setcolumnindex",u,J)}function R(u,J,de){JQXLite(e).jqxGrid("setcolumnproperty",u,J,de)}function $(u){JQXLite(e).jqxGrid("showcolumn",u)}function F(u){JQXLite(e).jqxGrid("unpincolumn",u)}function W(u){JQXLite(e).jqxGrid("updatebounddata",u)}function V(){return JQXLite(e).jqxGrid("updating")}function le(){return JQXLite(e).jqxGrid("getsortcolumn")}function re(){JQXLite(e).jqxGrid("removesort")}function ae(u,J){JQXLite(e).jqxGrid("sortby",u,J)}function ee(u){JQXLite(e).jqxGrid("addgroup",u)}function te(){JQXLite(e).jqxGrid("cleargroups")}function Z(u){JQXLite(e).jqxGrid("collapsegroup",u)}function ie(){JQXLite(e).jqxGrid("collapseallgroups")}function se(){JQXLite(e).jqxGrid("expandallgroups")}function K(u){JQXLite(e).jqxGrid("expandgroup",u)}function oe(){return JQXLite(e).jqxGrid("getrootgroupscount")}function ne(u){return JQXLite(e).jqxGrid("getgroup",u)}function he(u,J){JQXLite(e).jqxGrid("insertgroup",u,J)}function fe(){return JQXLite(e).jqxGrid("iscolumngroupable")}function ue(u){JQXLite(e).jqxGrid("removegroupat",u)}function ce(u){JQXLite(e).jqxGrid("removegroup",u)}function we(u,J,de){JQXLite(e).jqxGrid("addfilter",u,J,de)}function xe(){JQXLite(e).jqxGrid("applyfilters")}function pe(){JQXLite(e).jqxGrid("clearfilters")}function ge(){return JQXLite(e).jqxGrid("getfilterinformation")}function ye(u){return JQXLite(e).jqxGrid("getcolumnat",u)}function ve(u,J){JQXLite(e).jqxGrid("removefilter",u,J)}function qe(){JQXLite(e).jqxGrid("refreshfilterrow")}function be(u){JQXLite(e).jqxGrid("gotopage",u)}function ir(){JQXLite(e).jqxGrid("gotoprevpage")}function rr(){JQXLite(e).jqxGrid("gotonextpage")}function sr(u,J,de){JQXLite(e).jqxGrid("addrow",u,J,de)}function lr(u,J){JQXLite(e).jqxGrid("begincelledit",u,J)}function ar(u){JQXLite(e).jqxGrid("beginrowedit",u)}function or(){JQXLite(e).jqxGrid("closemenu")}function nr(u){JQXLite(e).jqxGrid("deleterow",u)}function dr(u,J,de){JQXLite(e).jqxGrid("endcelledit",u,J,de)}function hr(u,J){JQXLite(e).jqxGrid("endrowedit",u,J)}function ur(u,J){return JQXLite(e).jqxGrid("getcell",u,J)}function cr(u,J){return JQXLite(e).jqxGrid("getcellatposition",u,J)}function fr(u,J){return JQXLite(e).jqxGrid("getcelltext",u,J)}function pr(u,J){return JQXLite(e).jqxGrid("getcelltextbyid",u,J)}function gr(u,J){return JQXLite(e).jqxGrid("getcellvaluebyid",u,J)}function vr(u,J){return JQXLite(e).jqxGrid("getcellvalue",u,J)}function mr(){return JQXLite(e).jqxGrid("isBindingCompleted")}function wr(u){JQXLite(e).jqxGrid("openmenu",u)}function xr(u,J,de){JQXLite(e).jqxGrid("setcellvalue",u,J,de)}function br(u,J,de){JQXLite(e).jqxGrid("setcellvaluebyid",u,J,de)}function yr(u,J,de){JQXLite(e).jqxGrid("showvalidationpopup",u,J,de)}function _r(u,J){JQXLite(e).jqxGrid("updaterow",u,J)}function qr(){JQXLite(e).jqxGrid("clearselection")}function jr(){return JQXLite(e).jqxGrid("getselectedrowindex")}function Cr(){return JQXLite(e).jqxGrid("getselectedrowindexes")}function Tr(){return JQXLite(e).jqxGrid("getselectedcell")}function zr(){return JQXLite(e).jqxGrid("getselectedcells")}function Sr(u,J,de){JQXLite(e).jqxGrid("showSidePanel",u,J,de)}function Lr(){JQXLite(e).jqxGrid("closeSidePanel")}function kr(u,J){JQXLite(e).jqxGrid("selectcell",u,J)}function Ir(){JQXLite(e).jqxGrid("selectallrows")}function Dr(u){JQXLite(e).jqxGrid("selectrow",u)}function Br(u){JQXLite(e).jqxGrid("unselectrow",u)}function Pr(u,J){JQXLite(e).jqxGrid("unselectcell",u,J)}function Hr(u,J){return JQXLite(e).jqxGrid("getcolumnaggregateddata",u,J)}function Or(){JQXLite(e).jqxGrid("refreshaggregates")}function Nr(){JQXLite(e).jqxGrid("renderaggregates")}function Gr(u,J,de,me,Fr,Wr,Ur){return JQXLite(e).jqxGrid("exportdata",u,J,de,me,Fr,Wr,Ur)}function Xr(u,J){return JQXLite(e).jqxGrid("exportview",u,J)}function Mr(u,J){JQXLite(e).jqxGrid("openColumnChooser",u,J)}function Ar(){return JQXLite(e).jqxGrid("getstate")}function Qr(u){JQXLite(e).jqxGrid("loadstate",u)}function Er(){return JQXLite(e).jqxGrid("savestate")}function je(u){if(u!==void 0)JQXLite(e).jqxGrid("altrows",u);else return JQXLite(e).jqxGrid("altrows")}function Ce(u){if(u!==void 0)JQXLite(e).jqxGrid("altstart",u);else return JQXLite(e).jqxGrid("altstart")}function Te(u){if(u!==void 0)JQXLite(e).jqxGrid("altstep",u);else return JQXLite(e).jqxGrid("altstep")}function ze(u){if(u!==void 0)JQXLite(e).jqxGrid("autoshowloadelement",u);else return JQXLite(e).jqxGrid("autoshowloadelement")}function Se(u){if(u!==void 0)JQXLite(e).jqxGrid("autoshowfiltericon",u);else return JQXLite(e).jqxGrid("autoshowfiltericon")}function Le(u){if(u!==void 0)JQXLite(e).jqxGrid("autoshowcolumnsmenubutton",u);else return JQXLite(e).jqxGrid("autoshowcolumnsmenubutton")}function ke(u){if(u!==void 0)JQXLite(e).jqxGrid("showcolumnlines",u);else return JQXLite(e).jqxGrid("showcolumnlines")}function Ie(u){if(u!==void 0)JQXLite(e).jqxGrid("showrowlines",u);else return JQXLite(e).jqxGrid("showrowlines")}function De(u){if(u!==void 0)JQXLite(e).jqxGrid("showcolumnheaderlines",u);else return JQXLite(e).jqxGrid("showcolumnheaderlines")}function Be(u){if(u!==void 0)JQXLite(e).jqxGrid("adaptive",u);else return JQXLite(e).jqxGrid("adaptive")}function Pe(u){if(u!==void 0)JQXLite(e).jqxGrid("compact",u);else return JQXLite(e).jqxGrid("compact")}function He(u){if(u!==void 0)JQXLite(e).jqxGrid("contextmenuitems",u);else return JQXLite(e).jqxGrid("contextmenuitems")}function Oe(u){if(u!==void 0)JQXLite(e).jqxGrid("contextmenuenabled",u);else return JQXLite(e).jqxGrid("contextmenuenabled")}function Ne(u){if(u!==void 0)JQXLite(e).jqxGrid("contextmenuwidth",u);else return JQXLite(e).jqxGrid("contextmenuwidth")}function Ge(u){if(u!==void 0)JQXLite(e).jqxGrid("contextmenuheight",u);else return JQXLite(e).jqxGrid("contextmenuheight")}function Xe(u){if(u!==void 0)JQXLite(e).jqxGrid("contextmenuitemclick",u);else return JQXLite(e).jqxGrid("contextmenuitemclick")}function Me(u){if(u!==void 0)JQXLite(e).jqxGrid("adaptivewidth",u);else return JQXLite(e).jqxGrid("adaptivewidth")}function Ae(u){if(u!==void 0)JQXLite(e).jqxGrid("commandcolumn",u);else return JQXLite(e).jqxGrid("commandcolumn")}function Qe(u){if(u!==void 0)JQXLite(e).jqxGrid("commandcolumnrenderer",u);else return JQXLite(e).jqxGrid("commandcolumnrenderer")}function Ee(u){if(u!==void 0)JQXLite(e).jqxGrid("clipboard",u);else return JQXLite(e).jqxGrid("clipboard")}function Je(u){if(u!==void 0)JQXLite(e).jqxGrid("closeablegroups",u);else return JQXLite(e).jqxGrid("closeablegroups")}function Re(u){if(u!==void 0)JQXLite(e).jqxGrid("columnsmenuwidth",u);else return JQXLite(e).jqxGrid("columnsmenuwidth")}function Fe(u){if(u!==void 0)JQXLite(e).jqxGrid("columnmenuopening",u);else return JQXLite(e).jqxGrid("columnmenuopening")}function We(u){if(u!==void 0)JQXLite(e).jqxGrid("columnmenuclosing",u);else return JQXLite(e).jqxGrid("columnmenuclosing")}function Ue(u){if(u!==void 0)JQXLite(e).jqxGrid("cellhover",u);else return JQXLite(e).jqxGrid("cellhover")}function Ye(u){if(u!==void 0)JQXLite(e).jqxGrid("enablekeyboarddelete",u);else return JQXLite(e).jqxGrid("enablekeyboarddelete")}function Ve(u){if(u!==void 0)JQXLite(e).jqxGrid("enableellipsis",u);else return JQXLite(e).jqxGrid("enableellipsis")}function $e(u){if(u!==void 0)JQXLite(e).jqxGrid("enablemousewheel",u);else return JQXLite(e).jqxGrid("enablemousewheel")}function Ke(u){if(u!==void 0)JQXLite(e).jqxGrid("enableanimations",u);else return JQXLite(e).jqxGrid("enableanimations")}function Ze(u){if(u!==void 0)JQXLite(e).jqxGrid("enabletooltips",u);else return JQXLite(e).jqxGrid("enabletooltips")}function et(u){if(u!==void 0)JQXLite(e).jqxGrid("enablehover",u);else return JQXLite(e).jqxGrid("enablehover")}function tt(u){if(u!==void 0)JQXLite(e).jqxGrid("enablebrowserselection",u);else return JQXLite(e).jqxGrid("enablebrowserselection")}function it(u){if(u!==void 0)JQXLite(e).jqxGrid("everpresentrowposition",u);else return JQXLite(e).jqxGrid("everpresentrowposition")}function rt(u){if(u!==void 0)JQXLite(e).jqxGrid("everpresentrowheight",u);else return JQXLite(e).jqxGrid("everpresentrowheight")}function st(u){if(u!==void 0)JQXLite(e).jqxGrid("everpresentrowactions",u);else return JQXLite(e).jqxGrid("everpresentrowactions")}function lt(u){if(u!==void 0)JQXLite(e).jqxGrid("everpresentrowactionsmode",u);else return JQXLite(e).jqxGrid("everpresentrowactionsmode")}function at(u){if(u!==void 0)JQXLite(e).jqxGrid("filterrowheight",u);else return JQXLite(e).jqxGrid("filterrowheight")}function ot(u){if(u!==void 0)JQXLite(e).jqxGrid("filtermode",u);else return JQXLite(e).jqxGrid("filtermode")}function nt(u){if(u!==void 0)JQXLite(e).jqxGrid("groupsrenderer",u);else return JQXLite(e).jqxGrid("groupsrenderer")}function dt(u){if(u!==void 0)JQXLite(e).jqxGrid("groupcolumnrenderer",u);else return JQXLite(e).jqxGrid("groupcolumnrenderer")}function ht(u){if(u!==void 0)JQXLite(e).jqxGrid("groupsexpandedbydefault",u);else return JQXLite(e).jqxGrid("groupsexpandedbydefault")}function ut(u){if(u!==void 0)JQXLite(e).jqxGrid("handlekeyboardnavigation",u);else return JQXLite(e).jqxGrid("handlekeyboardnavigation")}function ct(u){if(u!==void 0)JQXLite(e).jqxGrid("pagerrenderer",u);else return JQXLite(e).jqxGrid("pagerrenderer")}function ft(u){if(u!==void 0)JQXLite(e).jqxGrid("rtl",u);else return JQXLite(e).jqxGrid("rtl")}function pt(u){if(u!==void 0)JQXLite(e).jqxGrid("showdefaultloadelement",u);else return JQXLite(e).jqxGrid("showdefaultloadelement")}function gt(u){if(u!==void 0)JQXLite(e).jqxGrid("showfiltercolumnbackground",u);else return JQXLite(e).jqxGrid("showfiltercolumnbackground")}function vt(u){if(u!==void 0)JQXLite(e).jqxGrid("showfiltermenuitems",u);else return JQXLite(e).jqxGrid("showfiltermenuitems")}function mt(u){if(u!==void 0)JQXLite(e).jqxGrid("showpinnedcolumnbackground",u);else return JQXLite(e).jqxGrid("showpinnedcolumnbackground")}function wt(u){if(u!==void 0)JQXLite(e).jqxGrid("showsortcolumnbackground",u);else return JQXLite(e).jqxGrid("showsortcolumnbackground")}function xt(u){if(u!==void 0)JQXLite(e).jqxGrid("showsortmenuitems",u);else return JQXLite(e).jqxGrid("showsortmenuitems")}function bt(u){if(u!==void 0)JQXLite(e).jqxGrid("showgroupmenuitems",u);else return JQXLite(e).jqxGrid("showgroupmenuitems")}function yt(u){if(u!==void 0)JQXLite(e).jqxGrid("showrowdetailscolumn",u);else return JQXLite(e).jqxGrid("showrowdetailscolumn")}function _t(u){if(u!==void 0)JQXLite(e).jqxGrid("showheader",u);else return JQXLite(e).jqxGrid("showheader")}function qt(u){if(u!==void 0)JQXLite(e).jqxGrid("showgroupsheader",u);else return JQXLite(e).jqxGrid("showgroupsheader")}function jt(u){if(u!==void 0)JQXLite(e).jqxGrid("showaggregates",u);else return JQXLite(e).jqxGrid("showaggregates")}function Ct(u){if(u!==void 0)JQXLite(e).jqxGrid("showgroupaggregates",u);else return JQXLite(e).jqxGrid("showgroupaggregates")}function Tt(u){if(u!==void 0)JQXLite(e).jqxGrid("showeverpresentrow",u);else return JQXLite(e).jqxGrid("showeverpresentrow")}function zt(u){if(u!==void 0)JQXLite(e).jqxGrid("showfilterrow",u);else return JQXLite(e).jqxGrid("showfilterrow")}function St(u){if(u!==void 0)JQXLite(e).jqxGrid("showemptyrow",u);else return JQXLite(e).jqxGrid("showemptyrow")}function Lt(u){if(u!==void 0)JQXLite(e).jqxGrid("showstatusbar",u);else return JQXLite(e).jqxGrid("showstatusbar")}function kt(u){if(u!==void 0)JQXLite(e).jqxGrid("statusbarheight",u);else return JQXLite(e).jqxGrid("statusbarheight")}function It(u){if(u!==void 0)JQXLite(e).jqxGrid("showtoolbar",u);else return JQXLite(e).jqxGrid("showtoolbar")}function Dt(u){if(u!==void 0)JQXLite(e).jqxGrid("showfilterbar",u);else return JQXLite(e).jqxGrid("showfilterbar")}function Bt(u){if(u!==void 0)JQXLite(e).jqxGrid("filterbarmode",u);else return JQXLite(e).jqxGrid("filterbarmode")}function Pt(u){if(u!==void 0)JQXLite(e).jqxGrid("selectionmode",u);else return JQXLite(e).jqxGrid("selectionmode")}function Ht(u){if(u!==void 0)JQXLite(e).jqxGrid("updatefilterconditions",u);else return JQXLite(e).jqxGrid("updatefilterconditions")}function Ot(u){if(u!==void 0)JQXLite(e).jqxGrid("updatefilterpanel",u);else return JQXLite(e).jqxGrid("updatefilterpanel")}function Nt(u){if(u!==void 0)JQXLite(e).jqxGrid("theme",u);else return JQXLite(e).jqxGrid("theme")}function Gt(u){if(u!==void 0)JQXLite(e).jqxGrid("toolbarheight",u);else return JQXLite(e).jqxGrid("toolbarheight")}function Xt(u){if(u!==void 0)JQXLite(e).jqxGrid("autoheight",u);else return JQXLite(e).jqxGrid("autoheight")}function Mt(u){if(u!==void 0)JQXLite(e).jqxGrid("autorowheight",u);else return JQXLite(e).jqxGrid("autorowheight")}function At(u){if(u!==void 0)JQXLite(e).jqxGrid("columnsheight",u);else return JQXLite(e).jqxGrid("columnsheight")}function Qt(u){if(u!==void 0)JQXLite(e).jqxGrid("deferreddatafields",u);else return JQXLite(e).jqxGrid("deferreddatafields")}function Et(u){if(u!==void 0)JQXLite(e).jqxGrid("groupsheaderheight",u);else return JQXLite(e).jqxGrid("groupsheaderheight")}function Jt(u){if(u!==void 0)JQXLite(e).jqxGrid("groupindentwidth",u);else return JQXLite(e).jqxGrid("groupindentwidth")}function Rt(u){if(u!==void 0)JQXLite(e).jqxGrid("height",u);else return JQXLite(e).jqxGrid("height")}function Ft(u){if(u!==void 0)JQXLite(e).jqxGrid("pagerheight",u);else return JQXLite(e).jqxGrid("pagerheight")}function Wt(u){if(u!==void 0)JQXLite(e).jqxGrid("rowsheight",u);else return JQXLite(e).jqxGrid("rowsheight")}function Ut(u){if(u!==void 0)JQXLite(e).jqxGrid("scrollbarsize",u);else return JQXLite(e).jqxGrid("scrollbarsize")}function Yt(u){if(u!==void 0)JQXLite(e).jqxGrid("scrollmode",u);else return JQXLite(e).jqxGrid("scrollmode")}function Vt(u){if(u!==void 0)JQXLite(e).jqxGrid("scrollfeedback",u);else return JQXLite(e).jqxGrid("scrollfeedback")}function $t(u){if(u!==void 0)JQXLite(e).jqxGrid("width",u);else return JQXLite(e).jqxGrid("width")}function Kt(u){if(u!==void 0)JQXLite(e).jqxGrid("autosavestate",u);else return JQXLite(e).jqxGrid("autosavestate")}function Zt(u){if(u!==void 0)JQXLite(e).jqxGrid("autoloadstate",u);else return JQXLite(e).jqxGrid("autoloadstate")}function ei(u){if(u!==void 0)JQXLite(e).jqxGrid("columns",u);else return JQXLite(e).jqxGrid("columns")}function ti(u){if(u!==void 0)JQXLite(e).jqxGrid("enableSanitize",u);else return JQXLite(e).jqxGrid("enableSanitize")}function ii(u){if(u!==void 0)JQXLite(e).jqxGrid("cardview",u);else return JQXLite(e).jqxGrid("cardview")}function ri(u){if(u!==void 0)JQXLite(e).jqxGrid("cardviewcolumns",u);else return JQXLite(e).jqxGrid("cardviewcolumns")}function si(u){if(u!==void 0)JQXLite(e).jqxGrid("cardheight",u);else return JQXLite(e).jqxGrid("cardheight")}function li(u){if(u!==void 0)JQXLite(e).jqxGrid("cardsize",u);else return JQXLite(e).jqxGrid("cardsize")}function ai(u){if(u!==void 0)JQXLite(e).jqxGrid("columngroups",u);else return JQXLite(e).jqxGrid("columngroups")}function oi(u){if(u!==void 0)JQXLite(e).jqxGrid("columnsmenu",u);else return JQXLite(e).jqxGrid("columnsmenu")}function ni(u){if(u!==void 0)JQXLite(e).jqxGrid("columnsresize",u);else return JQXLite(e).jqxGrid("columnsresize")}function di(u){if(u!==void 0)JQXLite(e).jqxGrid("columnsautoresize",u);else return JQXLite(e).jqxGrid("columnsautoresize")}function hi(u){if(u!==void 0)JQXLite(e).jqxGrid("columnsreorder",u);else return JQXLite(e).jqxGrid("columnsreorder")}function ui(u){if(u!==void 0)JQXLite(e).jqxGrid("charting",u);else return JQXLite(e).jqxGrid("charting")}function ci(u){if(u!==void 0)JQXLite(e).jqxGrid("disabled",u);else return JQXLite(e).jqxGrid("disabled")}function fi(u){if(u!==void 0)JQXLite(e).jqxGrid("editable",u);else return JQXLite(e).jqxGrid("editable")}function pi(u){if(u!==void 0)JQXLite(e).jqxGrid("batcheditable",u);else return JQXLite(e).jqxGrid("batcheditable")}function gi(u){if(u!==void 0)JQXLite(e).jqxGrid("editmode",u);else return JQXLite(e).jqxGrid("editmode")}function vi(u){if(u!==void 0)JQXLite(e).jqxGrid("filter",u);else return JQXLite(e).jqxGrid("filter")}function mi(u){if(u!==void 0)JQXLite(e).jqxGrid("filterable",u);else return JQXLite(e).jqxGrid("filterable")}function wi(u){if(u!==void 0)JQXLite(e).jqxGrid("filternlpinput",u);else return JQXLite(e).jqxGrid("filternlpinput")}function xi(u){if(u!==void 0)JQXLite(e).jqxGrid("aiKey",u);else return JQXLite(e).jqxGrid("aiKey")}function bi(u){if(u!==void 0)JQXLite(e).jqxGrid("aiUrl",u);else return JQXLite(e).jqxGrid("aiUrl")}function yi(u){if(u!==void 0)JQXLite(e).jqxGrid("groupable",u);else return JQXLite(e).jqxGrid("groupable")}function _i(u){if(u!==void 0)JQXLite(e).jqxGrid("groups",u);else return JQXLite(e).jqxGrid("groups")}function qi(u){if(u!==void 0)JQXLite(e).jqxGrid("horizontalscrollbarstep",u);else return JQXLite(e).jqxGrid("horizontalscrollbarstep")}function ji(u){if(u!==void 0)JQXLite(e).jqxGrid("horizontalscrollbarlargestep",u);else return JQXLite(e).jqxGrid("horizontalscrollbarlargestep")}function Ci(u){if(u!==void 0)JQXLite(e).jqxGrid("initrowdetails",u);else return JQXLite(e).jqxGrid("initrowdetails")}function Ti(u){if(u!==void 0)JQXLite(e).jqxGrid("disablerowdetails",u);else return JQXLite(e).jqxGrid("disablerowdetails")}function zi(u){if(u!==void 0)JQXLite(e).jqxGrid("keyboardnavigation",u);else return JQXLite(e).jqxGrid("keyboardnavigation")}function Si(u){if(u!==void 0)JQXLite(e).jqxGrid("localization",u);else return JQXLite(e).jqxGrid("localization")}function Li(u){if(u!==void 0)JQXLite(e).jqxGrid("pagesize",u);else return JQXLite(e).jqxGrid("pagesize")}function ki(u){if(u!==void 0)JQXLite(e).jqxGrid("pagesizeoptions",u);else return JQXLite(e).jqxGrid("pagesizeoptions")}function Ii(u){if(u!==void 0)JQXLite(e).jqxGrid("pagermode",u);else return JQXLite(e).jqxGrid("pagermode")}function Di(u){if(u!==void 0)JQXLite(e).jqxGrid("pagerbuttonscount",u);else return JQXLite(e).jqxGrid("pagerbuttonscount")}function Bi(u){if(u!==void 0)JQXLite(e).jqxGrid("pageable",u);else return JQXLite(e).jqxGrid("pageable")}function Pi(u){if(u!==void 0)JQXLite(e).jqxGrid("autofill",u);else return JQXLite(e).jqxGrid("autofill")}function Hi(u){if(u!==void 0)JQXLite(e).jqxGrid("rowdetails",u);else return JQXLite(e).jqxGrid("rowdetails")}function Oi(u){if(u!==void 0)JQXLite(e).jqxGrid("rowdetailstemplate",u);else return JQXLite(e).jqxGrid("rowdetailstemplate")}function Ni(u){if(u!==void 0)JQXLite(e).jqxGrid("ready",u);else return JQXLite(e).jqxGrid("ready")}function Gi(u){if(u!==void 0)JQXLite(e).jqxGrid("rendered",u);else return JQXLite(e).jqxGrid("rendered")}function Xi(u){if(u!==void 0)JQXLite(e).jqxGrid("renderstatusbar",u);else return JQXLite(e).jqxGrid("renderstatusbar")}function Mi(u){if(u!==void 0)JQXLite(e).jqxGrid("rendertoolbar",u);else return JQXLite(e).jqxGrid("rendertoolbar")}function Ai(u){if(u!==void 0)JQXLite(e).jqxGrid("rendergridrows",u);else return JQXLite(e).jqxGrid("rendergridrows")}function Qi(u){if(u!==void 0)JQXLite(e).jqxGrid("sortable",u);else return JQXLite(e).jqxGrid("sortable")}function Ei(u){if(u!==void 0)JQXLite(e).jqxGrid("sortmode",u);else return JQXLite(e).jqxGrid("sortmode")}function Ji(u){if(u!==void 0)JQXLite(e).jqxGrid("sortmodekey",u);else return JQXLite(e).jqxGrid("sortmodekey")}function Ri(u){if(u!==void 0)JQXLite(e).jqxGrid("selectedrowindex",u);else return JQXLite(e).jqxGrid("selectedrowindex")}function Fi(u){if(u!==void 0)JQXLite(e).jqxGrid("selectedrowindexes",u);else return JQXLite(e).jqxGrid("selectedrowindexes")}function Wi(u){if(u!==void 0)JQXLite(e).jqxGrid("source",u);else return JQXLite(e).jqxGrid("source")}function Ui(u){if(u!==void 0)JQXLite(e).jqxGrid("sorttogglestates",u);else return JQXLite(e).jqxGrid("sorttogglestates")}function Yi(u){if(u!==void 0)JQXLite(e).jqxGrid("updatedelay",u);else return JQXLite(e).jqxGrid("updatedelay")}function Vi(u){if(u!==void 0)JQXLite(e).jqxGrid("virtualmode",u);else return JQXLite(e).jqxGrid("virtualmode")}function $i(u){if(u!==void 0)JQXLite(e).jqxGrid("verticalscrollbarstep",u);else return JQXLite(e).jqxGrid("verticalscrollbarstep")}function Ki(u){if(u!==void 0)JQXLite(e).jqxGrid("verticalscrollbarlargestep",u);else return JQXLite(e).jqxGrid("verticalscrollbarlargestep")}function Zi(u){let J;u?J=u:J=_e(),JQXLite(e).jqxGrid(J),Rr()}function _e(){const u=["altrows","altstart","altstep","autoshowloadelement","autoshowfiltericon","autoshowcolumnsmenubutton","showcolumnlines","showrowlines","showcolumnheaderlines","adaptive","compact","contextmenuitems","contextmenuenabled","contextmenuwidth","contextmenuheight","contextmenuitemclick","adaptivewidth","commandcolumn","commandcolumnrenderer","clipboard","closeablegroups","columnsmenuwidth","columnmenuopening","columnmenuclosing","cellhover","enablekeyboarddelete","enableellipsis","enablemousewheel","enableanimations","enabletooltips","enablehover","enablebrowserselection","everpresentrowposition","everpresentrowheight","everpresentrowactions","everpresentrowactionsmode","filterrowheight","filtermode","groupsrenderer","groupcolumnrenderer","groupsexpandedbydefault","handlekeyboardnavigation","pagerrenderer","rtl","showdefaultloadelement","showfiltercolumnbackground","showfiltermenuitems","showpinnedcolumnbackground","showsortcolumnbackground","showsortmenuitems","showgroupmenuitems","showrowdetailscolumn","showheader","showgroupsheader","showaggregates","showgroupaggregates","showeverpresentrow","showfilterrow","showemptyrow","showstatusbar","statusbarheight","showtoolbar","showfilterbar","filterbarmode","selectionmode","updatefilterconditions","updatefilterpanel","theme","toolbarheight","autoheight","autorowheight","columnsheight","deferreddatafields","groupsheaderheight","groupindentwidth","height","pagerheight","rowsheight","scrollbarsize","scrollmode","scrollfeedback","width","autosavestate","autoloadstate","columns","enableSanitize","cardview","cardviewcolumns","cardheight","cardsize","columngroups","columnsmenu","columnsresize","columnsautoresize","columnsreorder","charting","disabled","editable","batcheditable","editmode","filter","filterable","filternlpinput","aiKey","aiUrl","groupable","groups","horizontalscrollbarstep","horizontalscrollbarlargestep","initrowdetails","disablerowdetails","keyboardnavigation","localization","pagesize","pagesizeoptions","pagermode","pagerbuttonscount","pageable","autofill","rowdetails","rowdetailstemplate","ready","rendered","renderstatusbar","rendertoolbar","rendergridrows","sortable","sortmode","sortmodekey","selectedrowindex","selectedrowindexes","source","sorttogglestates","updatedelay","virtualmode","verticalscrollbarstep","verticalscrollbarlargestep"],J=a;let de={};for(let me in J)u.indexOf(me)!==-1&&J[me]!==void 0&&(de[me]=J[me]);return de}const Jr={get altrows(){return je()},set altrows(u){je(u)},get altstart(){return Ce()},set altstart(u){Ce(u)},get altstep(){return Te()},set altstep(u){Te(u)},get autoshowloadelement(){return ze()},set autoshowloadelement(u){ze(u)},get autoshowfiltericon(){return Se()},set autoshowfiltericon(u){Se(u)},get autoshowcolumnsmenubutton(){return Le()},set autoshowcolumnsmenubutton(u){Le(u)},get showcolumnlines(){return ke()},set showcolumnlines(u){ke(u)},get showrowlines(){return Ie()},set showrowlines(u){Ie(u)},get showcolumnheaderlines(){return De()},set showcolumnheaderlines(u){De(u)},get adaptive(){return Be()},set adaptive(u){Be(u)},get compact(){return Pe()},set compact(u){Pe(u)},get contextmenuitems(){return He()},set contextmenuitems(u){He(u)},get contextmenuenabled(){return Oe()},set contextmenuenabled(u){Oe(u)},get contextmenuwidth(){return Ne()},set contextmenuwidth(u){Ne(u)},get contextmenuheight(){return Ge()},set contextmenuheight(u){Ge(u)},get contextmenuitemclick(){return Xe()},set contextmenuitemclick(u){Xe(u)},get adaptivewidth(){return Me()},set adaptivewidth(u){Me(u)},get commandcolumn(){return Ae()},set commandcolumn(u){Ae(u)},get commandcolumnrenderer(){return Qe()},set commandcolumnrenderer(u){Qe(u)},get clipboard(){return Ee()},set clipboard(u){Ee(u)},get closeablegroups(){return Je()},set closeablegroups(u){Je(u)},get columnsmenuwidth(){return Re()},set columnsmenuwidth(u){Re(u)},get columnmenuopening(){return Fe()},set columnmenuopening(u){Fe(u)},get columnmenuclosing(){return We()},set columnmenuclosing(u){We(u)},get cellhover(){return Ue()},set cellhover(u){Ue(u)},get enablekeyboarddelete(){return Ye()},set enablekeyboarddelete(u){Ye(u)},get enableellipsis(){return Ve()},set enableellipsis(u){Ve(u)},get enablemousewheel(){return $e()},set enablemousewheel(u){$e(u)},get enableanimations(){return Ke()},set enableanimations(u){Ke(u)},get enabletooltips(){return Ze()},set enabletooltips(u){Ze(u)},get enablehover(){return et()},set enablehover(u){et(u)},get enablebrowserselection(){return tt()},set enablebrowserselection(u){tt(u)},get everpresentrowposition(){return it()},set everpresentrowposition(u){it(u)},get everpresentrowheight(){return rt()},set everpresentrowheight(u){rt(u)},get everpresentrowactions(){return st()},set everpresentrowactions(u){st(u)},get everpresentrowactionsmode(){return lt()},set everpresentrowactionsmode(u){lt(u)},get filterrowheight(){return at()},set filterrowheight(u){at(u)},get filtermode(){return ot()},set filtermode(u){ot(u)},get groupsrenderer(){return nt()},set groupsrenderer(u){nt(u)},get groupcolumnrenderer(){return dt()},set groupcolumnrenderer(u){dt(u)},get groupsexpandedbydefault(){return ht()},set groupsexpandedbydefault(u){ht(u)},get handlekeyboardnavigation(){return ut()},set handlekeyboardnavigation(u){ut(u)},get pagerrenderer(){return ct()},set pagerrenderer(u){ct(u)},get rtl(){return ft()},set rtl(u){ft(u)},get showdefaultloadelement(){return pt()},set showdefaultloadelement(u){pt(u)},get showfiltercolumnbackground(){return gt()},set showfiltercolumnbackground(u){gt(u)},get showfiltermenuitems(){return vt()},set showfiltermenuitems(u){vt(u)},get showpinnedcolumnbackground(){return mt()},set showpinnedcolumnbackground(u){mt(u)},get showsortcolumnbackground(){return wt()},set showsortcolumnbackground(u){wt(u)},get showsortmenuitems(){return xt()},set showsortmenuitems(u){xt(u)},get showgroupmenuitems(){return bt()},set showgroupmenuitems(u){bt(u)},get showrowdetailscolumn(){return yt()},set showrowdetailscolumn(u){yt(u)},get showheader(){return _t()},set showheader(u){_t(u)},get showgroupsheader(){return qt()},set showgroupsheader(u){qt(u)},get showaggregates(){return jt()},set showaggregates(u){jt(u)},get showgroupaggregates(){return Ct()},set showgroupaggregates(u){Ct(u)},get showeverpresentrow(){return Tt()},set showeverpresentrow(u){Tt(u)},get showfilterrow(){return zt()},set showfilterrow(u){zt(u)},get showemptyrow(){return St()},set showemptyrow(u){St(u)},get showstatusbar(){return Lt()},set showstatusbar(u){Lt(u)},get statusbarheight(){return kt()},set statusbarheight(u){kt(u)},get showtoolbar(){return It()},set showtoolbar(u){It(u)},get showfilterbar(){return Dt()},set showfilterbar(u){Dt(u)},get filterbarmode(){return Bt()},set filterbarmode(u){Bt(u)},get selectionmode(){return Pt()},set selectionmode(u){Pt(u)},get updatefilterconditions(){return Ht()},set updatefilterconditions(u){Ht(u)},get updatefilterpanel(){return Ot()},set updatefilterpanel(u){Ot(u)},get theme(){return Nt()},set theme(u){Nt(u)},get toolbarheight(){return Gt()},set toolbarheight(u){Gt(u)},get autoheight(){return Xt()},set autoheight(u){Xt(u)},get autorowheight(){return Mt()},set autorowheight(u){Mt(u)},get columnsheight(){return At()},set columnsheight(u){At(u)},get deferreddatafields(){return Qt()},set deferreddatafields(u){Qt(u)},get groupsheaderheight(){return Et()},set groupsheaderheight(u){Et(u)},get groupindentwidth(){return Jt()},set groupindentwidth(u){Jt(u)},get height(){return Rt()},set height(u){Rt(u)},get pagerheight(){return Ft()},set pagerheight(u){Ft(u)},get rowsheight(){return Wt()},set rowsheight(u){Wt(u)},get scrollbarsize(){return Ut()},set scrollbarsize(u){Ut(u)},get scrollmode(){return Yt()},set scrollmode(u){Yt(u)},get scrollfeedback(){return Vt()},set scrollfeedback(u){Vt(u)},get width(){return $t()},set width(u){$t(u)},get autosavestate(){return Kt()},set autosavestate(u){Kt(u)},get autoloadstate(){return Zt()},set autoloadstate(u){Zt(u)},get columns(){return ei()},set columns(u){ei(u)},get enableSanitize(){return ti()},set enableSanitize(u){ti(u)},get cardview(){return ii()},set cardview(u){ii(u)},get cardviewcolumns(){return ri()},set cardviewcolumns(u){ri(u)},get cardheight(){return si()},set cardheight(u){si(u)},get cardsize(){return li()},set cardsize(u){li(u)},get columngroups(){return ai()},set columngroups(u){ai(u)},get columnsmenu(){return oi()},set columnsmenu(u){oi(u)},get columnsresize(){return ni()},set columnsresize(u){ni(u)},get columnsautoresize(){return di()},set columnsautoresize(u){di(u)},get columnsreorder(){return hi()},set columnsreorder(u){hi(u)},get charting(){return ui()},set charting(u){ui(u)},get disabled(){return ci()},set disabled(u){ci(u)},get editable(){return fi()},set editable(u){fi(u)},get batcheditable(){return pi()},set batcheditable(u){pi(u)},get editmode(){return gi()},set editmode(u){gi(u)},get filter(){return vi()},set filter(u){vi(u)},get filterable(){return mi()},set filterable(u){mi(u)},get filternlpinput(){return wi()},set filternlpinput(u){wi(u)},get aiKey(){return xi()},set aiKey(u){xi(u)},get aiUrl(){return bi()},set aiUrl(u){bi(u)},get groupable(){return yi()},set groupable(u){yi(u)},get groups(){return _i()},set groups(u){_i(u)},get horizontalscrollbarstep(){return qi()},set horizontalscrollbarstep(u){qi(u)},get horizontalscrollbarlargestep(){return ji()},set horizontalscrollbarlargestep(u){ji(u)},get initrowdetails(){return Ci()},set initrowdetails(u){Ci(u)},get disablerowdetails(){return Ti()},set disablerowdetails(u){Ti(u)},get keyboardnavigation(){return zi()},set keyboardnavigation(u){zi(u)},get localization(){return Si()},set localization(u){Si(u)},get pagesize(){return Li()},set pagesize(u){Li(u)},get pagesizeoptions(){return ki()},set pagesizeoptions(u){ki(u)},get pagermode(){return Ii()},set pagermode(u){Ii(u)},get pagerbuttonscount(){return Di()},set pagerbuttonscount(u){Di(u)},get pageable(){return Bi()},set pageable(u){Bi(u)},get autofill(){return Pi()},set autofill(u){Pi(u)},get rowdetails(){return Hi()},set rowdetails(u){Hi(u)},get rowdetailstemplate(){return Oi()},set rowdetailstemplate(u){Oi(u)},get ready(){return Ni()},set ready(u){Ni(u)},get rendered(){return Gi()},set rendered(u){Gi(u)},get renderstatusbar(){return Xi()},set renderstatusbar(u){Xi(u)},get rendertoolbar(){return Mi()},set rendertoolbar(u){Mi(u)},get rendergridrows(){return Ai()},set rendergridrows(u){Ai(u)},get sortable(){return Qi()},set sortable(u){Qi(u)},get sortmode(){return Ei()},set sortmode(u){Ei(u)},get sortmodekey(){return Ji()},set sortmodekey(u){Ji(u)},get selectedrowindex(){return Ri()},set selectedrowindex(u){Ri(u)},get selectedrowindexes(){return Fi()},set selectedrowindexes(u){Fi(u)},get source(){return Wi()},set source(u){Wi(u)},get sorttogglestates(){return Ui()},set sorttogglestates(u){Ui(u)},get updatedelay(){return Yi()},set updatedelay(u){Yi(u)},get virtualmode(){return Vi()},set virtualmode(u){Vi(u)},get verticalscrollbarstep(){return $i()},set verticalscrollbarstep(u){$i(u)},get verticalscrollbarlargestep(){return Ki()},set verticalscrollbarlargestep(u){Ki(u)}};function Rr(){const u=r;JQXLite(e).on("bindingcomplete",function(J){u.emit("bindingcomplete",J)}),JQXLite(e).on("columnresized",function(J){u.emit("columnresized",J)}),JQXLite(e).on("columnreordered",function(J){u.emit("columnreordered",J)}),JQXLite(e).on("columnclick",function(J){u.emit("columnclick",J)}),JQXLite(e).on("cellclick",function(J){u.emit("cellclick",J)}),JQXLite(e).on("celldoubleclick",function(J){u.emit("celldoubleclick",J)}),JQXLite(e).on("cellselect",function(J){u.emit("cellselect",J)}),JQXLite(e).on("cellunselect",function(J){u.emit("cellunselect",J)}),JQXLite(e).on("cellvaluechanged",function(J){u.emit("cellvaluechanged",J)}),JQXLite(e).on("cellbeginedit",function(J){u.emit("cellbeginedit",J)}),JQXLite(e).on("cellendedit",function(J){u.emit("cellendedit",J)}),JQXLite(e).on("filter",function(J){u.emit("filter",J)}),JQXLite(e).on("groupschanged",function(J){u.emit("groupschanged",J)}),JQXLite(e).on("groupexpand",function(J){u.emit("groupexpand",J)}),JQXLite(e).on("groupcollapse",function(J){u.emit("groupcollapse",J)}),JQXLite(e).on("pagechanged",function(J){u.emit("pagechanged",J)}),JQXLite(e).on("pagesizechanged",function(J){u.emit("pagesizechanged",J)}),JQXLite(e).on("rowclick",function(J){u.emit("rowclick",J)}),JQXLite(e).on("rowdoubleclick",function(J){u.emit("rowdoubleclick",J)}),JQXLite(e).on("rowselect",function(J){u.emit("rowselect",J)}),JQXLite(e).on("rowunselect",function(J){u.emit("rowunselect",J)}),JQXLite(e).on("rowexpand",function(J){u.emit("rowexpand",J)}),JQXLite(e).on("rowcollapse",function(J){u.emit("rowcollapse",J)}),JQXLite(e).on("sort",function(J){u.emit("sort",J)})}return Vr(()=>{a.autoCreate&&Zi()}),$r(()=>{const u=_e();JQXLite(e).jqxGrid(u)}),{id:l,componentSelector:e,autoresizecolumns:o,autoresizecolumn:d,beginupdate:n,clear:f,createChart:h,destroy:c,endupdate:p,ensurerowvisible:v,focus:x,getcolumnindex:w,getcolumn:m,getcolumnproperty:g,getrowid:b,getrowdata:_,getrowdatabyid:y,getrowboundindexbyid:j,getrowboundindex:C,getrows:L,getboundrows:k,getdisplayrows:O,getdatainformation:X,getsortinformation:P,getpaginginformation:T,hidecolumn:I,hideloadelement:z,hiderowdetails:q,iscolumnvisible:B,iscolumnpinned:S,localizestrings:D,pincolumn:H,refreshdata:G,refresh:N,render:A,scrolloffset:M,scrollposition:Q,showloadelement:U,showrowdetails:Y,setcolumnindex:E,setcolumnproperty:R,showcolumn:$,unpincolumn:F,updatebounddata:W,updating:V,getsortcolumn:le,removesort:re,sortby:ae,addgroup:ee,cleargroups:te,collapsegroup:Z,collapseallgroups:ie,expandallgroups:se,expandgroup:K,getrootgroupscount:oe,getgroup:ne,insertgroup:he,iscolumngroupable:fe,removegroupat:ue,removegroup:ce,addfilter:we,applyfilters:xe,clearfilters:pe,getfilterinformation:ge,getcolumnat:ye,removefilter:ve,refreshfilterrow:qe,gotopage:be,gotoprevpage:ir,gotonextpage:rr,addrow:sr,begincelledit:lr,beginrowedit:ar,closemenu:or,deleterow:nr,endcelledit:dr,endrowedit:hr,getcell:ur,getcellatposition:cr,getcelltext:fr,getcelltextbyid:pr,getcellvaluebyid:gr,getcellvalue:vr,isBindingCompleted:mr,openmenu:wr,setcellvalue:xr,setcellvaluebyid:br,showvalidationpopup:yr,updaterow:_r,clearselection:qr,getselectedrowindex:jr,getselectedrowindexes:Cr,getselectedcell:Tr,getselectedcells:zr,showSidePanel:Sr,closeSidePanel:Lr,selectcell:kr,selectallrows:Ir,selectrow:Dr,unselectrow:Br,unselectcell:Pr,getcolumnaggregateddata:Hr,refreshaggregates:Or,renderaggregates:Nr,exportdata:Gr,exportview:Xr,openColumnChooser:Mr,getstate:Ar,loadstate:Qr,savestate:Er,setOptions:i,options:Jr,getOptions:s,createComponent:t}}},rs=["id"];function ss(a,r,l,e,t,i){return es(),Kr("div",{id:e.id},[Zr(a.$slots,"default")],8,rs)}const os=Yr(is,[["render",ss]]);export{os as J};
