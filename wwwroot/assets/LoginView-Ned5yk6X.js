import{d as f,u as h,e as n,b as v,f as b,c as r,a as t,q as w,x as y,k as u,v as d,t as p,y as g,o as _,_ as x}from"./index-bgLIQOvD.js";const V={class:"auth"},k={class:"auth__card"},E={class:"auth__field"},L={class:"auth__field"},M={key:0,class:"auth__error"},q=["disabled"],B=f({__name:"LoginView",setup(C){const e=h(),m=g(),i=n(()=>e.isLoading.value),l=n(()=>e.error.value??""),a=v({email:"",password:""});b(()=>{e.initialize(),e.dropExpiredToken()});const c=async()=>{e.clearError();try{await e.login(a.email.trim(),a.password),await m.push({name:"scheduler"})}catch{}};return(D,s)=>(_(),r("section",V,[t("div",k,[s[4]||(s[4]=t("h1",{class:"auth__title"},"Вход",-1)),s[5]||(s[5]=t("p",{class:"auth__subtitle"},"Введите email и пароль для входа.",-1)),t("form",{class:"auth__form",onSubmit:w(c,["prevent"])},[t("label",E,[s[2]||(s[2]=t("span",null,"Email",-1)),u(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>a.email=o),class:"auth__input",type:"email",required:""},null,512),[[d,a.email]])]),t("label",L,[s[3]||(s[3]=t("span",null,"Пароль",-1)),u(t("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>a.password=o),class:"auth__input",type:"password",required:""},null,512),[[d,a.password]])]),l.value?(_(),r("p",M,p(l.value),1)):y("",!0),t("button",{class:"auth__button",type:"submit",disabled:i.value},p(i.value?"Входим…":"Войти"),9,q)],32)])]))}}),S=x(B,[["__scopeId","data-v-f436e5af"]]);export{S as default};
