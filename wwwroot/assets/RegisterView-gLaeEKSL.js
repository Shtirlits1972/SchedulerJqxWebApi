import{d as h,u as v,h as n,f as w,o as b,c as d,m as e,y,j as V,k as g,p as l,v as i,t as p,w as k,A as x,B as N,z as R,b as _,_ as B}from"./index-DC3kdpmZ.js";const C={class:"auth"},E={class:"auth__card"},L={class:"auth__field"},M={class:"auth__field"},q={class:"auth__field"},T={key:0,class:"auth__error"},U=["disabled"],z=h({__name:"RegisterView",setup(A){const a=v(),m=R(),r=n(()=>a.isLoading.value),u=n(()=>a.error.value??""),t=w({email:"",password:"",usersName:""});b(()=>{a.initialize(),a.dropExpiredToken()});const c=async()=>{a.clearError();try{await a.register(t.email.trim(),t.password,t.usersName.trim()),await m.push({name:"scheduler"})}catch{}};return(D,s)=>{const f=x("RouterLink");return _(),d("section",C,[e("div",E,[s[7]||(s[7]=e("h1",{class:"auth__title"},"Регистрация",-1)),s[8]||(s[8]=e("p",{class:"auth__subtitle"},"Создайте аккаунт, чтобы войти в систему.",-1)),e("form",{class:"auth__form",onSubmit:y(c,["prevent"])},[e("label",L,[s[3]||(s[3]=e("span",null,"Email",-1)),l(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.email=o),class:"auth__input",type:"email",required:""},null,512),[[i,t.email]])]),e("label",M,[s[4]||(s[4]=e("span",null,"Имя пользователя",-1)),l(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.usersName=o),class:"auth__input",type:"text",required:""},null,512),[[i,t.usersName]])]),e("label",q,[s[5]||(s[5]=e("span",null,"Пароль",-1)),l(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.password=o),class:"auth__input",type:"password",required:""},null,512),[[i,t.password]])]),u.value?(_(),d("p",T,p(u.value),1)):V("",!0),e("button",{class:"auth__button",type:"submit",disabled:r.value},p(r.value?"Создаём…":"Зарегистрироваться"),9,U),g(f,{class:"auth__link",to:"/login"},{default:k(()=>[...s[6]||(s[6]=[N("Уже есть аккаунт? Войти",-1)])]),_:1})],32)])])}}}),j=B(z,[["__scopeId","data-v-6c0e521f"]]);export{j as default};
