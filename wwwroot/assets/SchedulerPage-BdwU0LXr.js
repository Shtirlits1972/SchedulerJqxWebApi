import{j as ze,J as lt,a as Ue}from"./jqxLocalization-BjFutbpt.js";import"./jqxcolorpicker-CYdRboVm.js";import{_ as tt,c as Ze,r as st,o as $e,a as it,b as Qe,d as wt,g as xt,u as bt,e as Ne,f as Dt,h as ot,i as Tt,j as dt,k as Je,l as Ve,w as ut,F as St,m as ke,t as et,n as ct}from"./index-DC3kdpmZ.js";(function(){typeof document>"u"||((function(a){a.jqx.timeSpan=function(){var s={ticksPerMillisecond:1e4,millisecondsPerTick:1e-4,ticksPerSecond:1e7,secondsPerTick:1e-7,ticksPerMinute:6e8,minutesPerTick:16666666666666667e-25,ticksPerHour:36e9,hoursPerTick:27777777777777777e-27,ticksPerDay:864e9,daysPerTick:11574074074074074e-28,millisPerSecond:1e3,millisPerMinute:6e4,millisPerHour:36e5,millisPerDay:864e5,_ticks:0};a.extend(!0,this,s);var f=this;if(f.ticks=function(){return f._ticks},f.days=function(){return parseInt(f._ticks/f.ticksPerDay)},f.timeToMS=function(A,T,h,v){var y=A*3600+T*60+h+v/1e3;return parseInt(y*f.ticksPerSecond)},f.hours=function(){return parseInt(f._ticks/f.ticksPerHour)%24},f.milliseconds=function(){return parseInt(f._ticks/f.ticksPerMillisecond)%1e3},f.minutes=function(){return parseInt(f._ticks/f.ticksPerMinute)%60},f.seconds=function(){return parseInt(f._ticks/f.ticksPerSecond)%60},f.totalDays=function(){return parseInt(f._ticks*f.daysPerTick)},f.totalHours=function(){return parseInt(f._ticks*f.hoursPerTick)},f.totalMilliseconds=function(){var A=f._ticks*f.millisecondsPerTick;return parseInt(A)},f.totalMinutes=function(){return parseInt(f._ticks*f.minutesPerTick)},f.totalSeconds=function(){return parseInt(f._ticks*f.secondsPerTick)},arguments.length===1)f._ticks=arguments[0];else if(arguments.length===3)f._ticks=f.timeToMS(arguments[0],arguments[1],arguments[2]);else if(arguments.length===4){var w=arguments[0],b=arguments[1],q=arguments[2],p=arguments[3],j=0,x=(w*3600*24+b*3600+q*60+p)*1e3+j;f._ticks=x*f.ticksPerMillisecond}else if(arguments.length===5){var w=arguments[0],b=arguments[1],q=arguments[2],p=arguments[3],j=arguments[4],x=(w*3600*24+b*3600+q*60+p)*1e3+j;f._ticks=x*f.ticksPerMillisecond}return f.add=function(A){var T=f._ticks+A._ticks,h=new a.jqx.timeSpan(T);return h},f.substract=function(A){var T=f._ticks-A._ticks;return new a.jqx.timeSpan(T)},f.duration=function(){return f._ticks>=0?new a.jqx.timeSpan(f._ticks):new a.jqx.timeSpan(-f._ticks)},f.equals=function(A){return f._ticks==A._ticks},f.valueOf=function(){return f._ticks},f.compare=function(A,T){return A._ticks>T._ticks?1:A._ticks<T._ticks?-1:0},f.interval=function(A,T){var h=A*T,v=h+(A>=0?.5:-.5);return new a.jqx.timeSpan(v*f.ticksPerMillisecond)},f.fromDays=function(A){return f.interval(A,f.millisPerDay)},f.fromHours=function(A){return f.interval(A,f.millisPerHour)},f.fromMilliseconds=function(A){return f.interval(A,1)},f.fromMinutes=function(A){return f.interval(A,f.millisPerMinute)},f.fromSeconds=function(A){return f.interval(A,f.millisPerSecond)},f.fromTicks=function(A){return new a.jqx.timeSpan(A)},f};var e=[{id:"Local",offset:0,offsetHours:0,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],i=[0,31,59,90,120,151,181,212,243,273,304,334,365],t=[0,31,60,91,121,152,182,213,244,274,305,335,366],r=365*4+1,o=(365*4+1)*25-1,n=((365*4+1)*25-1)*4+1,l=(((365*4+1)*25-1)*4+1)*4,c=(((365*4+1)*25-1)*4+1)*4+((365*4+1)*25-1)*3-367,d=(((365*4+1)*25-1)*4+1)*25-366,m=((((365*4+1)*25-1)*4+1)*25-366)*(1e3*1e4*3600*24)-1,u=((((365*4+1)*25-1)*4+1)*25-366)*(1e3*60*60*24);a.jqx.date=function(){var s=this;if(s.ticksPerMillisecond=1e4,s.millisecondsPerTick=1/1e4,s.ticksPerSecond=1e3*1e4,s.secondsPerTick=1/(1e3*1e4),s.ticksPerMinute=1e3*1e4*60,s.minutesPerTick=1/(1e3*1e4*60),s.ticksPerHour=1e3*1e4*3600,s.hoursPerTick=1/(1e3*1e4*3600),s.ticksPerDay=1e3*1e4*3600*24,s.daysPerTick=1/(1e3*1e4*3600*24),s.millisPerSecond=1e3,s.millisPerMinute=1e3*60,s.millisPerHour=1e3*60*60,s.millisPerDay=1e3*60*60*24,s.daysPerYear=365,s.daysPer4Years=r,s.daysPer100Years=o,s.daysPer400Years=n,s.daysTo1601=l,s.daysTo1899=c,s.daysTo10000=d,s.minTicks=0,s.maxTicks=m,s.maxMillis=u,s.datePartYear=0,s.datePartDayOfYear=1,s.datePartMonth=2,s.datePartDay=3,s.daysToMonth365=i,s.daysToMonth366=t,s.minValue=new Date(0),s.maxValue=new Date(((((365*4+1)*25-1)*4+1)*25-366)*(1e3*1e4*3600*24)-1),s.ticksMask=4611686018427388e3,s.flagsMask=0xc000000000000000,s.localMask=9223372036854776e3,s.ticksCeiling=4611686018427388e3,s.kindUnspecified=0,s.kindUtc=4611686018427388e3,s.kindLocal=9223372036854776e3,s.kindLocalAmbiguousDst=0xc000000000000000,s.kindShift=62,s.regexTrim=/^\s+|\s+$/g,s.regexInfinity=/^[+-]?infinity$/i,s.regexHex=/^0x[a-f0-9]+$/i,s.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,s.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},s.dateData=0,s.timeZone=null,s.timeZones=e,s.internalMS=function(){return s.dateData},s.getDatePart=function(h){var v=s.internalMS(),y=parseInt(v/s.millisPerDay),D=parseInt(y/s.daysPer400Years);y-=D*s.daysPer400Years;var g=parseInt(y/s.daysPer100Years);g==4&&(g=3),y-=g*s.daysPer100Years;var C=parseInt(y/s.daysPer4Years);y-=C*s.daysPer4Years;var H=parseInt(y/s.daysPerYear);if(H==4&&(H=3),h==s.datePartYear)return parseInt(D*400+g*100+C*4+H+1);if(y-=H*s.daysPerYear,h==s.datePartDayOfYear)return parseInt(y+1);for(var S=H==3&&(C!=24||g==3),k=S?s.daysToMonth366:s.daysToMonth365,O=y>>6;y>=k[O];)O++;return h==s.datePartMonth?parseInt(O):parseInt(y-k[O-1]+1)},s.dayOfWeek=function(){var h=s.dateData,v=parseInt(h/s.millisPerDay+1)%7;return v},s.dayOfYear=function(){return s.getDatePart(s.datePartDayOfYear)},s.weekOfYear=function(h){var v=s.toDate(),y=h||s.calendar.firstDay,D=new Date(v.getFullYear(),0,1),g=D.getDay()-y;g=g>=0?g:g+7;var C=Math.floor((v.getTime()-D.getTime()-(v.getTimezoneOffset()-D.getTimezoneOffset())*6e4)/864e5)+1,H;if(g<4){if(H=Math.floor((C+g-1)/7)+1,H>52){var S=new Date(v.getFullYear()+1,0,1),k=S.getDay()-y;k=k>=0?k:k+7,H=k<4?1:53}}else H=Math.floor((C+g-1)/7);return H},s.subtract=function(h){return new a.jqx.timeSpan(s.dateData*s.ticksPerMillisecond-h.dateData*s.ticksPerMillisecond)},s.dateToMS=function(h,v,y){if(h>=1&&h<=9999&&v>=1&&v<=12){h=parseInt(h);var D=s.isLeapYear(h)?s.daysToMonth366:s.daysToMonth365;if(y>=1&&y<=D[v]-D[v-1]){var g=h-1,C=g*365+parseInt(g/4)-parseInt(g/100)+parseInt(g/400)+D[v-1]+y-1;return C*s.millisPerDay}}},s.isLeapYear=function(h){if(h<1||h>9999)throw new Error("Year out of Range");return h%4==0&&(h%100!=0||h%400==0)},s.timeToMS=function(h,v,y,D){if(h>=0&&h<24&&v>=0&&v<60&&y>=0&&y<60){var g=parseInt(h*3600+v*60+y);return D>0&&D<1e3?g*s.millisPerSecond+D:g*s.millisPerSecond}},s.daysInMonth=function(h,v){if(v<1||v>12)throw new Error("Month out of Range");var y=s.isLeapYear(h)?s.daysToMonth366:s.daysToMonth365;return y[v]-y[v-1]},s.arrayIndexOf=function(h,v){if(h.indexOf)return h.indexOf(v);for(var y=0,D=h.length;y<D;y++)if(h[y]===v)return y;return-1},s.startsWith=function(h,v){return h.indexOf(v)===0},s.endsWith=function(h,v){return h.substr(h.length-v.length)===v},s.trim=function(h){return(h+"").replace(s.regexTrim,"")},s.expandFormat=function(h,v){v=v||"F";var y,D=h.patterns,g=v.length;if(g===1){if(y=D[v],!y)throw"Invalid date format string '"+v+"'.";v=y}else g===2&&v.charAt(0)==="%"&&(v=v.charAt(1));return v},s.getEra=function(h,v){if(!v||typeof h=="string")return 0;for(var y,D=h.getTime(),g=0,C=v.length;g<C;g++)if(y=v[g].start,y===null||D>=y)return g;return 0},s.toUpper=function(h){return h.split("Â ").join(" ").toUpperCase()},s.toUpperArray=function(h){for(var v=[],y=0,D=h.length;y<D;y++)v[y]=s.toUpper(h[y]);return v},s.getEraYear=function(h,v,y,D){var g=h.getFullYear();return!D&&v.eras&&(g-=v.eras[y].offset),g},s.getDayIndex=function(h,v,y){var D,g=h.days,C=h._upperDays;return C||(h._upperDays=C=[s.toUpperArray(g.names),s.toUpperArray(g.namesAbbr),s.toUpperArray(g.namesShort)]),v=v.toUpperCase(),y?(D=s.arrayIndexOf(C[1],v),D===-1&&(D=s.arrayIndexOf(C[2],v))):D=s.arrayIndexOf(C[0],v),D},s.getMonthIndex=function(h,v,y){var D=h.months,g=h.monthsGenitive||h.months,C=h._upperMonths,H=h._upperMonthsGen;C||(h._upperMonths=C=[s.toUpperArray(D.names),s.toUpperArray(D.namesAbbr)],h._upperMonthsGen=H=[s.toUpperArray(g.names),s.toUpperArray(g.namesAbbr)]),v=s.toUpper(v);var S=s.arrayIndexOf(y?C[1]:C[0],v);return S<0&&(S=s.arrayIndexOf(y?H[1]:H[0],v)),S},s.appendPreOrPostMatch=function(h,v){for(var y=0,D=!1,g=0,C=h.length;g<C;g++){var H=h.charAt(g);switch(H){case"'":D?v.push("'"):y++,D=!1;break;case"\\":D&&v.push("\\"),D=!D;break;default:v.push(H),D=!1;break}}return y},s.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},s.tryparseDate=function(h,v,y){if(v==null||v==null)v=s.calendar;else if(v!=null&&v&&a.type(v)==="string"&&Globalize){var D=Globalize.cultures[v];D&&(v=D.calendar)}if(y!=null){if(a.type(y)==="array")for(var g=0;g<y.length;g++){var C=s.parseDate(h,y[g],v);if(C)return C}var C=s.parseDate(h,y,v);if(C)return C}if(h=="")return null;if(h!=null&&!h.substring&&(h=h.toString()),h!=null&&h.substring(0,6)=="/Date("){var H=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,S=new Date(+h.replace(/\/Date\((\d+)\)\//,"$1"));if(S=="Invalid Date"){var k=h.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),S=null;k&&(S=new Date(1*k[1]+36e5*k[2]+6e4*k[3]))}if(S==null||S=="Invalid Date"||isNaN(S)){var O=H.exec(h);if(O){var P=new Date(parseInt(O[1]));if(O[2]){var F=parseInt(O[3]);O[2]==="-"&&(F=-F);var z=P.getUTCMinutes();P.setUTCMinutes(z-F)}if(!isNaN(P.valueOf()))return P}}return S}var B={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(var N in B)if(S=s.parseDate(h,B[N],v),S)return S;var M=v.patterns;for(N in M)if(S=s.parseDate(h,M[N],v),S){if(N=="ISO"){var W=s.parseDate(h,M.ISO2,v);if(W)return W}return S}if(a.type(h)==="string"){h=s.trim(h);var X=[":","/","-"," ",","],U=function(ue,Se,qe){return qe.replace(new RegExp(ue,"g"),Se)};h=U(", ",",",h);var Q="",te=h;h.indexOf(":")>=0?(Q=h.substring(h.indexOf(":")-2),Q=s.trim(Q),te=h.substring(0,h.indexOf(":")-2)):h.toUpperCase().indexOf("AM")>=0?(Q=h.substring(h.toUpperCase().indexOf("AM")-2),Q=s.trim(Q),te=h.substring(0,h.toUpperCase().indexOf("AM")-2)):h.toUpperCase().indexOf("PM")>=0&&(Q=h.substring(h.toUpperCase().indexOf("PM")-2),Q=s.trim(Q),te=h.substring(0,h.toUpperCase().indexOf("PM")-2));var Y=new Date,G=!1;if(te){for(var g=0;g<X.length;g++)if(te.indexOf(X[g])>=0){le=te.split(X[g]);break}for(var K=new Array,ee=new Array,Z=new Array,ne=null,fe=null,g=0;g<le.length;g++){var $=le[g],ae=s.parseDate($,"d",v)||s.parseDate($,"dd",v)||s.parseDate($,"ddd",v)||s.parseDate($,"dddd",v);if(ae&&(K.push(ae.getDate()),$.length>2)){ne=g;break}}for(var g=0;g<le.length;g++){var $=le[g],ce=s.parseDate($,"M",v)||s.parseDate($,"MM",v)||s.parseDate($,"MMM",v)||s.parseDate($,"MMMM",v);if(ce){if(ne!=null&&ne==g)continue;if(ee.push(ce.getMonth()),$.length>2){fe=g;break}}}for(var g=0;g<le.length;g++){var $=le[g],me=s.parseDate($,"yyyy",v);if(me){if(ne!=null&&ne==g||fe!=null&&fe==g)continue;Z.push(me.getFullYear())}}for(var ve=new Array,he=0;he<K.length;he++)for(var k=0;k<ee.length;k++)for(var pe=0;pe<Z.length;pe++){var P=new Date(Z[pe],ee[k],K[he]);Z[pe]<1970&&P.setFullYear(Z[pe]),P.getTime()!=NaN&&ve.push(P)}ve.length>0&&(Y=ve[0],G=!0)}if(Q){var we=Q.indexOf(":")>=0?Q.split(":"):Q,je=s.parseDate(Q,"h:mm tt",v)||s.parseDate(Q,"HH:mm:ss.fff",v)||s.parseDate(Q,"HH:mm:ss.ff",v)||s.parseDate(Q,"h:mm:ss tt",v)||s.parseDate(Q,"HH:mm:ss.tttt",v)||s.parseDate(Q,"HH:mm:ss",v)||s.parseDate(Q,"HH:mm",v)||s.parseDate(Q,"HH",v),xe=0,ie=0,re=0,I=0;je&&je.getTime()!=NaN?(xe=je.getHours(),ie=je.getMinutes(),re=je.getSeconds(),I=je.getMilliseconds()):(we.length==1&&(xe=parseInt(we[0])),we.length==2&&(xe=parseInt(we[0]),ie=parseInt(we[1])),we.length==3&&(xe=parseInt(we[0]),ie=parseInt(we[1]),we[2].indexOf(".")>=0?(re=parseInt(we[2].toString().split(".")[0]),I=parseInt(we[2].toString().split(".")[1])):re=parseInt(we[2])),we.length==4&&(xe=parseInt(we[0]),ie=parseInt(we[1]),re=parseInt(we[2]),I=parseInt(we[3]))),Y&&!isNaN(xe)&&!isNaN(ie)&&!isNaN(re)&&!isNaN(I)&&(Y.setHours(xe,ie,re,I),G=!0)}if(G)return Y}if(h!=null){for(var W=null,le=[":","/","-"],De=!0,$=0;$<le.length;$++)h.indexOf(le[$])!=-1&&(De=!1);if(De){var _e=new Number(h);if(!isNaN(_e))return new Date(_e)}}return null},s.getParseRegExp=function(h,v){var y=h._parseRegExp;if(!y)h._parseRegExp=y={};else{var D=y[v];if(D)return D}for(var g=s.expandFormat(h,v).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),C=["^"],H=[],S=0,k=0,O=s.getTokenRegExp(),P;(P=O.exec(g))!==null;){var F=g.slice(S,P.index);if(S=O.lastIndex,k+=s.appendPreOrPostMatch(F,C),k%2){C.push(P[0]);continue}var z=P[0],B=z.length,N;switch(z){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":N="(\\D+)";break;case"tt":case"t":N="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":N="(\\d{"+B+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":N="(\\d\\d?)";break;case"zzz":N="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":N="([+-]?\\d\\d?)";break;case"/":N="(\\"+h["/"]+")";break;default:throw"Invalid date format pattern '"+z+"'."}N&&C.push(N),H.push(P[0])}s.appendPreOrPostMatch(g.slice(S),C),C.push("$");var M=C.join("").replace(/\s+/g,"\\s+"),W={regExp:M,groups:H};return y[v]=W},s.outOfRange=function(h,v,y){return h<v||h>y},s.expandYear=function(h,v){var y=new Date,D=s.getEra(y);if(v<100){var g=h.twoDigitYearMax;g=typeof g=="string"?new Date().getFullYear()%100+parseInt(g,10):g;var C=s.getEraYear(y,h,D);v+=C-C%100,v>g&&(v-=100)}return v},s.parseDate=function(h,v,y){(y==null||y==null)&&(y=s.calendar),h=s.trim(h);var D=y,g=s.getParseRegExp(D,v),C=new RegExp(g.regExp).exec(h);if(C===null)return null;for(var H=g.groups,S=null,k=null,O=null,P=null,F=null,z=0,B,N=0,M=0,W=0,X=null,U=!1,Q=0,te=H.length;Q<te;Q++){var Y=C[Q+1];if(Y){var G=H[Q],K=G.length,ee=parseInt(Y,10);switch(G){case"dd":case"d":if(P=ee,s.outOfRange(P,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(O=s.getMonthIndex(D,Y,K===3),s.outOfRange(O,0,11))return null;break;case"M":case"MM":if(O=ee-1,s.outOfRange(O,0,11))return null;break;case"y":case"yy":case"yyyy":if(k=K<4?s.expandYear(D,ee):ee,s.outOfRange(k,0,9999))return null;break;case"h":case"hh":if(z=ee,z===12&&(z=0),s.outOfRange(z,0,11))return null;break;case"H":case"HH":if(z=ee,s.outOfRange(z,0,23))return null;break;case"m":case"mm":if(N=ee,s.outOfRange(N,0,59))return null;break;case"s":case"ss":if(M=ee,s.outOfRange(M,0,59))return null;break;case"tt":case"t":if(U=D.PM&&(Y===D.PM[0]||Y===D.PM[1]||Y===D.PM[2]),!U&&(!D.AM||Y!==D.AM[0]&&Y!==D.AM[1]&&Y!==D.AM[2]))return null;break;case"f":case"ff":case"fff":if(W=ee*Math.pow(10,3-K),s.outOfRange(W,0,999))return null;break;case"ddd":case"dddd":if(F=s.getDayIndex(D,Y,K===3),s.outOfRange(F,0,6))return null;break;case"zzz":var Z=Y.split(/:/);if(Z.length!==2||(B=parseInt(Z[0],10),s.outOfRange(B,-12,13)))return null;var ne=parseInt(Z[1],10);if(s.outOfRange(ne,0,59))return null;X=B*60+(s.startsWith(Y,"-")?-ne:ne);break;case"z":case"zz":if(B=ee,s.outOfRange(B,-12,13))return null;X=B*60;break;case"g":case"gg":var fe=Y;if(!fe||!D.eras)return null;fe=fe.trim().toLowerCase();for(var $=0,ae=D.eras.length;$<ae;$++)if(fe===D.eras[$].nathat.toLowerCase()){S=$;break}if(S===null)return null;break}}}var ce=new Date,me,ve=D.convert;if(me=ce.getFullYear(),k===null?k=me:D.eras&&(k+=D.eras[S||0].offset),O===null&&(O=0),P===null&&(P=1),ve){if(ce=ve.toGregorian(k,O,P),ce===null)return null}else if(ce.setFullYear(k,O,P),ce.getDate()!==P||F!==null&&ce.getDay()!==F)return null;if(U&&z<12&&(z+=12),ce.setHours(z,N,M,W),X!==null){var he=ce.getMinutes()-(X+ce.getTimezoneOffset());ce.setHours(ce.getHours()+parseInt(he/60,10),he%60)}return ce},s.toString=function(h,v){if(h===void 0&&(h="yyyy-MM-dd HH:mm:ss"),a.jqx.date.cache&&a.jqx.date.cache[s.dateData+h])return a.jqx.date.cache[s.dateData+h];if(v&&a.type(v)==="string"&&Globalize){var y=Globalize.cultures[v];y&&(v=y.calendar)}var D=s.toDate();if((v==null||v==null)&&(v=s.calendar),typeof D=="string")return D;if(D.toString()+""+h,!h||!h.length||h==="i"){var g;return g=s.formatDate(D,v.patterns.F,v),g}var C=v.eras,H=h==="s";h=s.expandFormat(v,h),g=[];var S,k=["0","00","000"],O=0,P=s.getTokenRegExp();function F(Y,G){var K,ee=Y+"";return G>1&&ee.length<G?(K=k[G-2]+ee,K.substr(K.length-G,G)):(K=ee,K)}function z(Y,G){if(Y.getMonth!=null)switch(G){case 0:return Y.getFullYear();case 1:return Y.getMonth();case 2:return Y.getDate()}}for(;;){var B=P.lastIndex,N=P.exec(h),M=h.slice(B,N?N.index:h.length);if(O+=s.appendPreOrPostMatch(M,g),!N)break;if(O%2){g.push(N[0]);continue}var W=N[0],X=W.length;switch(W){case"ddd":case"dddd":var U=X===3?v.days.namesAbbr:v.days.names;g.push(U[D.getDay()]);break;case"d":case"dd":g.push(F(z(D,2),X));break;case"MMM":case"MMMM":var Q=z(D,1);g.push(v.months[X===3?"namesAbbr":"names"][Q]);break;case"M":case"MM":g.push(F(z(D,1)+1,X));break;case"y":case"yy":case"yyyy":Q=s.getEraYear(D,v,s.getEra(D,C),H),X<4&&(Q=Q%100),g.push(F(Q,X));break;case"h":case"hh":S=D.getHours()%12,S===0&&(S=12),g.push(F(S,X));break;case"H":case"HH":g.push(F(D.getHours(),X));break;case"m":case"mm":g.push(F(D.getMinutes(),X));break;case"s":case"ss":g.push(F(D.getSeconds(),X));break;case"t":case"tt":Q=D.getHours()<12?v.AM?v.AM[0]:" ":v.PM?v.PM[0]:" ",g.push(X===1?Q.charAt(0):Q);break;case"f":case"ff":case"fff":g.push(F(D.getMilliseconds(),3).substr(0,X));break;case"z":case"zz":S=D.getTimezoneOffset()/60,g.push((S<=0?"+":"-")+F(Math.floor(Math.abs(S)),X));break;case"zzz":S=D.getTimezoneOffset()/60,g.push((S<=0?"+":"-")+F(Math.floor(Math.abs(S)),2)+":"+F(Math.abs(D.getTimezoneOffset()%60),2));break;case"g":case"gg":v.eras&&g.push(v.eras[s.getEra(D,C)].name);break;case"/":g.push(v["/"]);break;default:throw"Invalid date format pattern '"+W+"'."}}var te=g.join("");return a.jqx.date.cache||(a.jqx.date.cache=new Array),a.jqx.date.cache[s.dateData+h]=te,te},s.add=function(h,v,y){var D=s.internalMS();if(v===void 0){if(y===!1)return s.dateData=D+parseInt(h._ticks/s.ticksPerMillisecond),s;var C=new a.jqx.date(D+parseInt(h._ticks/s.ticksPerMillisecond));return C.timeZone=s.timeZone,C}var g=h*v;if(g<=-s.maxMillis||g>=s.maxMillis)throw new Error("Out of Range");if(y===!1)return s.dateData=D+g,s;var C=new a.jqx.date(D+g);return C.timeZone=s.timeZone,C},s.addDays=function(h,v){return s.add(h,s.millisPerDay,v)},s.clone=function(){var h=new a.jqx.date(s.dateData);return h.timeZone=s.timeZone,h},s.clearTime=function(){var h=s.month(),v=s.year(),y=s.day(),D=new a.jqx.date(v,h,y,0,0,0,0);return D.timeZone=s.timeZone,D},s.addHours=function(h,v){return s.add(h,s.millisPerHour,v)},s.addMilliseconds=function(h,v){return s.add(h,1,v)},s.addMinutes=function(h,v){return s.add(h,s.millisPerMinute,v)},s.addMonths=function(h,v){if(h<-12e4||h>12e4)throw new Error("Invalid Months Value");var y=parseInt(s.getDatePart(s.datePartYear)),D=parseInt(s.getDatePart(s.datePartMonth)),g=parseInt(s.getDatePart(s.datePartDay)),C=D-1+h;if(C>=0?(D=C%12+1,y=y+C/12):(D=12+(C+1)%12,y=y+(C-11)/12),y=parseInt(y),y<1||y>9999)throw new Error("Year out of range");var H=s.daysInMonth(y,D);if(g>H&&(g=H),v===!1)return s.dateData=s.dateToMS(y,D,g)+s.internalMS()%s.millisPerDay,s;var S=new a.jqx.date(s.dateToMS(y,D,g)+s.internalMS()%s.millisPerDay);return S.timeZone=s.timeZone,S},s.addSeconds=function(h,v){return s.add(h,s.millisPerSecond,v)},s.addYears=function(h,v){return s.addMonths(h*12,v)},s.getTimeZoneOffset=function(){var h=new Date,v=new Date(h.getFullYear(),0,1),y=new Date(h.getFullYear(),6,1),D=h.getTimezoneOffset()<Math.max(v.getTimezoneOffset(),y.getTimezoneOffset());return{offset:-(h.getTimezoneOffset()/60),dst:+D}},s.isInDaylightSavingTime=function(){var h=new Date,v=new Date(h.getFullYear(),0,1),y=new Date(h.getFullYear(),6,1);return s.date().getTimezoneOffset()<Math.max(v.getTimezoneOffset(),y.getTimezoneOffset())},s.supportsDaylightSavingTime=function(){var h=new Date,v=new Date(h.getFullYear(),0,1),y=new Date(h.getFullYear(),6,1);return v.getTimezoneOffset()!=y.getTimezoneOffset()},s.date=function(){var h=s.month(),v=s.year(),y=s.day(),D=new a.jqx.date(v,h,y);return D.timeZone=s.timeZone,D},s.isToday=function(){var h=new Date,v=s.month(),y=s.year(),D=s.day();return s.hour(),s.minute(),h.getFullYear()===y&&h.getMonth()===v-1&&h.getDate()===D},s.isNow=function(){var h=new Date,v=s.month(),y=s.year(),D=s.day(),g=s.hour();return s.minute(),h.getFullYear()===y&&h.getMonth()===v-1&&h.getDate()===D&&h.getHours()===g},s.isWeekend=function(){return s.dayOfWeek()==0||s.dayOfWeek()==6},s.toDate=function(h){var v=s.month(),y=s.year(),D=s.day(),g=s.hour(),C=s.minute(),H=s.second(),S=s.millisecond(),k=new Date(y,v-1,D);if(y<1970&&k.setFullYear(y),k.setHours(g,C,H,S),h){var O=s.timeZones.filter(function(M){return M.id==h});if(O.length){var P=O[0].offset;h=="Local"&&(P=-k.getTimezoneOffset());var F=k.getTime(),z=k.getTimezoneOffset()*60*1e3;if(s.timeZone){var B=s.timeZones.filter(function(M){return M.id==s.timeZone});if(B.length)var z=-B[0].offset*60*1e3}var N=F+z;k=new Date(N+60*1e3*P)}}return k},s.toTimeZone=function(h){var v=h;v==null&&(v="Local");var y=s.toDate(v),D=new a.jqx.date(y);return D.timeZone=h,D},s.day=function(){return s.getDatePart(s.datePartDay)},s.month=function(){return s.getDatePart(s.datePartMonth)},s.year=function(){return s.getDatePart(s.datePartYear)},s.millisecond=function(){return parseInt(s.internalMS()%1e3)},s.hour=function(){return parseInt(s.internalMS()/s.millisPerHour%24)},s.minute=function(){return parseInt(s.internalMS()/s.millisPerMinute%60)},s.second=function(){return parseInt(s.internalMS()/s.millisPerSecond%60)},s.valueOf=function(){return s.dateData},s.equals=function(h){return s.dateData===h.dateData},arguments.length===0){var f=new Date;s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}else if(arguments.length===1){arguments[0]==null&&(arguments[0]="todayDate");var w=typeof arguments[0]=="number"&&isFinite(arguments[0]);if(!w&&a.type(arguments[0])==="string")if(arguments[0]==="today"){var f=new Date;s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}else if(arguments[0]==="todayDate"){var f=new Date;f.setHours(0,0,0,0),s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}else{var f=s.tryparseDate(arguments[0]);s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}else if(typeof arguments[0]=="number")s.dateData=arguments[0];else if(a.type(arguments[0])=="date"){var f=arguments[0];s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}else arguments[0].dateData!==void 0?s.dateData=arguments[0].dateData:s.dateData=arguments[0]}else if(arguments.length===2){arguments[0]==null&&(arguments[0]="todayDate");var w=typeof arguments[0]=="number"&&isFinite(arguments[0]);if(!w&&a.type(arguments[0])==="string")if(arguments[0]==="today"){var f=new Date;s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}else if(arguments[0]==="todayDate"){var f=new Date;f.setHours(0,0,0,0),s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}else{var f=s.tryparseDate(arguments[0]);s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}else if(typeof arguments[0]=="number")s.dateData=arguments[0];else if(a.type(arguments[0])=="date"){var f=arguments[0];s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}else arguments[0].dateData!==void 0?s.dateData=arguments[0].dateData:s.dateData=arguments[0];s.timeZone=arguments[1]}else if(arguments.length>2)if(a.type(arguments[0])==="string"){var f=s.tryparseDate(arguments[0],arguments[2],arguments[1]);s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}else{var b=arguments[0],q=arguments[1],p=arguments[2],j=arguments[3],x=arguments[4],A=arguments[5],T=arguments[6];j===void 0&&(j=0),x===void 0&&(x=0),A===void 0&&(A=0),T===void 0&&(T=0),q--;var f=new Date(b,q,p,j,x,A,T);b<1970&&f.setFullYear(b),s.dateData=s.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+s.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}return s}})(jqxBaseFramework),Array.prototype.filter||(Array.prototype.filter=function(a){if(this===void 0||this===null)throw new TypeError;var e=Object(this),i=e.length>>>0;if(typeof a!="function")throw new TypeError;for(var t=[],r=arguments[1],o=0;o<i;o++)if(o in e){var n=e[o];a.call(r,n,o,e)&&t.push(n)}return t}))})();(function(){typeof document>"u"||(function(a){a.jqx.jqxWidget("jqxTooltip","",{}),a.extend(a.jqx._jqxTooltip.prototype,{defineInstance:function(){var e={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,selector:null,opening:null,value:null,_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return this===a.jqx._jqxTooltip.prototype||a.extend(!0,this,e),e},createInstance:function(){this._isTouchDevice=a.jqx.mobile.isTouchDevice();var e=a.data(document.body,"_tooltipIDArray"+this.name);e?this.IDArray=e:(this.IDArray=[],a.data(document.body,"_tooltipIDArray"+this.name,this.IDArray));var i=this._generatekey(),t="jqxtooltip"+i;this.IDArray.push({tooltipID:t,tooltipHost:this.host});var r=document.createElement("div");r.setAttribute("id",t),r.innerHTML='<div id="'+t+'Main"><div id="'+t+'Text"></div></div><div id="'+t+'Arrow"></div>',a.jqx.browser.msie&&(r.className=this.toThemeProperty("jqx-noshadow")),document.body.appendChild(r),this._tooltip=r,this._tooltipHelper=a(r),this._tooltipHelper.initAnimate&&this._tooltipHelper.initAnimate(),r.style.visibility="hidden",r.style.display="none",r.style.opacity=0,r.style.zIndex=99999;var o=document.getElementById(t+"Arrow");this._arrow=o,this.showArrow===!1&&(o.style.visibility="hidden",o.style.display="none"),this._main=document.getElementById(t+"Main"),this._text=document.getElementById(t+"Text"),this._setTheme(),this._setSize(),this._setContent(),this.disabled===!1&&(this._trigger(),this.closeOnClick===!0&&this._clickHide())},open:function(){if(arguments&&arguments.length&&arguments.length===2&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),this.disabled===!1&&this._id()!=="removed")if(this.position==="mouse"||this.position==="mouseenter"){var e=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(e){var i=this,t=a.jqx.browser.msie&&a.jqx.browser.version<9;typeof e=="object"&&a.isEmptyObject(e)&&(e=this.animationHideDelay);var r=parseFloat(i._tooltip.style.opacity),o=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),i._tooltipHelper.animate({opacity:0},e,function(){i._tooltip.style.visibility="hidden",i._tooltip.style.display="none",i._raiseEvent("1"),i._isOpen=!1})};if(this._isOpen===!1&&r!==0){o();return}this._isOpen===!0&&(!t&&r===this.opacity||t)&&o()},destroy:function(){var e=this.IDArray.length;this._removeHandlers(),this._tooltipHelper.remove();for(var i=0;i<e;i++)if(this.IDArray[i].tooltipHost===this.host){this.IDArray.splice(i,1);break}this.host.removeData("jqxTooltip")},refresh:function(e){if(e!==!0){var i=this;this.rtl&&(i._text.className+=" "+i.toThemeProperty("jqx-rtl"),i._text.style.direction="rtl");var t=parseFloat(i._tooltip.style.opacity);this._id()!=="removed"&&(this.disabled===!0&&this._isOpen===!0&&t===this.opacity&&(clearTimeout(this.autoHideTimeout),this._tooltipHelper.animate({opacity:0},this.animationHideDelay,function(){i._tooltip.style.visibility="hidden",i._tooltip.style.display="none",i._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),this.position!=="mouse"&&this.position!=="mouseenter"&&this._setPosition(),this._removeHandlers(),this.disabled===!1&&(this._trigger(),this.closeOnClick===!0&&this._clickHide()))}},propertyChangedHandler:function(e,i,t,r){i==="content"&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(e,i){var t=this.events[e],r=new a.Event(t);r.owner=this,r.args=i;var o;try{o=this.host.trigger(r)}catch{}return o},_generatekey:function(){var e=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return e()+e()},_id:function(){for(var e,i,t=this.IDArray.length,r=0;r<t;r++)if(this.IDArray[r].tooltipHost===this.host){e=this.IDArray[r].tooltipID,i="#"+e;break}return i===void 0&&(i="removed"),i},_setPosition:function(e){var i=this,t=i._tooltip;if(this._isOpen===!1&&parseFloat(t.style.opacity)===0||this.changeContentFlag===!0){if(!e&&(this.position==="mouse"||this.position==="mouseenter"))return;t.style.display="block",this.changeContentFlag=!1,this.documentTop=document.documentElement.scrollTop,this.documentLeft=document.documentElement.scrollLeft,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.hostWidth=i.element.offsetWidth,this.hostHeight=i.element.offsetHeight,this.tooltipWidth=t.offsetWidth,this.tooltipHeight=t.offsetHeight,this.hostOffset=this.host.offset(),this.tooltipOffset=i._tooltipHelper.offset(),this.defaultOffset=30,this.offsetHorizontal=parseInt(this.left,10),this.offsetVertical=parseInt(this.top,10);var r=i._arrow,o=a(r),n=i._main,l=a(n),c=n.offsetWidth,d=n.offsetHeight,m;if(this.arrowSize=5,this.isMaterialized()){var u=window.getComputedStyle(this.element),s=u.getPropertyValue("--jqx-tooltip-arrow-width");s?this.arrowSize=parseInt(s):this.theme==="fluent"&&(this.arrowSize=8)}switch(this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset={},this.position){case"top":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(c/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(c/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"left":window.getComputedStyle?m=window.getComputedStyle(n):m=n.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize+this.offsetHorizontal-(parseInt(m.borderLeftWidth,10)+parseInt(m.borderRightWidth,10)),this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this._detectBrowserBounds(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+c,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this.tooltipOffset.top=parseInt(this.tooltipOffset.top,10),this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+n.offsetHeight/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+c-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+c-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"absolute":i._tooltipHelper.offset({top:this.absolutePositionY,left:this.absolutePositionX}),r.style.borderWidth="0px";break;case"mouse":if(this._isTouchDevice===!1)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){i.tooltipOffset.left=e.pageX+10,i.tooltipOffset.top=e.pageY+10,i._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltipOffset.left=e.pageX+10,this.tooltipOffset.top=e.pageY+10,this._detectBrowserBounds();break}else{var f=e.pageX,w=e.pageY;if(e.originalEvent){var b;e.originalEvent.touches&&e.originalEvent.touches.length?b=e.originalEvent.touches[0]:e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length&&(b=e.originalEvent.changedTouches[0]),b!==void 0&&(f=b.pageX,w=b.pageY)}this.tooltipOffset.left=f+10,this.tooltipOffset.top=w+10,this._detectBrowserBounds()}r.style.borderWidth="0px";break;case"mouseenter":var q={top:e.pageY,left:e.pageX};q.top<this.hostOffset.top+10&&q.top>this.hostOffset.top-10?(this.tooltipOffset.left=q.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(c/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):q.top<this.hostOffset.top+this.hostHeight+10&&q.top>this.hostOffset.top+this.hostHeight-10?(this.tooltipOffset.left=q.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(c/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):q.left<this.hostOffset.left+10&&q.left>this.hostOffset.left-10?(window.getComputedStyle?m=window.getComputedStyle(n):m=n.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize-(parseInt(m.borderLeftWidth,10)+parseInt(m.borderRightWidth,10)),this.tooltipOffset.top=q.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+c,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):q.left<this.hostOffset.left+this.hostWidth+10&&q.left>this.hostOffset.left+this.hostWidth-10&&(this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize,this.tooltipOffset.top=q.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-t-b")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),r.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left}));break;case"default":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(r,i.toThemeProperty("jqx-tooltip-arrow-l-r")),r.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),r.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break}}},_setContent:function(){this._text.innerHTML=this.content},opened:function(){return this._isOpen&&this.host.css("display")=="block"&&this.host.css("visibility")=="visible"},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var e=parseFloat(this._tooltip.style.opacity);if(this._isOpen===!1&&e===0){var i=this;if(i._tooltip.style.visibility="visible",i._tooltip.style.display="block",i._tooltip.style.opacity=0,this.opening){var t=this.opening(this);if(t===!1)return}i._tooltipHelper.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0,i.openedTooltip=i,a.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&i.autoHide===!0&&(i.autoHideTimeout=setTimeout(function(){i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if(this._id()!=="removed"){var e=this,i=this.host;if(this.selector&&(i=a("#"+this.selector)),this._isTouchDevice===!1)switch(this.trigger){case"hover":this.position==="mouse"?(this.addHandler(i,"mousemove.tooltip",function(t){e._enterFlag===1&&(e._raiseEvent("2"),e._setPosition(t),clearTimeout(e.hoverShowTimeout),e.hoverShowTimeout=setTimeout(function(){e._animateShow(),e._enterFlag=0},e.showDelay))}),this.addHandler(i,"mouseenter.tooltip",function(){e._leaveFlag!==0&&(e._enterFlag=1)}),this.addHandler(i,"mouseleave.tooltip",function(t){e._leaveFlag=1,clearTimeout(e.hoverShowTimeout);var r=e._tooltipHelper.offset(),o=e._tooltip.offsetWidth,n=e._tooltip.offsetHeight;(parseInt(t.pageX,10)<parseInt(r.left,10)||parseInt(t.pageX,10)>parseInt(r.left,10)+o)&&e.close(),(parseInt(t.pageY,10)<parseInt(r.top,10)||parseInt(t.pageY,10)>parseInt(r.top,10)+n)&&e.close()}),this.addHandler(e._tooltipHelper,"mouseleave.tooltip",function(t){e._checkBoundariesAuto(t),e._clickFlag!==0&&e._autoFlag!==0?e._leaveFlag=0:(e._leaveFlag=1,e.close())})):(this.addHandler(i,"mouseenter.tooltip",function(t){clearTimeout(e.hoverShowTimeout),e.hoverShowTimeout=setTimeout(function(){e._raiseEvent("2"),e._setPosition(t),e._animateShow()},e.showDelay)}),this.addHandler(i,"mouseleave.tooltip",function(t){if(e._leaveFlag=1,clearTimeout(e.hoverShowTimeout),e.autoHide){var r=t.pageX,o=t.pageY,n=e._tooltipHelper.offset(),l=n.left,c=n.top,d=e._tooltip.offsetWidth,m=e._tooltip.offsetHeight;(parseInt(r,10)<parseInt(l,10)||parseInt(r,10)>parseInt(l,10)+d||parseInt(o,10)<parseInt(c,10)||parseInt(o,10)>parseInt(c,10)+m)&&e.close()}}),this.addHandler(e._tooltipHelper,"mouseleave.tooltip",function(t){e._checkBoundariesAuto(t),e._clickFlag!==0&&e._autoFlag!==0?e._leaveFlag=0:(e._leaveFlag=1,e.autoHide&&e.close())}));break;case"click":this.addHandler(i,"click.tooltip",function(t){e.position==="mouseenter"&&(e.position="mouse"),e._raiseEvent("2"),e._setPosition(t),e._animateShow()});break}else this.trigger!=="none"&&this.addHandler(i,"touchstart.tooltip",function(t){e.position==="mouseenter"&&(e.position="mouse"),e._raiseEvent("2"),e._setPosition(t),e._animateShow()})}},_autoHide:function(){var e=this,i=parseFloat(e._tooltip.style.opacity);this.autoHide===!0&&this._isOpen===!0&&i>=this.opacity&&(e._raiseEvent("3"),e._tooltipHelper.animate({opacity:0},e.animationHideDelay,function(){e._tooltip.style.visibility="hidden",e._tooltip.style.display="none",e._raiseEvent("1"),e._isOpen=!1}))},_clickHide:function(){var e=this;this.addHandler(e._tooltipHelper,"click.tooltip",function(i){e._checkBoundariesClick(i),e.close()})},_setSize:function(){var e=this;e._tooltip.style.width=e._toPx(e.width),e._tooltip.style.height=e._toPx(e.height)},resize:function(){this._setSize()},_setTheme:function(){var e=this;e._tooltip.className.indexOf("jqx-tooltip")===-1&&(e._tooltip.className+=" "+e.toThemeProperty("jqx-tooltip jqx-popup"),e._main.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),e._text.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),e._arrow&&(e._arrow.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow")))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var e=this,i=e._tooltipHelper;this.enableBrowserBoundsDetection?this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left<0?i.offset({top:this.documentTop,left:this.documentLeft}):this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?i.offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top<this.documentTop?i.offset({top:this.documentTop,left:this.tooltipOffset.left}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left<0?i.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.documentLeft}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?i.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop?i.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.tooltipOffset.left}):this.tooltipOffset.left<0?i.offset({top:this.tooltipOffset.top,left:this.documentLeft}):this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?i.offset({top:this.tooltipOffset.top,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):i.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left}):i.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left})},_checkBoundaries:function(e){return e.pageX>=this.hostOffset.left&&e.pageX<=this.hostOffset.left+this.hostWidth&&e.pageY>=this.hostOffset.top&&e.pageY<=this.hostOffset.top+this.hostHeight},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(this._tooltipHelper,"click.tooltip"),this.removeHandler(this._tooltipHelper,"mouseleave.tooltip")},_closeAll:function(){for(var e=0;e<this.IDArray.length;e++){var i=this.IDArray[e].tooltipID,t=document.getElementById(i);t!==this._tooltip&&(t.style.opacity=0,t.style.visibility="hidden",t.style.display="none",this._isOpen=!1)}},_toPx:function(e){return typeof e=="number"?e+"px":e},_removeClass:function(e,i){a(e).removeClass(i)}})})(jqxBaseFramework)})();(function(){typeof document>"u"||(function(a){a.jqx.jqxWidget("jqxInput","",{}),a.extend(a.jqx._jqxInput.prototype,{defineInstance:function(){var e=this,i={disabled:!1,filter:e._filter,sort:e._sort,highlight:e._highlight,dropDownWidth:null,renderer:e._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,enableBrowserBoundsDetection:!0,hint:!0,displayMember:"",valueMember:"",inlineAutoComplete:!1,events:["select","open","close","change"],popupZIndex:1e3,items:8,query:"",minLength:1,maxLength:null,aiKey:""};return this===a.jqx._jqxInput.prototype||a.extend(!0,this,i),i},createInstance:function(){var e=this;(e.host.css("display")==="none"||document.body.contains(e.element)===!1)&&(e._initiallyHidden=!0),e._popupHelper=a(e.$popup),e.render()},getAISuggestions:function(e){var i=this;i.aiKey||e("");function t(d,m){var u=[];return u.push(`Predict what text the user in the given ROLE would insert after the cursor position indicated by ^^^. Auto-correct the text.
`),u.push(`RULES:
`),u.push(`1. Reply with OK:, then in square brackets the predicted text, then END_INSERTION, and no other output.
`),u.push(`2. When a specific value or quantity cannot be inferred and would need to be provided, use the word NEED_INFO.
`),u.push(`3. If there isn't enough information to predict any words that the user would type next, just reply with the word NO_PREDICTION.
`),u.push(`4. NEVER invent new information. If you can't be sure what the user is about to type, ALWAYS stop the prediction with END_INSERTION.
`),u.push(`

ROLE: User USER_TEXT: `+d+m+"^^^"),u.join(`
`)}function r(d,m){var u=i.aiKey,s=JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:d}],max_tokens:200}),f=new XMLHttpRequest;f.open("POST","https://api.openai.com/v1/chat/completions",!0),f.setRequestHeader("Content-Type","application/json"),f.setRequestHeader("Authorization","Bearer "+u),f.onreadystatechange=function(){if(f.readyState===4)if(f.status===200){var w=JSON.parse(f.responseText);if(w.choices&&w.choices.length>0&&w.choices[0].message.content){var b=w.choices[0].message.content;if(b.length>5&&b.startsWith("OK")){b=b.substring(4),b=b.replace("END_INSERTION","");var q=b.match(/\[(.*?)\]/g);if(q){var p=q.map(function(j){return j.replace(/^\[|\]$/g,"")});b=p[0]}b=b.replace("[",""),b=b.replace("]","")}b.indexOf("NO_PREDICTION")>=0&&(b=""),m(null,b)}else m("Error: No valid response from AI",null)}else m("Error fetching AI response: "+f.statusText,null)},f.send(s)}var o=i.input.value.substring(0,i.input.selectionStart),n=i.input.value.substring(i.input.selectionStart+1),l=o+n;if(l.endsWith(" ")){var c=t(o,n);r(c.toString(),function(d,m){e(d?"":m)})}},render:function(){var e=this;if(this.input=this.element,e.isMaterialized()&&this.input instanceof HTMLInputElement){var i=this.host.children();a.each(i,function(u){var s="jqx-input-group-addon";a(this).removeClass(e.toThemeProperty("jqx-rc-all")),u===0&&(s+=" jqx-rc-l"),u===i.length-1&&(s+=" jqx-rc-r"),this!==e.element&&(s+=" jqx-fill-state-normal"),this.className+=" "+e.toThemeProperty(s)});var t=a("<div></div>");t.addClass(e.toThemeProperty("jqx-input-group")),this.host.after(t);var r=this.element,o=this.host.data();t.append(r);var n=a("<label></label");this.hint&&(n[0].innerHTML=this.placeHolder),n.addClass(e.toThemeProperty("jqx-input-label")),t.append(n);var l=a("<label class='jqx-input-inline'></label");l[0].style.display="none",this._inlineLabel=l[0],t.append(l);var c=a("<span></span>");t.append(c),c.addClass(e.toThemeProperty("jqx-input-bar")),t[0].id=this.element.id,this.element.removeAttribute("id"),t[0].style.cssText=this.element.style.cssText,this.element.className.indexOf("underlined")>=0&&t.addClass("underlined"),e.input=e.element,this.input instanceof HTMLInputElement||(this.input=this.host.find("input"),this.input.length>0&&(this.input=this.input[0]),a(this.input).addClass(this.toThemeProperty("jqx-input-widget"))),this.label=n,this.bar=c,this.element.style.cssText="",this.host=t,this.element=t[0],this.host.data(o);var e=this;e.template&&(e.bar.addClass(e.toThemeProperty("jqx-"+e.template)),e.label.addClass(e.toThemeProperty("jqx-"+e.template))),i.length>0&&(e._hasAddons=!0)}else if(this.element.nodeName.toLowerCase()==="textarea")this.element.style.overflow="auto";else if(this.element.nodeName.toLowerCase()==="div"){this.baseHost=this.element;var r=e.element.getElementsByTagName("input"),d=!1;if(a.each(r,function(){var u=this.type;if(u==null||u==="text"||u==="textarea")return r=a(this),d=!0,!1}),!d)throw new Error("jqxInput: Missing Text Input in the Input Group");if(r.length>0){this.baseHost=a(this.element),e.baseElement=e.element;var o=this.host.data();this.host=r,this.element=r[0],e.input=r[0],this.host.data(o),e.baseElement.className+=" "+e.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group");var i=this.baseHost.children();a.each(i,function(f){var w="jqx-input-group-addon";a(this).removeClass(e.toThemeProperty("jqx-rc-all")),f===0&&(w+=" jqx-rc-l"),f===i.length-1&&(w+=" jqx-rc-r"),this!==e.element&&(w+=" jqx-fill-state-normal"),this.className+=" "+e.toThemeProperty(w)})}}this.addHandlers(),this.rtl&&(e.element.className+=" "+e.toThemeProperty("jqx-rtl")),e.input.setAttribute("autocomplete","off"),e.input.setAttribute("autocorrect","off"),e.input.setAttribute("spellcheck",!1),e.input.setAttribute("aria-label","Text Box"),e.element.setAttribute("role","textbox"),e.element.setAttribute("aria-label","Input"),a.jqx.aria(this,"aria-autocomplete","both"),a.jqx.aria(this,"aria-disabled",this.disabled),a.jqx.aria(this,"aria-readonly",!1),a.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&a.jqx.aria(this,"aria-haspopup",!0),this.value!==""&&(this.input.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var e=this,i=function(o){if(o===void 0)return null;if(typeof o=="string"||o instanceof String)return{label:o,value:o};if(typeof o!="string"&&!(o instanceof String)){var n="",l="";return e.displayMember!==""&&e.displayMember!==void 0&&o[e.displayMember]&&(n=o[e.displayMember]),e.valueMember!==""&&e.valueMember!==void 0&&(l=o[e.valueMember]),n===""&&(n=o.label),l===""&&(l=o.value),{label:n,value:l}}return o},t=function(o){for(var n=[],l=0;l<o.length;l++)n[l]=i(o[l]);return n};if(this.source&&this.source._source){if(this.adapter=this.source,this.adapter._source.localdata!=null)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){e.source=t(e.adapter.records)});else{var r={};this.adapter._options.data?a.extend(e.adapter._options.data,r):(this.source._source.data&&a.extend(r,this.source._source.data),this.adapter._options.data=r),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){e.source=t(e.adapter.records)})}this.source.dataBind();return}a.isFunction(this.source)||(this.source=t(this.source))},_refreshClasses:function(e){var i=e?"addClass":"removeClass",t="jqx-widget-content jqx-input-widget jqx-input jqx-widget",r="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";a.jqx.browser.msie&&(r+=" jqx-noshadow"),this.roundedCorners&&(t+=" jqx-rc-all",r+=" jqx-rc-all"),this.disabled?t+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host[i](this.toThemeProperty(t)),this._popupHelper[i](this.toThemeProperty(r))},selectAll:function(){var e=this,i=this.host;i[0]instanceof HTMLInputElement||(i=a(e.input)),setTimeout(function(){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(0,i[0].value.length);else{var t=i[0].createTextRange();t.collapse(!0),t.moveEnd("character",i[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this,i=this.host;i[0]instanceof HTMLInputElement||(i=a(e.input)),this.selectStart(i[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var i=this,t=this.host;t[0]instanceof HTMLInputElement||(t=a(i.input)),setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var r=t[0].createTextRange();r.collapse(!0),r.moveEnd("character",e),r.moveStart("character",e),r.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch{}},resize:function(e,i){this.width=e,this.height=i,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),!this.baseHost)this.width!=null&&this.width.toString().indexOf("px")!=-1?this.element.style.width=parseInt(this.width)+"px":this.width!=null&&!isNaN(this.width)?this.element.style.width=this.width+"px":this.element.style.width=this.width,this.height!=null&&this.height.toString().indexOf("px")!=-1?this.element.style.height=parseInt(this.height)+"px":this.height!=null&&!isNaN(this.height)?this.element.style.height=this.height+"px":this.element.style.height=this.height,this._hasAddons&&(this._addonsWidth=35,this.input.style.width="calc(100% - "+this._addonsWidth+"px)");else{this.width!=null&&this.width.toString().indexOf("px")!=-1?this.baseElement.style.width=parseInt(this.width)+"px":this.width!=null&&!isNaN(this.width)&&(this.baseElement.style.width=this.width+"px"),this.height!=null&&this.height.toString().indexOf("px")!=-1?this.baseElement.style.height=parseInt(this.height)+"px":this.height!=null&&!isNaN(this.height)&&(this.baseElement.style.height=this.height+"px");var e=this,i=a.jqx.browser.msie&&a.jqx.browser.version<9,t=0;if(a.each(this.baseHost.children(),function(){this.style.height="100%",this!==e.element&&(t+=a(this).outerWidth())}),e._addonsWidth=t,i){var r=Math.max(0,e.baseElement.offsetHeight-2);e.element.style.width=Math.max(0,e.baseElement.offsetWidth-t-1)+"px",e.element.style.minHeight=r+"px",e.element.style.lineHeight=r+"px"}else e.element.style.width="calc(100% - "+t+"px)";a.jqx.utilities.resize(e.baseHost,function(){if(i&&typeof e.width=="string"&&e.width.indexOf("%")!==-1&&!e._initiallyHidden)e.element.style.width=e.baseElement.offsetWidth-e._addonsWidth-1+"px";else if(e._initiallyHidden){if(e._addonsWidth=e._getAddonsWidth(),!i)e.element.style.width="calc(100% - "+e._addonsWidth+"px)";else{e.element.style.width=e.baseElement.offsetWidth-e._addonsWidth-1+"px";var o=e.baseElement.offsetHeight-2;e.element.style.minHeight=o+"px",e.element.style.lineHeight=o+"px"}e._initiallyHidden=!1}})}this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.maxLength&&(this.element.setAttribute("maxlength",this.maxLength),this.input&&this.input.setAttribute("maxlength",this.maxLength)),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){var e=this;(!e.isMaterialized()||!e.hint)&&("placeholder"in this.input&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)?e.input.setAttribute("placeHolder",e.placeHolder):e.input.value===""&&(e.input.value=e.placeHolder)),e.hint&&(e.input.value!==""?e.element.setAttribute("hint",!0):e.element.removeAttribute("hint"),e.label&&(e.label.innerHTML=e.placeHolder),this._inlineLabel&&e.inlineAutoComplete&&(this._inlineLabel.style.display="none",e.host.css("overflow","visible")))},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(e,i,t){t.width&&t.height&&Object.keys(t).length===2&&e.refresh()},propertyChangedHandler:function(e,i,t,r){if(i==="width"&&r!==t){e.baseHost?(e.baseElement.style.width=e._toPx(r),a.jqx.browser.msie&&a.jqx.browser.version<9&&(e.element.style.width=e.baseElement.offsetWidth-e._addonsWidth-1+"px")):e.element.style.width=e._toPx(r);return}if(i==="placeHolder"){(!("placeholder"in e.element)||a.jqx.browser.msie&&a.jqx.browser.version<9)&&e.input.value===t&&(e.input.value=""),e._refreshPlaceHolder();return}if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&Object.keys(e.batchUpdate).length===2)){if(i==="theme"&&a.jqx.utilities.setTheme(t,r,e.host),i==="opened"){r?e.open():e.close();return}i==="source"&&(e._oldsource=r,e._updateSource()),(i==="displayMember"||i==="valueMember")&&(e.source=e._oldsource,e._updateSource()),i==="disabled"&&a.jqx.aria(e,"aria-disabled",e.disabled),i==="value"&&(e.input.value=r,e._refreshPlaceHolder()),e.refresh()}},select:function(e,i,t){var r=this,o=this._find("jqx-fill-state-pressed",this._popupHelper);this.inlineAutoComplete&&(o=this.element.querySelector(".jqx-input-inline"),o.style.display="none",r.host.css("overflow","visible"));var n=o.getAttribute("data-value"),l=o.getAttribute("data-name");return this.input.value=this.renderer(l,this.input.value),this.selectedItem={label:l,value:n},this.element.setAttribute("data-value",n),this.element.setAttribute("data-label",l),this._raiseEvent("0",{item:{label:l,value:n},label:l,value:n}),this._raiseEvent("3",{type:t,item:{label:l,value:n},label:l,value:n}),this.value=l,this.close()},val:function(e){return arguments.length===0||e!=null&&typeof e=="object"&&!e.label&&!e.value?this.displayMember!==""&&this.valueMember!==""&&this.selectedItem?this.input.value===""?"":this.selectedItem:this.input.value:e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.element.setAttribute("data-value",e.value),this.element.setAttribute("data-label",e.label),this.value=e,this.input.value=e.label,this.input&&(this.input.value=e.label),this.input.value):(this.value=e,this.input.value=e,this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e}),this._refreshPlaceHolder(),this.input.value)},_raiseEvent:function(e,i){i===void 0&&(i={owner:null});var t=this.events[e];i.owner=this;var r=new a.Event(t);r.owner=this,r.args=i,r.preventDefault&&r.preventDefault();var o=this.host.trigger(r);return o},_renderer:function(e){return e},open:function(){if(!a.jqx.isHidden(this.host)){var e=a.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var i=this.element.id+"_popup";this.$popup.id=i,a.jqx.aria(this,"aria-owns",i),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(e.top+e.height),this.$popup.style.left=this._toPx(e.left),this.$popup.style.display="block";var t=0,r=this._popupHelper.children();if(a.each(r,function(){t+=a(this).outerHeight()+1}),this.$popup.style.height=this._toPx(t),this.enableBrowserBoundsDetection){var o=a(window).height()+a(window).scrollTop(),n=a(this.$popup).offset(),l=a(this.$popup).outerHeight();if(n.top+l>o){var c=e.top+e.height-l-this.host.height();c<0&&(c=0),this.$popup.style.top=c+"px"}}return this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!0),this}},close:function(){if(this._inlineLabel&&(this._inlineLabel.style.display="none"),!!this.opened)return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!1),this._refreshPlaceHolder(),this},suggest:function(){var e,i=this;if(this.query=this.input.value,i.inlineAutoComplete&&i.aiKey){this.load([]);return}return!this.query||this.query.length<this.minLength?(this._inlineLabel&&(this._inlineLabel.style.display="none"),this.opened?this.close():this):(a.isFunction(this.source)?e=this.source(this.query,a.proxy(this.load,this)):e=this.source,e?this.load(e):this)},load:function(e){var i=this,t=[],r=this.searchMode;this.inlineAutoComplete&&(this.searchMode="startswith");for(var o=0;o<e.length;o++){var n=e[o];i.filter(n)&&t.push(n)}if(t=this.sort(t),!t.length){if(this.inlineAutoComplete){var l=this.element.querySelector(".jqx-input-inline");l.style.display="none",i.host.css("overflow","visible"),i._writeTimer&&clearTimeout(i._writeTimer),i._writeTimer=setTimeout(function(){i.getAISuggestions(function(m){m&&(m=i.input.value+m,l.textContent=m,l.setAttribute("data-value",m),l.setAttribute("data-name",m),l.style.opacity=.5,l.style.position="absolute",l.style.zIndex=5,l.style.display="",l.style.left="6px",l.style.lineHeight=i.height+"px",i.host.css("overflow","hidden"),i.searchMode=r)})},500)}return this.opened?this.close():this}if(this.inlineAutoComplete){var n=t.length?t[0]:"",c=typeof n=="string"?n:n.label,d=typeof n=="string"?n:n.value,l=this.element.querySelector(".jqx-input-inline");l.textContent=c,l.setAttribute("data-value",d),l.setAttribute("data-name",c),l.style.opacity=.5,l.style.position="absolute",l.style.zIndex=5,l.style.display="",l.style.left="6px",l.style.lineHeight=i.height+"px",this.searchMode=r,i.host.css("overflow","hidden"),this.getAISuggestions(function(s){s&&(l.textContent=s)});return}return this._render(t.slice(0,this.items)).open()},_filter:function(e){var i=this.query,t=e;switch(e.label!=null?t=e.label:this.displayMember&&(t=e[this.displayMember]),this.searchMode){case"none":break;default:return a.jqx.string.containsIgnoreCase(t,i);case"contains":return a.jqx.string.contains(t,i);case"equals":return a.jqx.string.equals(t,i);case"equalsignorecase":return a.jqx.string.equalsIgnoreCase(t,i);case"startswith":return a.jqx.string.startsWith(t,i);case"startswithignorecase":return a.jqx.string.startsWithIgnoreCase(t,i);case"endswith":return a.jqx.string.endsWith(t,i);case"endswithignorecase":return a.jqx.string.endsWithIgnoreCase(t,i)}},_sort:function(e){for(var i=[],t=[],r=[],o=0;o<e.length;o++){var n=e[o],l=n;n.label?l=n.label:this.displayMember&&(l=n[this.displayMember]),l.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())===0?i.push(n):l.toString().indexOf(this.query)>=0?t.push(n):l.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&r.push(n)}return i.concat(t,r)},_highlight:function(e){var i=this.query;i=i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var t=new RegExp("("+i+")","ig");return e.replace(t,function(r,o){return"<b>"+o+"</b>"})},escapeHTML:function(e){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(t){return i[t]})},sanitizeHTML:function(e){var i=this,t=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig"),r=String(e).replace(t,function(o){return i.escapeHTML(o)});return r},escape_HTML:function(e){if(e&&e.indexOf&&(e.indexOf("onclick")>=0||e.indexOf("onload")>=0||e.indexOf("onerror")>=0))return this.escapeHTML(e);var i=this.sanitizeHTML(e);return i},_render:function(e){var i=this,t=i._popupHelper.children();if(t.length>0)for(var r=0;r<t.length;r++)a(t[r]).remove();var o=function(l,c){var d=l,m=document.createElement("li"),u=document.createElement("a"),s,f;u.setAttribute("href","#"),m.appendChild(u),l.value!==void 0&&l.value!==null?l.label!==void 0&&l.label!==null?(s=l.label,f=i.escape_HTML(l.value)):(s=l.value,f=i.escape_HTML(l.value)):l.label!==void 0&&l.label!==null?(s=l.label,f=l.label):i.displayMember!==void 0&&i.displayMember!==""?(s=l[i.displayMember],f=l[i.valueMember]):(s=l,f=l),m.setAttribute("data-value",f),m.setAttribute("data-name",s),l.label?d=l.label:i.displayMember&&(d=l[i.displayMember]),u.innerHTML=i.highlight(d);var w="";i.rtl&&(w=" jqx-rtl"),c===0&&(w+=" jqx-fill-state-pressed"),m.className=i.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+w),i.$popup.appendChild(m),i.addHandler(m,"mouseenter",function(b){i.mouseenter(b)})},n=function(l){for(var c=0;c<l.length;c++)o(l[c],c)};return n(e),this.dropDownWidth?this.$popup.style.width=i._toPx(i.dropDownWidth):this.$popup.style.width=i._toPx(i.element.offsetWidth-6),this},next:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),i=e.nextSibling;a(e).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.firstChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),i=e.previousSibling;a(e).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.lastChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var e=this,i=".jqxInput"+e.element.id;e.addHandler(e.host,"focus"+i,function(){e.onFocus()}),e.addHandler(e.host,"blur"+i,function(){e.onBlur()}),e.isMaterialized()&&this.input instanceof HTMLInputElement&&e.addHandler(e.input,"blur"+i,function(){e.onBlur()}),e.addHandler(e.host,"change"+i,function(t){if(e.opened&&!t.args){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation();return}if(!t.args){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation();var r=e.val(),o,n;r&&r.label?(o=r.label,n=r.val):(o=r,n=r),e._raiseEvent("3",{type:"keyboard",item:{label:o,value:n},label:o,value:n}),e.value=o,e._refreshPlaceHolder()}}),e.addHandler(e.host,"keypress"+i,function(t){e.keypress(t)}),e.addHandler(e.host,"keyup"+i,function(t){e.keyup(t)}),e.addHandler(e.host,"keydown"+i,function(t){e.keydown(t)}),e.addHandler(e.$popup,"pointerdown"+i,function(t){e.click(t)})},removeHandlers:function(){var e=this,i=".jqxInput"+e.element.id;e.removeHandler(e.host,"change"+i),e.removeHandler(e.host,"focus"+i),e.removeHandler(e.host,"blur"+i),e.removeHandler(e.host,"keypress"+i),e.removeHandler(e.host,"keyup"+i),e.removeHandler(e.host,"keydown"+i),e.removeHandler(e.$popup,"pointerdown"+i)},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next());break}e.stopPropagation()}},keydown:function(e){var i=[40,38,9,13,27];if(this.suppressKeyPressRepeat=i.indexOf(e.keyCode)!==-1,e.key==="Tab"&&!this.opened){this.inlineAutoComplete&&this.select(e,this,"keyboard");return}this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:e.stopPropagation(),e.preventDefault();break;case 9:case 13:if(!this.opened){this.inlineAutoComplete&&(this.select(e,this,"keyboard"),e.stopPropagation(),e.preventDefault());return}this.select(e,this,"keyboard"),e.stopPropagation(),e.preventDefault();break;case 27:if(!this.opened)return;this.close(),e.stopPropagation(),e.preventDefault();break;default:var i=this;if(this.timer&&clearTimeout(this.timer),this.inlineAutoComplete){i.suggest();return}this.timer=setTimeout(function(){i.suggest()},300)}},clear:function(){this.val("")},onBlur:function(){var e=this;setTimeout(function(){e.close()},150),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._refreshPlaceHolder()},onFocus:function(){var e=this;e.element.className+=" "+e.toThemeProperty("jqx-fill-state-focus"),e._refreshPlaceHolder()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(e){a(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return typeof e=="number"?e+"px":e},_find:function(e,i){for(var t=i.children(),r=0;r<t.length;r++){var o=t[r];if(o.className.indexOf(e)!==-1)return o}},_getAddonsWidth:function(){for(var e=this,i=e.baseHost.children(),t=0,r=0;r<i.length;r++)i[r]!==e.element&&(t+=a(i[r]).outerWidth());return t}})})(jqxBaseFramework)})();var ft={},ht;function _t(){return ht||(ht=1,(function(){typeof document>"u"||(function(a){a.jqx.scheduler||(a.jqx.scheduler={}),a.jqx.jqxWidget("jqxScheduler","",{}),a.extend(a.jqx._jqxScheduler.prototype,{defineInstance:function(){var e={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:235,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:a.jqx.utilities.scrollBarSize,touchScrollBarSize:a.jqx.utilities.touchScrollBarSize,showHeader:!0,showCurrent:!0,showCurrentAppointment:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new a.jqx.date(0),max:new a.jqx.date(9999,12,31),maxAppointmentsPerDay:20,date:new a.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1,ICSXWRCALNAME:"jqxScheduler",ICSXWRCALDESC:"jqxScheduler Description"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:469,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===a.jqx._jqxScheduler.prototype||(a.extend(!0,this,e),this.that=this),e},_applyThemeSettings:function(){var e=this,i=window.getComputedStyle(e.element),t=i.getPropertyValue("--jqx-grid-row-height"),r=i.getPropertyValue("--jqx-grid-column-height");i.getPropertyValue("--jqx-scrollbar-size"),t&&e.rowsHeight===27&&(e.rowsHeight=parseInt(t)),r&&(e.columnsHeight=parseInt(r))},createInstance:function(e){var i=this;i._views=new Array,i._view=i.view,this._applyThemeSettings();for(var t=0;t<i.views.length;t++)a.type(i.views[t])==="string"?i._views.push({type:i.views[t]}):i._views.push(i.views[t]);for(var t=0;t<i._views.length;t++)if(i._views[t].type==i.view){i._view=t;break}a.jqx.utilities.scrollBarSize!=15&&(i.scrollBarSize=a.jqx.utilities.scrollBarSize),i.source&&!i.source.dataBind&&(i.source=new a.jqx.dataAdapter(i.source));var r=i.source._source.datafields;r&&r.length>0&&(i._camelCase=i.source._source.dataFields!==void 0,i.selectionMode=i.selectionMode.toLowerCase()),i.host.attr("tabindex")==null&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("aria-roledescription","calendar"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-scheduler")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content jqx-disableselect")),!i._testmodules()&&(i.overlay=a("<div style='z-index: 999; position:absolute;'></div>"),i.overlay.hide(),i.overlay.appendTo(i.host),i.render(!0),a.jqx.utilities.resize(i.host,function(){var o=a(window).width(),n=a(window).height();i._hostWidth=null,i._hostHeight=null;var l=i.host.width(),c=i.host.height();i._hostWidth=l,i._hostHeight=c,(i._lastHostWidth!=l||i._lastHostHeight!=c)&&i._updatesize(i._lastHostWidth!=l,i._lastHostHeight!=c),i._lastWidth=o,i._lastHeight=n,i._lastHostWidth=l,i._lastHostHeight=c}),i.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var e=this;e.editRecurrenceDialog=null;var i=a("<div><div>"+e.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+e.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+e.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+e.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+e.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+e.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+e.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+e.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");e.editRecurrenceDialog=i,a(i).jqxWindow({rtl:e.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:e.theme,minWidth:300,minHeight:110,resizable:!1});var t=i.find("button");t.jqxButton({theme:e.theme,width:"50%"});var r=!1;t.mousedown(function(){r=!0;var o=this.id;o.indexOf("editRecurringAppointmentOccurrence")>=0?e.editSeries(!1):e.editSeries(!0),a(i).jqxWindow("close")}),this.addHandler(a(i),"open",function(o){e._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:e.selectedJQXAppointment?e.selectedJQXAppointment.boundAppointment:null})}),e.addHandler(a(i),"keydown",function(o){if(o.keyCode==13&&a(document.activeElement).ischildof(a(i))&&document.activeElement.nodeName.toLowerCase()=="button")return a(document.activeElement).trigger("mousedown"),a(document.activeElement).trigger("mouseup"),!0}),this.addHandler(a(i),"close",function(o){if(!r)return e._removeFeedbackAndStopResize(),e.overlay.hide(),e.focus(),e._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:e.selectedJQXAppointment?e.selectedJQXAppointment.boundAppointment:null}),!1;r=!1,e.overlay.hide(),e.focus(),e._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:e.selectedJQXAppointment?e.selectedJQXAppointment.boundAppointment:null})}),e.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),i=this._views[this._view].type;switch(this._views[this._view],i){case"dayView":case"timelineDayView":return e}var t=this.getFirstDayOfWeek(e);return t},getViewEnd:function(){var e=this.getViewStart(),i=1,t=this._views[this._view].type,r=this._views[this._view];switch(t){case"dayView":i=1;break;case"timelineDayView":i=1,r.days&&(i=r.days);break;case"weekView":case"timelineWeekView":i=7,r.days&&(i=r.days);break;case"monthView":i=41;break;case"timelineMonthView":i=41,r.days&&(i=r.days);break;case"agendaView":i=7,r.days&&(i=r.days);break}return e.addDays(i)},getFirstDayOfWeek:function(e){var i=e,t=this.schedulerLocalization.firstDay;for((t<0||t>6)&&(t=6);i.dayOfWeek()!=t;)i.addDays(-1,!1);return i},getVisibleDate:function(){var e=this.date;e<this.min&&(e=this.min),e>this.max&&(e=this.max);var i=this._views[this._view].type;switch(this._views[this._view],e=e.clearTime(),i){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return e}var t=e.day(),r=e.addDays(-t+1);return e=r,e},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=a('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var e=a('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");if(e.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),this.source._source.url!=""){var i=!1;(this.height==="auto"||this.height===null||this.autoheight)&&this.maxHeight==999999&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var t=!1;(this.width==="auto"||this.width===null||this.autoWidth)&&(t=!0),t?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(e){var i=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),a(document.body).append(i),e=="cell"?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var e="",i=function(){e.length!=""&&(e+=",")};this.host.jqxScrollBar||(i(),e+=" jqxscrollbar.js"),this.host.jqxButton||(i(),e+=" jqxbuttons.js"),a.jqx.dataAdapter||(i(),e+=" jqxdata.js"),this.host.jqxDateTimeInput||(i(),e+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(i(),e+=" jqxcalendar.js");try{Globalize||(i(),e+=" globalize.js")}catch{}if(e!="")throw new Error("jqxScheduler: Missing references to the following module(s): "+e);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){var e=this;setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),this.focused=!0;return}if(document.activeElement==this.element)return;this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch{}},hiddenParent:function(){return a.jqx.isHidden(this.host)},_updatesize:function(e,i){if(!this._loading){var t=this,r=t.host.width(),o=t.host.height();t._oldWidth||(t._oldWidth=r),t._oldHeight||(t._oldHeight=o),t._resizeTimer!=null&&(clearTimeout(t._resizeTimer),t._resizeTimer=null);var n=300,l=function(){t._resizeTimer&&clearTimeout(t._resizeTimer),t.resizingGrid=!0,!a.jqx.isHidden(t.host)&&(t._updatecolumnwidths(),t.refresh(),t._oldWidth=r,t._oldHeight=o,t.resizingGrid=!1)};l(),t._resizeTimer=setTimeout(function(){var c=t.host.width(),d=t.host.height();(t._oldWidth!=c||t._oldHeight!=d)&&l()},n)}},resize:function(e,i){e!=null&&(this.width=e),i!=null&&(this.height=i),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(this.touchDevice!=null)return this.touchDevice;var e=a.jqx.mobile.isTouchDevice();return this.touchDevice=e,this.touchMode==!0?(e=!0,a.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e):this.touchMode==!1&&(e=!1),e&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,i){if(this._cellscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(e!=null){for(var t in this.schedulerLocalization)e[t]&&(this.schedulerLocalization[t]=e[t]);e.loadingErrorMessage&&(this.loadingErrorMessage=e.loadingErrorMessage),i!==!1&&(this._builddataloadelement(),a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var i=!1,t=this;(t.width==="auto"||t.width===null||t.autowidth)&&t.maxWidth==999999&&(i=!0);var r=t._views[t._view].type,o=t._views[t._view];if(r=="monthView"&&t.resources&&t.resources.orientation=="none"&&!o.monthRowAutoHeight){var m=t.vScrollBar[0].style.visibility;t.hScrollBar[0].style.visibility="hidden",t.vScrollBar[0].style.visibility="hidden",m!=t.vScrollBar[0].style.visibility&&t._updatecolumnwidths();return}var n=parseInt(t.scrollBarSize),l=t.table?t.table.height():0,c=0,d="inherit",m=t.vScrollBar[0].style.visibility;if(t.hScrollBar[0].style.visibility,e)var u=e;else var u=t.host.height();t.columnGroups?u-=t.showHeader?t.columnsheader.height():0:u-=t.showHeader?t.columnsHeight:0,t.filterable&&(u-=t.filter.height()),t.pageable&&(u-=t.pagerHeight,t.pagerPosition==="both"&&(u-=t.pagerHeight)),t.showToolbar&&(u-=t.toolbarHeight),t.showLegend&&t._resources.length>0&&(u-=t.legendHeight);var s=!1;(t.height==="auto"||t.height===null||t.autoheight)&&t.maxHeight==999999&&(s=!0),!s&&l>u&&t.getRows().length>0?(t.vScrollBar[0].style.visibility=d,c=4+parseInt(n),t.vScrollBar.jqxScrollBar({max:l-u})):t.vScrollBar[0].style.visibility="hidden",m!=t.vScrollBar[0].style.visibility&&t._updatecolumnwidths();var f=t.table?t.table.width():0;f>4&&(f-=4);var w=parseInt(t.host.css("border-left-width"))+parseInt(t.host.css("border-right-width")),b=w+t.host.width()-c;if(f>b&&!i){if(t.hScrollBar[0].style.visibility=d,t.hScrollBar.jqxScrollBar({max:2+w+f-b}),c=4+parseInt(n),n==0&&(c=0),!s&&l!=u){if(l>u-c+4&&t.getRows().length>0){t.hScrollBar.jqxScrollBar({max:w+f-b});var q=t.vScrollBar[0].style.visibility==="hidden";t.vScrollBar[0].style.visibility=d,t._updatecolumnwidths(),q&&t.hScrollBar.jqxScrollBar({max:f-b+w});var p=t.table?t.table.width():0;p>3&&(p-=3),p!=f&&(p<b?(t.hScrollBar.jqxScrollBar({max:w+p-b}),t.hScrollBar[0].style.visibility="hidden",c=0):q?p>b&&t.hScrollBar.jqxScrollBar({max:w+p-b}):t.hScrollBar.jqxScrollBar({max:f-b+w-n}))}l-u>0?t.vScrollBar.jqxScrollBar({max:l-u+c}):t.vScrollBar[0].style.visibility="hidden"}}else t.hScrollBar[0].style.visibility="hidden";t.getRows().length===0&&(t.vScrollBar[0].style.visibility="hidden",t.bottomRight[0].style.visibility="hidden"),t.vScrollBar[0].style.visibility=="hidden"&&t.vScrollInstance.value!=0&&t.vScrollInstance.setPosition(0)},_measureElementWidth:function(e){var i=a("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),a(document.body).append(i);var t=i.outerWidth()+20;return i.remove(),t},_arrangeAutoHeight:function(e){if(e||(e=0),this.height==="auto"||this.height===null||this.autoheight){var i=this.table.height(),t=0;if(this._hostHeight=null,this.columnGroups?t+=this.showHeader?this.columnsheader.height():-1:t+=this.showHeader?this.columnsHeight:-1,t+=this.showLegend&&this._resources.length>0?this.legendHeight:0,t+=this.showToolbar?this.toolbarHeight:0,t+=this.pageable?this.pagerHeight:0,this.pagerPosition==="both"&&(t+=this.pageable?this.pagerHeight:0),t+=i,this.filterable){var r=this.filter.find(".filterrow"),o=this.filter.find(".filterrow-hidden"),n=1;o.length>0&&(n=0),t+=this.filterHeight-1+this.filterHeight*r.length*n}return t+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(t+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),this.width==="auto"||this.width===null||this.autowidth){this._hostWidth=null;for(var i=0,t=0;t<this.columns.records.length;t++){var r=this.columns.records[t].width;this.columns.records[t].hidden||(r=="auto"&&(r=this._measureElementWidth(this.columns.records[t].text)),i+=r)}var o=i;return o+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(o+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),i=0;return this.showToolbar&&(i+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&this.legendPosition!="bottom"&&this._resources.length>0&&(i+=parseInt(this.legendHeight)+1),{top:i,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var e=this.legendHeight;this._resources.length==0&&(e=0);var i=this._hostWidth?this._hostWidth:this.host.width(),t=this._hostHeight?this._hostHeight:this.host.height(),r=t;this.showLegend&&this.legendPosition=="top"?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden";var o=0;if(this.showToolbar?(this.toolbar.width(i),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",o+=this.toolbarHeight,t-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&this.legendPosition=="bottom"?(this.legendbarbottom[0].style.width=i+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&this.legendPosition=="top"){this.legendbartop[0].style.width!=i+"px"&&(this.legendbartop[0].style.width=parseInt(i)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=o+"px"&&(this.legendbartop[0].style.top=o+"px");var n=o+e+"px";o=o+e,this.content[0].style.top!=n&&(this.content[0].style.top=o+"px")}this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(r);var l=parseInt(this.scrollBarSize),c=4,d=2,m=0;if(this.vScrollBar[0].style.visibility!="hidden"&&(m=l+c),this.hScrollBar[0].style.visibility!="hidden"&&(d=l+c+2),l==0&&(d=0,m=0),this.vScrollBar[0].style.visibility!="hidden"||this.hScrollBar[0].style.visibility!="hidden"){var u=this._arrangeAutoHeight(d-2),s=this._arrangeAutoWidth(m+1);if((u||s)&&(this.legendbartop[0].style.width=parseInt(i)+"px",this.toolbar[0].style.width=parseInt(i)+"px",this.legendbarbottom[0].style.width=parseInt(i)+"px",this.filter[0].style.width=parseInt(i)+"px"),u){var f=this._measureTopAndHeight();o=f.top,t=f.height}}var w=0;this.showLegend&&this.legendPosition=="bottom"?(d+=e,w+=e):this.showLegend&&(d+=e),this.hScrollBar[0].style.height!=l+"px"&&(this.hScrollBar[0].style.height=parseInt(l)+"px"),(this.hScrollBar[0].style.top!=o+t-c-l-w+"px"||this.hScrollBar[0].style.left!="0px")&&(this.hScrollBar[0].style.top=o+t-c-l-w-1+"px",this.hScrollBar[0].style.left="0px");var b=this.hScrollBar[0].style.width,q=!1,p=!1;m==0?b!=i-2+"px"&&(this.hScrollBar[0].style.width=i-2+"px",q=!0):b!=i-l-c+"px"&&(this.hScrollBar[0].style.width=i-l-c+"px",q=!0),this.vScrollBar[0].style.width!=l+"px"&&(this.vScrollBar[0].style.width=l+"px",p=!0),this.vScrollBar[0].style.height!=parseInt(t)-d+"px"&&(this.vScrollBar[0].style.height=parseInt(t)-d+"px",p=!0),(this.vScrollBar[0].style.left!=parseInt(i)-parseInt(l)-c+"px"||this.vScrollBar[0].style.top!=o+"px")&&(this.vScrollBar[0].style.top=o+"px",this.vScrollBar[0].style.left=parseInt(i)-parseInt(l)-c+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:o}),this.vScrollBar.css("visibility")!="hidden"&&this.hScrollBar.css({left:l+2}));var j=this.vScrollInstance;j.disabled=this.disabled;var x=this.hScrollInstance;x.disabled=this.disabled,q&&x.refresh(),p&&j.refresh();var A=function(h){h.vScrollBar[0].style.visibility!="hidden"&&h.hScrollBar[0].style.visibility!="hidden"?(h.bottomRight[0].style.visibility="inherit",h.bottomRight[0].style.left=1+parseInt(h.vScrollBar.css("left"))+"px",h.bottomRight[0].style.top=parseInt(h.hScrollBar.css("top"))+"px",h.rtl&&h.bottomRight.css("left","0px"),h.bottomRight[0].style.width=parseInt(l)+3+"px",h.bottomRight[0].style.height=parseInt(l)+4+"px"):h.bottomRight[0].style.visibility="hidden"};A(this),this.content[0].style.width!=i-m+"px"&&(this.content[0].style.width=i-m+"px"),this.content[0].style.height!=t-d+3+"px"&&(this.content[0].style.height=t-d+3+"px"),this.content[0].style.top!=o+"px"&&(this.content[0].style.top=parseInt(o)+"px"),this.rtl&&this.content.css("left",m),this.showLegend&&this.legendPosition=="bottom"&&(this.legendbarbottom.css("top",o-1+t-e-(this.pageable?this.pagerHeight:0)),this.rtl&&(this.hScrollBar.css("visibility")=="hidden"?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,i!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),t!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=i,this._hostHeight=r;var T=this.schedulercontent.coord();this._tableOffset=T}},scrollOffset:function(e,i){if(arguments.length==0||e!=null&&typeof e=="object"&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(e!=null&&typeof e=="object")var i=e.left,t=e.top,e=t;e==null||i==null||e==null||i==null||(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",i))},scrollleft:function(e){e==null||e==null||this.hScrollBar.css("visibility")!="hidden"&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){e==null||e==null||this.vScrollBar.css("visibility")!="hidden"&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,e!==!1&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(e,i,t){if(this.loadingstate!==!0){var r=window;this.host.css("display")=="block"&&(this.autoShowLoadElement?(a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none")));var o=this;e==null&&(e={}),(e.sortcomparer==null||e.sortcomparer==null)&&(e.sortcomparer=null),(e.filter==null||e.filter==null)&&(e.filter=null),(e.sort==null||e.sort==null)&&(e.sort=null),(e.data==null||e.data==null)&&(e.data=null),e!=null&&(e._source!=null?e._source.url:e.url),this.dataview=this.dataview||new a.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new a.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,this.dataview.scheduler=this,this.resourcesDataView.scheduler=this,this._loading=!0,this.appointments=new Array,this.uiappointments=new Array;var n=1;this.resources&&this.resources.source&&(n=2);var l=0,c=function(){if(l==n){o._resourcesBinding=!1;var d=o._resources.length>1?o._resources.length:1;if(o.resources&&o.resources.orientation==="horizontal"?(o.tableColumns=d,o.tableRows=1):o.resources&&o.resources.orientation==="vertical"?(o.tableRows=d,o.tableColumns=1):(o.tableColumns=1,o.tableRows=1),o._render(),o.autoShowLoadElement&&!o._loading&&(a(o.dataloadelement).css("visibility","hidden"),a(o.dataloadelement).css("display","none")),o._updateTouchScrolling(),o._raiseEvent("bindingComplete"),t&&t(),!o.initializedcall){if(o.initializedcall=!0,o.isInitialized=!0,(o.width!=null&&o.width.toString().indexOf("%")!=-1||o.height!=null&&o.height.toString().indexOf("%")!=-1)&&o._updatesize(!0),o.ready&&o.ready(),o._rendercelltexts&&o._rendercelltexts(),o._gridRenderElement){a(o._gridRenderElement).show("slow");var m=6e3+Math.floor(Math.random()*4e3+1),u="SET".toLowerCase()+"-"+"TIMEOUT".toLowerCase();r[a.camelCase(u)](function(){a(o._gridRenderElement).hide("slow",function(){a(o._gridRenderElement).remove()})},m)}o.host.css("visibility")=="hidden"&&(a.jqx.browser.msie&&a.jqx.browser.version<8,o.vScrollBar.css("visibility")=="visible"&&o.vScrollBar.css("visibility","inherit"),o.hScrollBar.css("visibility")=="visible"&&o.hScrollBar.css("visibility","inherit"),o._intervalTimer=setInterval(function(){o.host.css("visibility")=="visible"&&(o._updatesize(!0),clearInterval(o._intervalTimer))},100))}}};this._resourcesBinding=!1,this.dataview.update=function(d){o._loading=!1,o.appointmentsByKey=new Array,o.appointments=new Array,o.uiappointments=new Array,o.source._source.datafields;for(var m=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"],u=new Array,s=0;s<o.source.records.length;s++){var f=o.source.records[s],w={};for(var b in o.appointmentDataFields){var q=o.appointmentDataFields[b],p=f[q];if((b=="from"||b=="to")&&(p=new a.jqx.date(p)),b=="style"&&p){var j=o.getAppointmentColors(p);w.color=j.color,w.background=j.background,w.borderColor=j.border}if(b=="recurrencePattern"&&p&&(p=new a.jqx.scheduler.recurrencePattern(p),p.timeZone=f.timeZone||o.timeZone),b=="recurrenceException"){var x=new Array;if(p){p.indexOf("EXDATE:")>=0&&(p=p.substring(p.indexOf("EXDATE:")+7));var A=new Array;p.indexOf(",")>=0?A=p.split(","):A.push(p);for(var T=0;T<A.length;T++){var h=A[T];if(h.indexOf(";")>=0){var v=h.split(";")[1];h=h.split(";")[0],v.toLowerCase().indexOf("display")>=0&&v.toLowerCase().indexOf("none")&&(w.hidden=!0)}try{var y=a.jqx.scheduler.utilities.untilStringToDate(h);y!="Invalid Date"&&(w.timeZone?y=new a.jqx.date(y,w.timeZone):o.timeZone?y=y.toTimeZone(o.timeZone):y=new a.jqx.date(y))}catch{var y=new a.jqx.date(h,o.timeZone)}x.push(y)}}p=x}w[b]=p}for(var D in m){var b=m[D];if(w[b]==null){var p="";if(b=="originalData")continue;b=="ownerId"&&(p=null),b=="timeZone"&&(p=null),b=="recurrencePattern"&&(p=null),b=="recurrenceException"&&(p=[]),b=="allDay"&&(p=!1),b=="draggable"&&(p=!0),b=="resizable"&&(p=!0),b=="hidden"&&(p=!1),b=="resourceId"&&(p=null),b=="from"&&(p=new a.jqx.date),b=="to"&&(p=new a.jqx.date().addHours(1)),w[b]=p}}w.originalData=f,o.resources&&!o.resources.source&&(o._resourcesBinding||u.indexOf(w.resourceId)==-1&&u.push(w.resourceId)),o.appointmentsByKey[f.uid]=w,o.appointments.push(w);var g=new a.jqx.scheduler.appointment(w);if(w.timeZone&&(g.from=g.from.toTimeZone(w.timeZone),g.to=g.to.toTimeZone(w.timeZone)),o.timeZone?(w.timeZone||(g.timeZone=o.timeZone),g.from=g.from.toTimeZone(o.timeZone),g.to=g.to.toTimeZone(o.timeZone)):(g.from=g.from.toTimeZone(null),g.to=g.to.toTimeZone(null)),w.jqxAppointment=g,w.recurrenceException)for(var C=0;C<w.recurrenceException.length;C++){var y=g.recurrenceException[C],H=g.clone();H.occurrenceFrom=y;var S=g.duration();o.allDay&&(S=new a.jqx.timeSpan(1e4*(o.to-o.from))),H.from=y,H.to=y.add(S),H.rootAppointment=g,H.hidden=!0,g.exceptions.push(H)}g.boundAppointment=w,g.scheduler=o,o.uiappointments.push(g)}o._resourcesBinding||(o._resources=u),l++,c()},this.resourcesDataView.update=function(d){if(o.resources.dataField){o._resources=new Array;for(var m=0;m<d.length;m++)o._resources.indexOf(d[m][o.resources.dataField])>=0||d[m][o.resources.dataField]&&o._resources.push(d[m][o.resources.dataField])}else o._resources=d;o.resources.orientation==null&&(o.resources.orientation="none"),l++,c()},this.dataview.databind(e),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source))}},_raiseEvent:function(e,i){i==null&&(i={owner:null});var t=e,r=i;r.owner=this;var o=new a.Event(t);o.owner=this,o.args=r;var n=this.host.trigger(o);return i=o.args,n},ensureAppointmentVisible:function(e){return this.appointmentsByKey[e]?this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment):!1},_ensureAppointmentVisible:function(e){if(this.vScrollBar[0].style.visibility==="hidden"&&this.hScrollBar[0].style.visibility==="hidden"||!e)return!1;var i=this.getViewStart(),t=this.getViewEnd(),r=a.jqx.scheduler.utilities.rangeIntersection(e.from,e.to,i,t);if(!r)return this.navigateTo(e.from),this._ensureAppointmentVisible(e);var o=e.id,n=a('[data-key="'+o+'"]');if(n.length>0)var l=n[0];else if(e.elements&&e.elements.length>0)var c=e.elements[0],l=c.element;else return!1;var d=this.vScrollInstance.value,m=this.hScrollInstance.value;if(this.rtl)var m=this.hScrollInstance.max-m;var u=this.element.clientHeight,s=this.element.clientWidth,f=0;this.columnGroups?f+=this.showHeader?this.columnsheader.height():0:f+=this.showHeader?this.columnsHeight:0;var w=this._views[this._view].type,b=this._views[this._view],q=0;if(w=="dayView"||w=="weekView"){var p=this.showAllDayRow;b.timeRuler&&(w==="dayView"||w==="weekView")&&b.timeRuler.showAllDayRow!=null&&(p=b.timeRuler.showAllDayRow),p&&(this.tableRows==1?q=this.table[0].rows[0].clientHeight:q=this.table[0].rows[1].clientHeight);var j=e.duration().days()>=1||e.allDay;if(j&&this.tableRows==1&&this.tableColumns==1)return!1}this.showToolbar&&(f+=this.toolbarHeight),u-=f,this.showLegend&&this._resources.length>0&&(u-=this.legendHeight);var x=0,A=0,T=d-x,h=u+T-q,v=m-A,y=s+v,D=l;D=a(D),D[0].clientHeight;var g=D.position().top-q;if(g<=T){var C=g;C<0&&(C=0),(!j||j&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",C)}else if(g>=h){var C=g;C<0&&(C=0),(!j||j&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",C-2)}var H=D.position().left;H=Math.round(H),H+D.outerWidth(),Math.round(D.position().left)===0&&this.hScrollBar.jqxScrollBar("setPosition",0),H<=v&&(H-D.outerWidth()+A,this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-H):this.hScrollBar.jqxScrollBar("setPosition",H)),H>y&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-H):this.hScrollBar.jqxScrollBar("setPosition",H))},ensureVisible:function(e,i){for(var t=this,r=a.type(e)=="date"?e:e.toDate(),o=0;o<t.rows.length;o++)for(var n=0;n<t.rows[o].cells.length;n++){var l=t.rows[o].cells[n];if(!(i&&l.getAttribute("data-view")!==i)){var c=l.getAttribute("data-date"),d=t._getDateByString(c);if(d.valueOf()==r.valueOf())return t._ensureVisible(l)}}},_ensureVisible:function(e){if(this.vScrollBar[0].style.visibility==="hidden"&&this.hScrollBar[0].style.visibility==="hidden")return!1;var i=this.vScrollBar.jqxScrollBar("value"),t=this.hScrollBar.jqxScrollBar("value");this.rtl&&(t=this.hScrollBar.jqxScrollBar("max")-t);var r=this._hostHeight,o=this._hostWidth,n=0;this.columnGroups?n+=this.showHeader?this.columnsheader.height():0:n+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(n+=this.toolbarHeight),r-=n,this.showLegend&&this._resources.length>0&&(r-=this.legendHeight),this.hScrollBar.css("visibility")!="hidden"&&(r-=20);var l=0,c=0,d=this._views[this._view].type,m=this._views[this._view],u=0;if(d=="dayView"||d=="weekView"){var s=this.showAllDayRow;m.timeRuler&&(d==="dayView"||d==="weekView")&&m.timeRuler.showAllDayRow!=null&&(s=m.timeRuler.showAllDayRow),s&&(this.tableRows==1?u=this.table[0].rows[0].clientHeight:u=this.table[0].rows[1].clientHeight)}var f=i-l,w=r+f-u,b=t-c,q=o+b,p=e;p=a(p);var j=p.position().top-u,x=j+p.outerHeight(),A=p.position().left;A=Math.round(A);var T=A+p.outerWidth();if(Math.round(p.position().left)===0&&this.hScrollBar.jqxScrollBar("setPosition",0),A<=b){var h=A-p.outerWidth()+c;h<0&&(h=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-h):this.hScrollBar.jqxScrollBar("setPosition",h)}T>=q&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+c+T-o)):this.hScrollBar.jqxScrollBar("setPosition",2+c+T-o));var v=p.parent().index();if(this.tableRows>0&&v--,Math.round(p.position().top)===0||v===0)return this.vScrollBar.jqxScrollBar("setPosition",0);var y=this.table[0].rows.length-1,D=this.table[0].rows[y];if(D[0]===p.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(j<=f){var g=j;return g<0&&(g=0),this.vScrollBar.jqxScrollBar("setPosition",g)}if(x>=w)return this.vScrollBar.jqxScrollBar("setPosition",4+x-r+u)},getColumn:function(e){var i=null;return this.columns.records&&a.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return i=this,!1}),i},_setcolumnproperty:function(e,i,t){if(e==null||i==null||t==null)return null;i=i.toLowerCase();var r=this.getColumn(e);if(r!=null){r[i],r[i]=t;var o=this.getColumn(e);switch(o!=null&&(o[i]=t),i){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":i=="align"?(this._rendercolumnheaders(),this.refresh()):i=="text"||i=="class"||i=="hidden"||i=="pinned"||i=="resizable"||i=="renderer"?(this._rendercolumnheaders(),this.refresh()):i=="width"||i=="maxwidth"||i=="minwidth"?(r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh();break}}},getColumnProperty:function(e,i){if(e==null||i==null)return null;i=i.toLowerCase();var t=this.getColumn(e);return t[i]},setColumnProperty:function(e,i,t){this._setcolumnproperty(e,i,t)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,i){this.databind(this.source,e,i)},refresh:function(e){if(e!=!0){var i=this;if(a.jqx.isHidden(i.host))return;i.table[0].style.top="0px",i.vScrollInstance.setPosition(0),i._renderrows(),i._arrange(),i._renderhorizontalscroll(),i._updateTouchScrolling(),i._refreshToolBar(),i._updateFocusedCell()}},_updateFocusedCell:function(){var e=this;if(e.focusedCell){e._updateCellsSelection();return}var i=e._views[e._view].type,t=e._views[e._view],r=e.showAllDayRow;if(t.timeRuler&&(i==="dayView"||i==="weekView")&&t.timeRuler.showAllDayRow!=null&&(r=t.timeRuler.showAllDayRow),!r||i!="dayView"&&i!="weekView"?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")>=0){e.focusedCell=null;for(var o=0;o<this.rows.length;o++){for(var n=0;n<this.rows[o].cells.length;n++){var l=this.rows[o].cells[n];if(l.className.indexOf("jqx-scheduler-disabled-cell")==-1){e.focusedCell=l;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()},_updateTouchScrolling:function(){var e=this.that;if(e.isTouchDevice()){var i=a.jqx.mobile.getTouchEventName("touchstart"),t=a.jqx.mobile.getTouchEventName("touchend"),r=a.jqx.mobile.getTouchEventName("touchmove");e.schedulercontent&&(e.removeHandler(e.table,i+".touchScroll"),e.removeHandler(e.table,r+".touchScroll"),e.removeHandler(e.table,t+".touchScroll"),e.removeHandler(e.table,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(e._table[0],Math.max(e.vScrollInstance.max,e.hScrollInstance.max),function(o,n){e.dragOrResize||(n!=null&&e.vScrollBar.css("visibility")!="hidden"&&(e.vScrollInstance.value,e.vScrollInstance.setPosition(n)),o!=null&&e.hScrollBar.css("visibility")!="hidden"&&(e.hScrollInstance.value,e.hScrollInstance.setPosition(o)),e.scrolled=new Date)},this.element.id,this.hScrollBar,this.vScrollBar))}},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){this.hScrollBar[0].style.visibility!="hidden"&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){this.vScrollBar[0].style.visibility!="hidden"&&this.vScrollInstance.setPosition(e)},render:function(e){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset")),this.showCurrent&&this.element.setAttribute("show-current","");var t=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=t.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),this.localization!=null&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var o=this.source.datafields;if(o==null&&this.source._source&&(o=this.source._source.datafields),o)for(var n=0;n<this.columns.length;n++){var l=this.columns[n];if(l&&l.cellsFormat&&l.cellsFormat.length>2){for(var c=0;c<o.length;c++)if(o[c].name==l.datafield&&!o[c].format){o[c].format=l.cellsFormat;break}}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var d=this,m=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.schedulercontent&&(d.schedulercontent[0].scrollLeft=0,d.schedulercontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(u){return m(),!1}),e!==!0&&this._render()},_render:function(){var e=this;if(e.dataview!=null&&!e._loading){(e.columnsHeight!=25||e.columnGroups)&&e._measureElement("column"),e.rowinfo=new Array,e._removeHandlers(),e.columns==null?e.columns=new a.jqx.schedulerDataCollection(e.element):e._initializeColumns(),e.host.height(e.height),e.host.width(e.width),a.jqx.utilities.html(e.content,""),e.columnsheader=e.columnsheader||a('<div style="overflow: hidden;"></div>'),e.columnsheader.remove(),e.columnsheader.addClass(e.toTP("jqx-widget-header")),e.columnsheader.addClass(e.toTP("jqx-grid-header")),e.showHeader?e.columnsheader&&e.columnsheader.css("display","block"):e.columnsheader.css("display","none"),e.schedulercontent=e.schedulercontent||a('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),e.schedulercontent.remove();var i=e.columnsHeight;i=e._preparecolumnGroups(),e.columnsheader.height(i),e.content.append(e.columnsheader),e.content.append(e.schedulercontent),e._rendercolumnheaders(),e.tableheight=null,e.schedulercontent.find("#contenttable"+e.element.id).remove(),e.table!=null&&(e.table.remove(),e.table=null),e.pinnedtable!=null&&(e.pinnedtable.remove(),e.pinnedtable=null),e.table=a('<div id="contenttable'+e.element.id+'" style="overflow: hidden; position: relative;"></div>'),e.pinnedtable=a('<div id="contenttable2'+e.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),e.schedulercontent.addClass(e.toTP("jqx-grid-content")),e.schedulercontent.addClass(e.toTP("jqx-widget-content")),e.schedulercontent.append(e.table),e.tableRows==1&&e.schedulercontent.append(e.pinnedtable),e._renderrows(),e._arrange(),e._resourcesElements=new Array;var t=function(d,c){d.children().remove();var d=a("<div style='margin:5px; position: relative;'></div>").appendTo(d);e._resourcesElements[c]=new Array,a.each(e._resources,function(m){var u=e.getColors(m),s=this.toString(),f=a("<div data-toggle='on' style='border-color: "+u.border+"; background: "+u.background+";' class='"+e.toThemeProperty("jqx-scheduler-legend")+"'></div>");f.appendTo(d);var w=a("<div class='"+e.toThemeProperty("jqx-scheduler-legend-label")+"'>"+s+"</div>");w.appendTo(d),e._resourcesElements[c][s]=f;var b=function(){f.attr("data-toggle")=="on"?e.hideAppointmentsByResource(s):e.showAppointmentsByResource(s)};e.addHandler(f,"mousedown",function(){return b(),!1}),e.addHandler(w,"mousedown",function(){return b(),!1})})};t(e.legendbarbottom,"bottom"),t(e.legendbartop,"top"),e.legendPosition=="top"?e.legendbarbottom.hide():e.legendbartop.hide(),e._resources.length==0&&(e.legendbarbottom.hide(),e.legendbartop.hide()),e.renderToolBar?e.renderToolBar(e.toolbar):e._renderToolBar(),e.disabled&&e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._renderhorizontalscroll(),e._addHandlers(),e.clearSelection();var r=e._views[e._view].type,o=e._views[e._view],n=e.showAllDayRow;o.timeRuler&&(r==="dayView"||r==="weekView")&&o.timeRuler.showAllDayRow!=null&&(n=o.timeRuler.showAllDayRow),!n||r!="dayView"&&r!="weekView"?e.focusedCell=e.rows[0].cells[0]:e.focusedCell=e.rows[1].cells[0],e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){var i=null;e.className.indexOf("jqx-scheduler-appointment")>=0&&e.className.indexOf("jqx-scheduler-appointment-inner-content")==-1&&e.className.indexOf("jqx-scheduler-appointment-content")==-1&&e.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&(i=e);for(var t=e,r=0;r<4&&t.parentNode;r++)t.className.indexOf("jqx-scheduler-appointment")>=0&&t.className.indexOf("jqx-scheduler-appointment-innter-content")==-1&&t.className.indexOf("jqx-scheduler-appointment-content")==-1&&t.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&(i=t),t=t.parentNode;return i},getJQXAppointmentByElement:function(e){var i=this,t=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");if(t.indexOf(".")>=0){var r=t.substring(0,t.indexOf("."));t.substring(t.indexOf(".")+1);var o=i.appointmentsByKey[r];if(o)var n=o.jqxAppointment.renderedAppointments[t]}else{var o=i.appointmentsByKey[t];if(o)var n=o.jqxAppointment}return n},_renderToolBar:function(){var e=this,i=a('<div style="width: 100%; height: 100%; position: relative;"></div>'),t=(this.toolbarHeight-20)/2;i.css("top",t),e.toolbarLeftButton=a('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-left: 3px; margin-right: 3px; height: 24px; width: 27px; float: left;"></div>'),e.toolbarRightButton=a('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-right: 3px; width: 27px; height: 24px; float: left;"></div>'),e.toolbarLeftButton.attr("title",e.schedulerLocalization.toolBarPreviousButtonString),e.toolbarRightButton.attr("title",e.schedulerLocalization.toolBarNextButtonString),e.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:e.disabled,theme:e.theme}),e.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:e.disabled,theme:e.theme}),e.dateTimeInput=a('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),e.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),e.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var r=a("<div style='outline: none;  width: 15px; height: 15px;'></div>");r.addClass(e.toThemeProperty("jqx-icon-arrow-left")),e.toolbarLeftButton.wrapInner(r);var o=a("<div style='outline: none; width: 15px; height: 15px;'></div>");o.addClass(e.toThemeProperty("jqx-icon-arrow-right")),e.toolbarRightButton.wrapInner(o),e.rtl&&(e.toolbarLeftButton.css("float","right"),e.toolbarRightButton.css("float","right"),e.dateTimeInput.css("float","right")),e.addHandler(e.toolbarRightButton,"mouseenter",function(){o.addClass(e.toThemeProperty("jqx-icon-arrow-right-hover"))}),e.addHandler(e.toolbarLeftButton,"mouseenter",function(){r.addClass(e.toThemeProperty("jqx-icon-arrow-left-hover"))}),e.addHandler(e.toolbarRightButton,"mouseleave",function(){o.removeClass(e.toThemeProperty("jqx-icon-arrow-right-hover"))}),e.addHandler(e.toolbarLeftButton,"mouseleave",function(){r.removeClass(e.toThemeProperty("jqx-icon-arrow-left-hover"))}),e.addHandler(e.toolbarRightButton,"mousedown",function(){o.addClass(e.toThemeProperty("jqx-icon-arrow-right-selected"))}),e.addHandler(e.toolbarRightButton,"mouseup",function(){o.removeClass(e.toThemeProperty("jqx-icon-arrow-right-selected"))}),e.addHandler(e.toolbarLeftButton,"mousedown",function(){r.addClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),e.addHandler(e.toolbarLeftButton,"mouseup",function(){r.removeClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),e.addHandler(a(document),"mouseup.pagerbuttons"+e.element.id,function(){o.removeClass(e.toThemeProperty("jqx-icon-arrow-right-selected")),r.removeClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),e.addHandler(e.toolbarRightButton,"click",function(){e.toolbarRightButton.jqxButton("disabled")||(e.rtl?e.navigateBackward():e.navigateForward(),e.focus())}),e.addHandler(e.toolbarLeftButton,"click",function(){e.toolbarLeftButton.jqxButton("disabled")||(e.rtl?e.navigateForward():e.navigateBackward(),e.focus())}),e.toolbar.children().remove(),e.toolbar.append(i),e.rtl?(i.append(e.toolbarRightButton),i.append(e.dateTimeInput),i.append(e.toolbarLeftButton)):(i.append(e.toolbarLeftButton),i.append(e.dateTimeInput),i.append(e.toolbarRightButton)),e.toolbarDetails=a('<div class="'+e.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),e.toolbarViews=a('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),e.rtl&&(e.toolbarDetails.css("float","right"),e.toolbarDetails.css("margin-left","0px"),e.toolbarDetails.css("margin-right","7px"),e.toolbarViews.css("margin-left","10px"),e.toolbarViews.css("margin-right","0px"),e.toolbarViews.css("float","left"));var n=new Array;e.rtl?(n.push(e.toolbarRightButton),n.push(e.dateTimeInput),n.push(e.toolbarLeftButton)):(n.push(e.toolbarLeftButton),n.push(e.dateTimeInput),n.push(e.toolbarRightButton));var l=e._views.length-1;a.each(e._views,function(s){var f="",w=s;if(e.rtl&&(w=l-s),e._views[w].text!=null)f=e._views[w].text;else switch(e._views[w].type){case"dayView":f=e.schedulerLocalization.dayViewString;break;case"weekView":f=e.schedulerLocalization.weekViewString;break;case"monthView":f=e.schedulerLocalization.monthViewString;break;case"agendaView":f=e.schedulerLocalization.agendaViewString;break;case"timelineDayView":f=e.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":f=e.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":f=e.schedulerLocalization.timelineMonthViewString;break}var b='<span data-type="'+e._views[w].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+f+"</span>",q=a(b);q.addClass(e.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),n.push(q),w==0&&(e.rtl?q.addClass(e.toTP("jqx-rc-r")):q.addClass(e.toTP("jqx-rc-l"))),w==e._views.length-1&&(e.rtl?q.addClass(e.toTP("jqx-rc-l")):q.addClass(e.toTP("jqx-rc-r"))),w===e._view&&q.addClass(e.toTP("jqx-fill-state-pressed")),q.mouseenter(function(){q.addClass(e.toTP("jqx-fill-state-hover"))}),q.mouseleave(function(){q.removeClass(e.toTP("jqx-fill-state-hover"))}),q.mousedown(function(){e._setView(w),e.focus()}),a(e.toolbarViews).append(q)}),i.append(e.toolbarDetails),i.append(e.toolbarViews),e._views.length<2&&e.toolbarViews.hide(),e.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:e.rtl,localization:e._getDateTimeInputLocalization(),firstDayOfWeek:e.schedulerLocalization.firstDay,todayString:e.schedulerLocalization.todayString,clearString:e.schedulerLocalization.clearString,showFooter:!0,height:25,width:25,renderMode:"simple"}),e.addHandler(e.dateTimeInput,"change",function(s){e.fromNavigate||(e.navigateTo(new a.jqx.date(s.args.date,e.timeZone)),e.focus())}),e.tabKeyElements=n;var c=e._views[e._view].type,d=function(s){var f=a.jqx.formatDate(e.getViewStart().toDate(),s,e.schedulerLocalization),w=a.jqx.formatDate(e.getViewEnd().toDate(),s,e.schedulerLocalization);c==="dayView"||c==="timelineDayView"?e.toolbarDetails.html(f):e.toolbarDetails.html(f+" - "+w),e.rtl?(e.toolbarDetails.addClass("jqx-rtl"),e.toolbarDetails.html("<span style='direction:rtl;'>"+w+"<span> - <span style='direction:rtl;'>"+f+"</span>")):e.toolbarDetails[0].style.direction="ltr"};d(e.toolBarRangeFormat);var m=e.toolbarViews.width()+e.toolbarDetails.width()+120,u=e.toolBarRangeFormat;if(m>e.host.width()){u=e.toolBarRangeFormatAbbr,d(u);var m=e.toolbarViews.width()+e.toolbarDetails.width()+120;if(m>e.host.width()){e.toolbarDetails.hide();var m=e.toolbarViews.width()+120;m>e.host.width()&&e.toolbarViews.hide()}}else e.currentToolbarFormat=e.toolBarRangeFormat},_setView:function(e){var i=this;if(i.toolbarViews.find(".jqx-fill-state-pressed").removeClass(i.toTP("jqx-fill-state-pressed")),i.rtl?a(i.toolbarViews.children()[i._views.length-1-e]).addClass(i.toTP("jqx-fill-state-pressed")):a(i.toolbarViews.children()[e]).addClass(i.toTP("jqx-fill-state-pressed")),i._view!==e){var t=i.vScrollBar[0].style.visibility;t&&(i._scrollPosition||(i._scrollPosition=new Array),i._scrollPosition[i._view]=i.vScrollInstance.value);var r=i.hScrollBar[0].style.visibility;r&&(i._hscrollPosition||(i._hscrollPosition=new Array),i._hscrollPosition[i._view]=i.hScrollInstance.value);var o=i._views[i._view].type,n=i._views[e].type;i._view=e,i._refreshColumns(),i.refresh();var l=i.hScrollBar[0].style.visibility;r!==l&&(i._renderrows(),i._updateTouchScrolling()),i._scrollPosition[i._view]&&i.vScrollInstance.setPosition(i._scrollPosition[i._view]),i._hscrollPosition[i._view]&&i.hScrollInstance.setPosition(i._hscrollPosition[i._view]),i.selectedJQXAppointment&&i._ensureAppointmentVisible(i.selectedJQXAppointment);var c=i.getViewStart(),d=a.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("viewChange",{date:i.date,from:c,to:d,oldViewType:o,newViewType:n})}},_getDateTimeInputLocalization:function(){var e=this,i={};return i.backString=e.schedulerLocalization.backString,i.forwardString=e.schedulerLocalization.forwardString,i.todayString=e.schedulerLocalization.todayString,i.clearString=e.schedulerLocalization.clearString,i.calendar=e.schedulerLocalization,i},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5);break}this.view=e},navigateForward:function(){var e=this,i=this._views[this._view].type,t=this._views[this._view],r=new a.jqx.date(this.date,e.timeZone),o=function(){for(;(r.dayOfWeek()==0||r.dayOfWeek()==6)&&t.showWeekends===!1;)r=r.addDays(1);return r};switch(i){case"dayView":case"timelineDayView":r=r.addDays(1),r=o();break;case"weekView":case"timelineWeekView":r=r.addDays(7);break;case"monthView":case"timelineMonthView":r.day();var n=r.month(),l=r.year(),c=new a.jqx.date(l,n,1);c.timeZone=e.timeZone,r=c.addMonths(1);break;case"agendaView":t.days?r=r.addDays(t.days):r=r.addDays(7);break}return this.navigateTo(r)},navigateBackward:function(){var e=this,i=this._views[this._view].type,t=this._views[this._view],r=new a.jqx.date(this.date,e.timeZone),o=function(){for(;(r.dayOfWeek()==0||r.dayOfWeek()==6)&&t.showWeekends===!1;)r=r.addDays(-1);return r};switch(i){case"dayView":case"timelineDayView":r=r.addDays(-1),r=o();break;case"weekView":case"timelineWeekView":r=r.addDays(-7);break;case"monthView":case"timelineMonthView":r.day();var n=r.month(),l=r.year(),c=new a.jqx.date(l,n,1);c.timeZone=e.timeZone,r=c.addMonths(-1);break;case"agendaView":t.days?r=r.addDays(-t.days):r=r.addDays(-7);break}return this.navigateTo(r)},_refreshToolBar:function(e){var i=this,t=i.getViewStart(),r=i.getViewEnd(),o=function(l){var c=a.jqx.formatDate(t.toDate(),l,i.schedulerLocalization),d=a.jqx.formatDate(r.toDate(),l,i.schedulerLocalization),m=i._views[i._view].type,u=i._views[i._view];if(u.showWeekends===!1){(t.dayOfWeek()==0||t.dayOfWeek()==6)&&(t=t.addDays(1)),(t.dayOfWeek()==0||t.dayOfWeek()==6)&&(t=t.addDays(1)),(r.dayOfWeek()==0||r.dayOfWeek()==6)&&(r=r.addDays(-1)),(r.dayOfWeek()==0||r.dayOfWeek()==6)&&(r=r.addDays(-1));var c=a.jqx.formatDate(t.toDate(),l,i.schedulerLocalization),d=a.jqx.formatDate(r.toDate(),l,i.schedulerLocalization)}m==="dayView"||m==="timelineDayView"?i.toolbarDetails.html(c):i.toolbarDetails.html(c+" - "+d),i.rtl?(i.toolbarDetails.addClass("jqx-rtl"),i.toolbarDetails.html("<span style='direction:rtl;'>"+d+"<span> - <span style='direction:rtl;'>"+c+"</span>")):i.toolbarDetails[0].style.direction="ltr"};if(e){o(i._lastFormatString||i.toolBarRangeFormat);return}o(i.toolBarRangeFormat),i.toolbarDetails.show(),i.toolbarViews.show();var n=i.toolbarViews.width()+i.toolbarDetails.width()+120;if(n>i.host.width()){o(i.toolBarRangeFormatAbbr);var n=i.toolbarViews.width()+i.toolbarDetails.width()+120;if(n>i.host.width()){i.toolbarDetails.hide();var n=i.toolbarViews.width()+120;n>i.host.width()&&i.toolbarViews.hide()}}},navigateTo:function(e){var i=this;if(a.type(e)=="date"&&(e=new a.jqx.date(e)),!(e<this.min)&&!(e>this.max)){e.timeZone=i.timeZone,i.date=e,i._refreshToolBar(!0),i.fromNavigate=!0,i.dateTimeInput.val(e.toDate()),i.fromNavigate=!1,i._refreshColumnTitles(),i._renderrows(),i._updateFocusedCell(),i.resources&&i._renderhorizontalscroll();var t=i.getViewStart(),r=a.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("dateChange",{date:e,from:t,to:r})}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var i=this,t=0;t<this.columnGroups.length;t++)this.columnGroups[t].parent=null,this.columnGroups[t].groups=null;for(var t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;for(var r=function(q){for(var p=0;p<i.columnGroups.length;p++){var j=i.columnGroups[p];if(j.name===q)return j}return null},t=0;t<this.columnGroups.length;t++){var o=this.columnGroups[t];if(o.groups||(o.groups=null),o.parentGroup&&(o.parentgroup=o.parentGroup),o.parentgroup){var n=r(o.parentgroup);n&&(o.parent=n,n.groups||(n.groups=new Array),n.groups.indexOf(o)===-1&&n.groups.push(o))}}for(var t=0;t<this.columns.records.length;t++){var o=this.columns.records[t];if(o.columngroup){var n=r(o.columngroup);n&&(n.groups||(n.groups=new Array),o.parent=n,n.groups.indexOf(o)===-1&&n.groups.push(o))}}for(var l=0,t=0;t<this.columns.records.length;t++){var o=this.columns.records[t],c=o;for(o.level=0;c.parent;)c=c.parent,o.level++;var c=o,d=o.level;for(l=Math.max(l,o.level);c.parent;)c=c.parent,c&&(c.level=--d)}for(var m=function(q){var p=new Array;if(q.columngroup&&p.push(q),!q.groups)return new Array;for(var j=0;j<q.groups.length;j++)if(q.groups[j].columngroup)p.push(q.groups[j]);else if(q.groups[j].groups)for(var x=m(q.groups[j]),A=0;A<x.length;A++)p.push(x[A]);return p},t=0;t<this.columnGroups.length;t++){var o=this.columnGroups[t],u=m(o);o.columns=u;for(var s=new Array,f=0,w=0;w<u.length;w++)s.push(this.columns.records.indexOf(u[w])),u[w].pinned&&f++;if(f!=0)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");s.sort(function(j,x){return j=parseInt(j),x=parseInt(x),j<x?-1:j>x?1:0});for(var b=1;b<s.length;b++)if(s[b]!=s[b-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+l,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,i){if(i.editRecurrenceDialog&&i.editRecurrenceDialog.jqxWindow("isOpen")||i._editDialog&&i._editDialog.jqxWindow("isOpen"))return!0;if(i.autoheight&&i.hScrollBar.css("visibility")=="hidden")return e.returnValue=!0,!0;var t=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t){var r=i._handleDelta(t);return r&&(e.preventDefault&&e.preventDefault(),e.originalEvent!=null&&(e.originalEvent.mouseHandled=!0),e.stopPropagation!=null&&e.stopPropagation()),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if(this.vScrollBar.css("visibility")!="hidden"){var i=this.vScrollInstance.value;e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20);var t=this.vScrollInstance.value;if(i!=t)return!0}else if(this.hScrollBar.css("visibility")!="hidden"){var i=this.hScrollInstance.value;e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var t=this.hScrollInstance.value;if(i!=t)return!0}return!1},_removeHandlers:function(){var e=this;e._mousewheelfunc&&e.removeHandler(this.host,"mousewheel",e._mousewheelfunc),e.removeHandler(a(document),"keydown.scheduler"+e.element.id),e.removeHandler(e.host,"focus"),e.removeHandler(e.host,"blur"),e.removeHandler(e.host,"dragstart."+e.element.id),e.removeHandler(e.host,"selectstart."+e.element.id),e.removeHandler(a(window),"jqxReady."+e.element.id),e.removeHandler(e.host,"mousewheel",e._mousewheelfunc);var i="mousedown";e.isTouchDevice()&&(i=a.jqx.mobile.getTouchEventName("touchstart"),a.jqx.browser.msie&&a.jqx.browser.version<10&&(i="mousedown")),e.table&&e.removeHandler(e.table,"mouseleave");var t="mousemove.scheduler"+e.element.id,r="mouseup.scheduler"+e.element.id;if(e.isTouchDevice()&&e.touchMode!==!0&&(t=a.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+e.element.id,r=a.jqx.mobile.getTouchEventName("touchend")+".scheduler"+e.element.id),e.removeHandler(a(document),t),e.removeHandler(a(document),r),!e.isTouchDevice())try{if((document.referrer!=""||window.frameElement)&&window.top!=null&&window.top!=window.self){var o=null;window.parent&&document.referrer&&(o=document.referrer),o&&o.indexOf(document.location.host)!=-1&&e.removeHandler(a(window.top.document),"mouseup.jqxscheduler"+e.element.id)}}catch{}e.removeHandler(e.host,t),e.removeHandler(a(document),"keydown.jqxscheduler"+e.element.id),e.removeHandler(e.host,"keydown"),e.table&&(e.removeHandler(e.table,"dblclick"),e.removeHandler(e.pinnedtable,i),e.removeHandler(e.table,i))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(e,i,t){if(e){var r=this;r.selectedAppointment&&r.clearAppointmentsSelection();var o=e.id,n=a('[data-key="'+o+'"]');if(n.length>0){r.selectedJQXAppointment=e,i?r.selectedAppointment=a(i):r.selectedAppointment=a(n[0]);var l=r._views[r._view].type;if(r._views[r._view],l=="agendaView"){r.clearSelection();return}switch(n.addClass(r.toTP("jqx-scheduler-selected-appointment")),e.resizable&&n.find(".jqx-scheduler-appointment-resize-indicator").show(),l){case"dayView":a(n).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),a(n).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":n.length>1&&a.each(n,function(c){r.rtl?(c>0&&a(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),c<n.length-1&&a(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(c>0&&a(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),c<n.length-1&&a(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())});break}if(t=="mouse"){r.clearSelection();return}}r.clearSelection()}},clearAppointmentsSelection:function(){var e=this;if(e.selectedAppointment){var i=e.selectedAppointment.attr("data-key"),t=a('[data-key="'+i+'"]');t.removeClass(e.toTP("jqx-scheduler-selected-appointment")),t.find(".jqx-scheduler-appointment-resize-indicator").hide(),e.selectedAppointment=null,e.selectedJQXAppointment=null}},selectCell:function(e,i,t){for(var r=this,o=e.toDate(),n=0;n<r.rows.length;n++)for(var l=0;l<r.rows[n].cells.length;l++){var c=r.rows[n].cells[l];if(!(t&&c.getAttribute("data-view")!==t)){var d=c.getAttribute("data-date"),m=r._getDateByString(d);if(i&&c.getAttribute("data-end-date")){if(m.valueOf()==e.valueOf()){c.setAttribute("data-selected","true"),r.focusedCell=c,r._lastSelectedCell=c,r._updateCellsSelection(),r._ensureVisible(r.focusedCell);return}}else if(!i&&c.getAttribute("data-end-date"))continue;if(m.valueOf()==o.valueOf()){c.setAttribute("data-selected","true"),r.focusedCell=c,r._lastSelectedCell=c,r._updateCellsSelection(),r._ensureVisible(r.focusedCell);return}}}r._updateCellsSelection()},selectRange:function(e,i,t,r){var o=this;e<this.min&&(e=this.min),i>this.max&&(i=this.max);for(var n=e.toDate(),l=i.toDate(),c=!1,d=0;d<o.rows.length;d++)for(var m=0;m<o.rows[d].cells.length;m++){var u=o.rows[d].cells[m];if(!(r&&u.getAttribute("data-view")!==r)){var s=u.getAttribute("data-date"),f=o._getDateByString(s);if(t&&u.getAttribute("data-end-date"))f.valueOf()>=n.valueOf()&&f.valueOf()<=l.valueOf()&&u.setAttribute("data-selected","true");else if(!t&&u.getAttribute("data-end-date"))continue;f.valueOf()>=n.valueOf()&&f.valueOf()<=l.valueOf()&&(u.setAttribute("data-selected","true"),c||(o._lastSelectedCell=u,o.focusedCell=u,c=!0))}}o._updateCellsSelection()},_selectRange:function(e,i){var t=this;if(t._views[t._view].type!="agendaView"){var r=e,o=i.getAttribute("data-view");if(e.getAttribute("data-view")===o){var n=i.getAttribute("data-date"),l=r.getAttribute("data-date");if(!(n==null||l==null)){var c=i.getAttribute("data-end-date"),d=r.getAttribute("data-end-date"),m=c!=null||d!=null,u=c!=null&&d!=null,s=t._getDateByString(n),f=t._getDateByString(l);s<this.min.toDate()&&(s=this.min.toDate()),f<this.min.toDate()&&(f=this.min.toDate()),s>this.max.toDate()&&(s=this.max.toDate()),f>this.max.toDate()&&(f=this.max.toDate());var w=Math.min(s,f),b=Math.max(s,f),q=t.rows,p=0,j=0,x=q.length;if(m&&(x=1,e.getAttribute("data-end-date")==null)){f.setHours(0,0,0,0);var A=new a.jqx.date(f,t.timeZone).toString();a(r).parent().index(),a.each(q[0].cells,function(){var k=this.getAttribute("data-date");if(k===A){e=this,u=i.getAttribute("data-end-date")!=null&&e.getAttribute("data-end-date")!=null;var O=i.getAttribute("data-date"),P=e.getAttribute("data-date"),F=t._getDateByString(O),z=t._getDateByString(P);return w=Math.min(F,z),b=Math.max(F,z),!1}})}for(var T=0;T<x;T++){var h=q[T];if(m&&this.tableRows>1){var v=parseInt(e.getAttribute("data-view")),y=q.length/t.tableRows,D=(-1+v)*y;g=q[D],h=q[D]}for(var g=h.cells,C=p;C<g.length-j;C++)if(g[C].getAttribute("data-view")===o&&(g[C].removeAttribute("data-selected"),!(!u&&g[C].getAttribute("data-end-date")))){var H=g[C].getAttribute("data-date"),S=t._getDateByString(H).valueOf();w<=S&&S<=b&&g[C].setAttribute("data-selected","true")}}t._updateCellsSelection()}}}},findCell:function(e,i){var t=this,r=null;if(!t._tableOffset){var o=t.schedulercontent.coord();t._tableOffset=o}var n=t._tableOffset,l=n.top,c=n.left;if(i<l||e<c||i>l+t._hostHeight||e>c+t._hostWidth)return null;for(var d=!1,m=t.rows,u=t._views[t._view],s=u.type,f=t.vScrollInstance.value,w=t.hScrollInstance.value,b=0;b<m.length&&!d;b++){var q=m[b],p=q.cells,j=!1;(b==0&&s=="dayView"||s=="weekView")&&(j=t.showAllDayRow,u.timeRuler&&(s==="dayView"||s==="weekView")&&u.timeRuler.showAllDayRow!=null&&(j=u.timeRuler.showAllDayRow),j&&t._allDayRowFullHeight);for(var x=0;x<p.length;x++){var A=p[x];if(!(x==0&&A.getAttribute("data-time-slot"))){if(A._left)var T=A._left,h=A._top,v=A._width,y=A._height;else{var T=A.offsetLeft+c,h=A.offsetTop+l,v=A.offsetWidth,y=A.offsetHeight;A._left=T,A._top=h,A._width=v,A._height=y}if(A._left=T,A._top=h,A._width=v,A._height=y,!(v===0||y===0))if(t.rtl?t.hScrollInstance.element.style.visibility!="hidden"&&(T-=t.hScrollInstance.max-w):T-=w,h-=f,b==0&&j&&(h+=f),h<=i&&i<h+y){if(T<=e&&e<T+v){r=A,d=!0;break}}else break}}}return r},_removeFeedbackAndStopResize:function(){var e=this;if(e.feedback){if(e.feedback.remove(),e.feedback=null,e.pinnedfeedback.remove(),e.pinnedfeedback=null,e.feedbacks)for(var i=0;i<e.feedbacks.length;i++)e.feedbacks[i].remove();if(e._resizeDays=0,e._resizeStep=0,e._lastX=null,e.feedbacks=new Array,e.leftResize=!1,e.rightResize=!1,e.topResize=!1,e.bottomResize=!1,e.overlay.hide(),e.resizing=!1,e.resizeFrom=null,e._dragCell=null,e._dragStartCell=null,e.resizeTo=null,e.dragOrResize=!1,e.isMouseDown=!1,e.selectedJQXAppointment){var t=a('[data-key="'+e.selectedJQXAppointment.id+'"]');t.removeClass(e.toTP("jqx-scheduler-feedback-appointment jqx-disableselect"))}e.openedMonthCellPopup&&e.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(e,i,t,r){var o=this;if(e===!1){if(!i.isException())i.rootAppointment.recurrenceException||(i.rootAppointment.recurrenceException=new Array),i.rootAppointment!=null?(i.rootAppointment.exceptions.push(i),i.rootAppointment.recurrenceException.push(i.occurrenceFrom)):(i.exceptions.push(i),i.recurrenceException.push(i.occurrenceFrom));else for(var n=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,l=0;l<n.length;l++)if(n[l].occurrenceFrom.equals(i.occurrenceFrom)){n[l]=i;break}}else if(e===!0){if(i.isException()){for(var n=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,l=0;l<n.length;l++)if(n[l].occurrenceFrom.equals(i.occurrenceFrom)){for(var c=0;c<i.rootAppointment.recurrenceException.length;c++)if(i.rootAppointment.recurrenceException[c].equals(n[l].occurrenceFrom)){i.from;var d=new a.jqx.date(n[l].occurrenceFrom.year(),n[l].occurrenceFrom.month(),n[l].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second());i.rootAppointment.recurrenceException[c]=d;break}n[l]=i,i.from;var d=new a.jqx.date(n[l].occurrenceFrom.year(),n[l].occurrenceFrom.month(),n[l].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second());n[l].occurrenceFrom=d;break}}if(i.rootAppointment!=null){i.rootAppointment.recurrencePattern=i.rootAppointment.recurrencePattern.createNewPattern();var m=i.rootAppointment.from,u=i.rootAppointment.duration(),s=i.rootAppointment.recurrencePattern.freq,d=null;switch(s){case"daily":d=new a.jqx.date(m.year(),m.month(),m.day(),i.from.hour(),i.from.minute(),i.from.second());break;case"weekly":d=new a.jqx.date(m.year(),m.month(),m.day(),i.from.hour(),i.from.minute(),i.from.second());break;case"monthly":d=new a.jqx.date(m.year(),m.month(),m.day(),i.from.hour(),i.from.minute(),i.from.second());break;case"yearly":d=new a.jqx.date(m.year(),m.month(),m.day(),i.from.hour(),i.from.minute(),i.from.second());break}r?(i.rootAppointment.from=m,i.rootAppointment.to=m.add(i.duration())):(i.rootAppointment.from=d,i.rootAppointment.to=d.add(u)),i.rootAppointment.allDay=i.allDay,i.rootAppointment.resourceId=i.resourceId,i.rootAppointment.color=i.color,i.rootAppointment.borderColor=i.borderColor,i.rootAppointment.background=i.background,i.rootAppointment.timezone=i.timezone,i.rootAppointment.subject=i.subject,i.rootAppointment.description=i.description,i.rootAppointment.location=i.location,i.rootAppointment.category=i.category,i.rootAppointment.status=i.status,o.resizing?i.rootAppointment.recurrencePattern.setFrom(m):i.rootAppointment.recurrencePattern.setFrom(d)}else i.recurrencePattern=i.recurrencePattern.createNewPattern(),i.recurrencePattern.setFrom(i.from);var f=a(t).attr("data-view"),w=o._resources[parseInt(f)-1];w!=null&&(i.rootAppointment!=null?i.rootAppointment.resourceId=w:i.resourceId=w)}},_handleMouseUp:function(e,i,t){var r=this;clearInterval(r._verticalIntervalDragVelocity),clearInterval(r._horizontalIntervalDragVelocity),clearInterval(r._intervalDrag),clearInterval(r._horizontalIntervalDrag);var o=e,n=!1;if(t?r.resizeTo?o.to.equals(r.resizeTo)&&(n=!0):r.resizeFrom&&o.from.equals(r.resizeFrom)&&(n=!0):r._dragStartCell==i&&(n=!0),n){var l=a('[data-key="'+e.id+'"]');l.removeClass(r.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),r._removeFeedbackAndStopResize();return}var c=o.duration(),d=o.duration().days()>=1||o.allDay,m=function(u,s){if(s.allDay||d)var f=r.getMaxAllDayAppointments(r.appointmentsToRender);if(t)r.resizeTo?(r.resizeTo>r.max&&(r.resizeTo=r.max),r.resizeTo<r.min&&(r.resizeTo=r.min),s.to=r.resizeTo):r.resizeFrom&&(r.resizeFrom>r.max&&(r.resizeFrom=r.max),r.resizeFrom<r.min&&(r.resizeFrom=r.min),s.from=r.resizeFrom),s.from.hour()==0&&s.from.minute()==0&&s.to.hour()==23&&s.to.minute()==59&&(s.allDay=!0);else{var T=r._views[r._view].type,w=r._views[r._view],b=a(i).attr("data-date"),q=a(i).attr("data-end-date")!=null,p=new a.jqx.date(b,r.timeZone);if(p<r.min&&(p=r.min),p>r.max&&(p=r.max),r.rtl&&d&&q)s.to=a.jqx.scheduler.utilities.getEndOfDay(p);else if(r.rtl&&(T=="monthView"||T=="timelineMonthView"))s.to=a.jqx.scheduler.utilities.getEndOfDay(p);else if(r.rtl&&(T=="timelineDayView"||T=="timelineWeekView")){var j=r.getMinutesPerScale();s.to=p.addMinutes(j)}else s.from=p;if(T==="dayView"||T==="weekView"){if(!d&&!q)s.to=p.add(c),s.allDay=!1;else if(!d&&q)s.to=a.jqx.scheduler.utilities.getEndOfDay(p),s.allDay=!0;else if(d&&q&&!r.rtl)s.to=p.add(c),s.from.hour()==0&&s.from.minute()==0&&s.to.hour()==23&&s.to.minute()==59&&(s.allDay=!0);else if(d&&q&&r.rtl)s.from=a.jqx.scheduler.utilities.getStartOfDay(s.to.add(new a.jqx.timeSpan(-c))),s.from.hour()==0&&s.from.minute()==0&&s.to.hour()==23&&s.to.minute()==59&&(s.allDay=!0);else if(d&&!q){var x=30,A=w.timeRuler&&w.timeRuler.scale;switch(A){case"sixtyMinutes":case"hour":x=60;break;case"fifteenMinutes":case"quarterHour":x=15;break;case"tenMinutes":x=10;break;case"fiveMinutes":x=5;break}s.to=p.addMinutes(x),s.allDay=!1}}else if(T==="monthView")r.rtl?s.from=a.jqx.scheduler.utilities.getStartOfDay(s.to.add(new a.jqx.timeSpan(-c))):s.to=p.add(c);else if(T==="timelineDayView"||T==="timelineWeekView"||T==="timelineMonthView")if(!r.rtl)s.to=p.add(c);else if(T=="timelineMonthView")s.from=a.jqx.scheduler.utilities.getStartOfDay(s.to.add(new a.jqx.timeSpan(-c)));else{var j=r.getMinutesPerScale();s.from=p.addMinutes(j).add(new a.jqx.timeSpan(-c))}}r._saveChangesAfterDragOrResize(u,s,i,r.resizing);var T=a(i).attr("data-view"),h=r._resources[parseInt(T)-1];h!=null&&(s.resourceId=h),r.resizing=!1,r.resizeFrom=null,r._dragCell=null,r.resizeTo=null;var v={},y={};for(var D in r.appointmentDataFields){var g=r.appointmentDataFields[D],C=s[D];v[D]=C,(D=="from"||D=="to")&&(C=C.toDate()),y[g]=C}if(v.jqxAppointment=s,v.originalData=y,s.boundAppointment=v,r._raiseEvent("appointmentChange",{appointment:s.boundAppointment}),r.changedAppointments[s.id]={type:"Update",appointment:s.boundAppointment},r.table.find(".jqx-icon-arrow-down").hide(),r._views[r._view].type=="monthView"&&r._views[r._view].monthRowAutoHeight)r._renderrows();else if((r._views[r._view].type=="weekView"||r._views[r._view].type=="dayView")&&(s.allDay||d))if(r.tableRows>1)r._renderrows();else{var H=r.getViewStart(),S=a.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(H,S),r._renderAppointments(H,S);var k=r.getMaxAllDayAppointments(r.appointmentsToRender);if(k!=f){var O=k*(r._defaultRowHeight-2);r.isTouchDevice()?O=Math.max(22+r._defaultRowHeight,17+O):O=Math.max(3*r._defaultRowHeight,17+O),r.tableRows==1?a(a(r.table[0].rows[0]).find("td")).css("height",O+"px"):a(a(r.table[0].rows[1]).find("td")).css("height",O+"px"),a(r.oldRow).find("td").css("height",O+"px"),a(r.pinnedTableRow).find("td").css("height",O+"px"),r.pinnedtable.height(O),r._updateScrollbars(r._hostHeight?r._hostHeight:r.host.height())}}else{var H=r.getViewStart(),S=a.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(H,S),r._renderAppointments(H,S)}r._removeFeedbackAndStopResize()};o.isRecurrentAppointment()?m(!1,o):m(null,o)},_handleDayWeekViewResize:function(e,i,t,r,o){var n=this;n._views[n._view].type;var l=n._views[n._view],c=o.duration().days()>=1||o.allDay;if(!c&&!t.getAttribute("data-end-date")){var d=function(X){return!(X<10)},m=n.findCell(n.feedback.coord().left,i);if(n.topResize){if(n._lastResizeY||(n._lastResizeY=n.mouseDownPosition.top),i>n._lastResizeY+a(t).height()/2){var u=n.selectedAppointmentTableBounds.height+n.selectedAppointmentTableBounds.top-r.top-a(t).height()-3;if(d(u)){n.feedback.css("top",2+r.top+a(t).height()),n.feedback.height(u),n._lastResizeY=n.feedback.coord().top;var s=new a.jqx.date(m.getAttribute("data-date"),n.timeZone);n.resizeFrom=s.addMinutes(n.getMinutesPerScale())}}else if(i<n._lastResizeY-a(t).height()/2){var u=n.selectedAppointmentTableBounds.height+n.selectedAppointmentTableBounds.top-r.top-3;d(u)&&(n.feedback.css("top",2+r.top),n.feedback.height(u),n._lastResizeY=n.feedback.coord().top,n.resizeFrom=new a.jqx.date(m.getAttribute("data-date"),n.timeZone))}}else if(n.bottomResize){if(n._lastResizeY||(n._lastResizeY=n.mouseDownPosition.top),i>n._lastResizeY+a(t).height()/2){var f=-5+a(t).height()+r.top-n.selectedAppointmentTableBounds.height-n.selectedAppointmentTableBounds.top,u=n.selectedAppointmentTableBounds.height+f;d(u)&&(n.feedback.height(u),n._lastResizeY=n.selectedAppointmentTableBounds.height+f+n.feedback.coord().top,n.resizeTo=new a.jqx.date(m.getAttribute("data-date"),n.timeZone).addMinutes(n.getMinutesPerScale()))}else if(i<n._lastResizeY-a(t).height()/2){var f=-5+r.top-n.selectedAppointmentTableBounds.height-n.selectedAppointmentTableBounds.top,u=n.selectedAppointmentTableBounds.height+f;d(u)&&(n.feedback.height(u),n._lastResizeY=n.selectedAppointmentTableBounds.height+f+n.feedback.coord().top,n.resizeTo=new a.jqx.date(m.getAttribute("data-date"),n.timeZone))}}}else{var w=function(X){return!(X<n.cellWidth-10)},b=l.appointmentsRenderMode&&l.appointmentsRenderMode=="exactTime";if(o.allDay||!b){if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+a(t).width()/2){var q=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left-n.cellWidth;w(q)&&(n.feedback.css("left",5+r.left+n.cellWidth),n.feedback.width(q-5),n.feedback.hide(),n.pinnedfeedback.css("left",5+r.left+n.cellWidth),n.pinnedfeedback.width(q-5),n._lastResizeX=n.pinnedfeedback.coord().left,n.rtl?n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(t.getAttribute("data-date"),n.timeZone)).addDays(-1):n.resizeFrom=new a.jqx.date(t.getAttribute("data-date"),n.timeZone).addDays(1))}else if(e<n._lastResizeX-a(t).width()/2){var q=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left;w(q)&&(n.feedback.css("left",5+r.left),n.feedback.width(q-5),n.feedback.hide(),n.pinnedfeedback.css("left",5+r.left),n.pinnedfeedback.width(q-5),n._lastResizeX=n.pinnedfeedback.coord().left,n.rtl?n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(t.getAttribute("data-date"),n.timeZone)):n.resizeFrom=new a.jqx.date(t.getAttribute("data-date"),n.timeZone))}}else if(n.rightResize){n._lastResizeX||(n._lastResizeX=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left);var p=a(t).width()/2;if(e>n._lastResizeX+p){var f=a(t).width()+r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,q=n.selectedAppointmentTableBounds.width+f;w(q)&&(n.feedback.hide(),n.feedback.width(q-6),n.feedback.css("left",5+r.left),n.pinnedfeedback.width(q-6),n._lastResizeX=n.selectedAppointmentTableBounds.width+f+n.pinnedfeedback.coord().left,n.rtl?n.resizeFrom=new a.jqx.date(t.getAttribute("data-date"),n.timeZone):n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(t.getAttribute("data-date"),n.timeZone)))}else if(e<n._lastResizeX-p){var f=r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,q=n.selectedAppointmentTableBounds.width+f;w(q)&&(n.feedback.hide(),n.feedback.css("left",5+r.left),n.feedback.width(q-6),n.pinnedfeedback.width(q-6),n._lastResizeX=n.selectedAppointmentTableBounds.width+f+n.pinnedfeedback.coord().left,n.rtl?n.resizeFrom=new a.jqx.date(t.getAttribute("data-date"),n.timeZone).addDays(1):n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(t.getAttribute("data-date"),n.timeZone).addDays(-1)))}}}else{var j=new Array,x=new Array,A=-1,T=-1,h=this.host.coord().left,v=0,y=n.hScrollInstance.value;if(n.rtl)var y=n.hScrollInstance.max-n.hScrollInstance.value;n.hScrollBar[0].style.visibility=="hidden"&&(y=0);var D=e+y-h;h=0;for(var g=0;g<this.columns.records.length;g++)this.columns.records[g].timeColumn&&(n.rtl||(h+=this.columns.records[g].width,v++));for(var C=n.getViewStart(),H=n.getViewEnd(),g=0;g<this._getColumnsLengthPerView();g++){var S=this.columns.records[g+v].width;n.leftResize?(n.rtl||(j.push(h),x.push(C.addDays(g)),(o.from.hour()!=0||o.from.hour()==0&&o.from.minute()!=0)&&h<n.selectedAppointmentTableBounds.left&&h+S>n.selectedAppointmentTableBounds.left&&(j.push(n.selectedAppointmentTableBounds.left),x.push(o.from),A=j.length-1),(o.to.hour()!=23||o.to.hour()==23&&o.to.minute()!=59)&&h<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&h+S>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(j.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),x.push(o.to),T=j.length-1)),n.rtl&&(j.push(h),x.push(H.addDays(-g-1)),(o.from.hour()!=0||o.from.hour()==0&&o.from.minute()!=0)&&h<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&h+S>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(j.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),x.push(o.from),A=j.length-1),(o.to.hour()!=23||o.to.hour()==23&&o.to.minute()!=59)&&h<n.selectedAppointmentTableBounds.left&&h+S>n.selectedAppointmentTableBounds.left&&(j.push(n.selectedAppointmentTableBounds.left),x.push(o.to),T=j.length-1)),h+=S):n.rtl?((o.from.hour()!=0||o.from.hour()==0&&o.from.minute()!=0)&&h<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&h+S>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(j.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),x.push(o.from),A=j.length-1),(o.to.hour()!=23||o.to.hour()==23&&o.to.minute()!=59)&&h<n.selectedAppointmentTableBounds.left&&h+S>n.selectedAppointmentTableBounds.left&&(j.push(n.selectedAppointmentTableBounds.left),x.push(o.to),T=j.length-1),h+=S,j.push(h),x.push(H.addDays(-g-1))):((o.from.hour()!=0||o.from.hour()==0&&o.from.minute()!=0)&&h<n.selectedAppointmentTableBounds.left&&h+S>n.selectedAppointmentTableBounds.left&&(j.push(n.selectedAppointmentTableBounds.left),x.push(o.from),A=j.length-1),(o.to.hour()!=23||o.to.hour()==23&&o.to.minute()!=59)&&h<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&h+S>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(j.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),x.push(o.to),T=j.length-1),h+=S,j.push(h),x.push(C.addDays(g)))}if(n.leftResize){for(var g=0;g<j.length;g++){var r=j[g],k=j[g+1];k||(k=r);var O=g<j.length-1?D>=r&&D<=k:D>=r;if(O){var S=-r+n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width,P=n.pinnedfeedback.width(),F=n.pinnedfeedback.css("left"),z=n.resizeTo,B=n.resizeFrom;S>0&&(n.pinnedfeedback.css("left",r),n.pinnedfeedback.width(S),g==A?n.rtl?n.resizeTo=o.from:n.resizeFrom=o.from:g==T?n.rtl?n.resizeTo=o.to:n.resizeFrom=o.to:n.rtl?n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(x[g]):n.resizeFrom=x[g])}}var N=n.resizeFrom,M=n.resizeTo;n.rtl?N=o.from:M=o.to;var W=new a.jqx.timeSpan(1e4*(M-N));W.days()<1&&(n.pinnedfeedback.css("left",F),n.pinnedfeedback.width(P),n.resizeFrom=B,n.resizeTo=z)}else if(n.rightResize){for(var g=0;g<j.length;g++){var r=j[g],k=j[g+1];k||(k=r);var O=g<j.length-1?e>=r-this.cellWidth/3&&e<=k-this.cellWidth/3:e>=r-this.cellWidth/3;if(O){var S=r-n.selectedAppointmentTableBounds.left-15,P=n.pinnedfeedback.width();n.pinnedfeedback.width(S);var z=n.resizeTo,B=n.resizeFrom;if(g==A){n.rtl?n.resizeFrom=o.from:n.resizeTo=o.from;var S=r-n.selectedAppointmentTableBounds.left-9;n.pinnedfeedback.width(S);break}else if(g==T){n.rtl?n.resizeFrom=o.to:n.resizeTo=o.to;var S=r-n.selectedAppointmentTableBounds.left-9;n.pinnedfeedback.width(S);break}else{n.rtl?n.resizeFrom=x[g]:n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(x[g]);break}}}var N=n.resizeFrom,M=n.resizeTo;n.rtl?M=o.to:N=o.from;var W=new a.jqx.timeSpan(1e4*(M-N));W.days()<1&&(n.pinnedfeedback.width(P),n.resizeFrom=B,n.resizeTo=z)}}}},_handleTimelineMonthViewResize:function(e,i,t,r,o){var n=this;n._views[n._view].type,n._views[n._view];var l=function(P){return!(P<10)},c=n.findCell(e,n.feedback.coord().top);if(o.allDay){if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+a(t).width()/2){var d=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left-a(t).width();l(d)&&(n.feedback.css("left",r.left+a(t).width()),n.feedback.width(d),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(c.getAttribute("data-date"),n.timeZone).addDays(-1)):n.resizeFrom=new a.jqx.date(c.getAttribute("data-date"),n.timeZone).addDays(1))}else if(e<n._lastResizeX-a(t).width()/2){var d=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left;l(d)&&(n.feedback.css("left",r.left),n.feedback.width(d),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(c.getAttribute("data-date"),n.timeZone)):n.resizeFrom=new a.jqx.date(c.getAttribute("data-date"),n.timeZone))}}else if(n.rightResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+a(t).width()/2){var m=a(t).width()+r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,d=n.selectedAppointmentTableBounds.width+m-5;l(d)&&(n.feedback.width(d),n._lastResizeX=n.selectedAppointmentTableBounds.width+m+n.feedback.coord().left,n.rtl?n.resizeFrom=new a.jqx.date(c.getAttribute("data-date"),n.timeZone):n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(c.getAttribute("data-date"),n.timeZone)))}else if(e<n._lastResizeX-a(t).width()/2){var m=r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,d=n.selectedAppointmentTableBounds.width+m-5;l(d)&&(n.feedback.width(d),n._lastResizeX=n.selectedAppointmentTableBounds.width+m+n.feedback.coord().left,n.rtl?n.resizeFrom=new a.jqx.date(c.getAttribute("data-date"),n.timeZone).addDays(1):n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(c.getAttribute("data-date"),n.timeZone).addDays(-1)))}}}else{for(var u=new Array,s=new Array,f=-1,w=-1,b=this.host.coord().left,q=0,p=0;p<this.columns.records.length;p++)this.columns.records[p].timeColumn&&(b+=this.columns.records[p].width,q++);var j=n.hScrollInstance.value;if(n.rtl)var j=n.hScrollInstance.max-n.hScrollInstance.value;n.hScrollBar[0].style.visibility=="hidden"&&(j=0);var x=e+j-b;b=0;var A=n.getViewStart(),T=n.getViewEnd();this._getColumnsLengthPerView()-1;for(var p=0;p<this._getColumnsLengthPerView();p++){var h=this.columns.records[p+q].width;n.leftResize?(u.push(b),n.rtl?s.push(T.addDays(-p)):s.push(A.addDays(p)),(o.from.hour()!=0||o.from.hour()==0&&o.from.minute()!=0)&&b<n.selectedAppointmentTableBounds.left&&b+h>n.selectedAppointmentTableBounds.left&&(u.push(n.selectedAppointmentTableBounds.left),s.push(o.from),f=u.length-1),(o.to.hour()!=23||o.to.hour()==23&&o.to.minute()!=59)&&b<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&b+h>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(u.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),s.push(o.to),w=u.length-1),b+=h):((o.from.hour()!=0||o.from.hour()==0&&o.from.minute()!=0)&&b<n.selectedAppointmentTableBounds.left&&b+h>n.selectedAppointmentTableBounds.left&&(u.push(n.selectedAppointmentTableBounds.left),s.push(o.from),f=u.length-1),(o.to.hour()!=23||o.to.hour()==23&&o.to.minute()!=59)&&b<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&b+h>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(u.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width),s.push(o.to),w=u.length-1),b+=h,u.push(b),n.rtl?s.push(T.addDays(-p-1)):s.push(A.addDays(p)))}if(n.leftResize){for(var p=0;p<u.length;p++){var v=u[p],y=u[p+1];y||(y=v);var D=p<u.length-1?x>=v&&x<=y:x>=v;if(D){var h=-v+n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width,g=n.feedback.width(),C=n.feedback.css("left"),H=n.resizeTo,S=n.resizeFrom;n.feedback.css("left",v),n.feedback.width(h),p==f?n.rtl?n.resizeTo=o.from:n.resizeFrom=o.from:p==w?n.rtl?n.resizeTo=o.to:n.resizeFrom=o.to:n.rtl?n.resizeTo=s[p]:n.resizeFrom=s[p]}}var k=n.resizeFrom,O=n.resizeTo;n.rtl?k=o.from:O=o.to,new a.jqx.timeSpan(1e4*(O-k)),n.feedback.width()<20&&(n.feedback.css("left",C),n.feedback.width(g),n.resizeFrom=S,n.resizeTo=H)}else if(n.rightResize){for(var p=0;p<u.length;p++){var v=u[p],y=u[p+1];y||(y=v);var D=p<u.length-1?x>=v-this.cellWidth/3&&x<=y-this.cellWidth/3:x>=v-this.cellWidth/3;if(D){var h=v-n.selectedAppointmentTableBounds.left-12,g=n.feedback.width();n.feedback.width(h);var H=n.resizeTo,S=n.resizeFrom;if(p==f){n.rtl?n.resizeFrom=o.from:n.resizeTo=o.from;var h=v-n.selectedAppointmentTableBounds.left;n.feedback.width(h);break}else if(p==w){n.rtl?n.resizeFrom=o.to:n.resizeTo=o.to;var h=v-n.selectedAppointmentTableBounds.left;n.feedback.width(h);break}else{n.rtl?n.resizeFrom=s[p]:n.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(s[p]);break}}}var k=n.resizeFrom,O=n.resizeTo;n.rtl?O=o.to:k=o.from,new a.jqx.timeSpan(1e4*(O-k)),n.feedback.width()<20&&(n.feedback.width(g),n.resizeFrom=S,n.resizeTo=H)}}},_handleMonthViewResize:function(e,i,t,r,o){var n=this;if(n.selectedJQXAppointment){n._views[n._view].type;var l=n._views[n._view],c=-5;n.tableColumns>1&&(c=parseInt(-5/n.tableColumns));for(var d=0;d<n.columns.records.length/n.tableColumns;d++)n.columns.records[d].timeColumn||(c+=n.columns.records[d].width);var m=n.selectedJQXAppointment.resourceId,u=n._resources.indexOf(m);n.resources&&n.resources.orientation=="none"&&(u=-1);var s="0px";u!=-1&&n.tableRows==1&&(s=c*u+"px"),l.showWeekNumbers&&(n.rtl||(s=parseInt(s)+n.columns.records[0].width+"px"));var f=t.offsetWidth;t.offsetHeight;var w=18;n.isTouchDevice()&&(w=2);for(var d=0;d<6;d++)n.feedbacks[d][0].style.left=s,n.feedbacks[d][0].style.width=c+"px",n.feedbacks[d][0].style.display="block",n.feedbacks[d][0].style.top=parseInt(n.rows[d].top)+w+"px",n.tableRows>1&&(n.feedbacks[d][0].style.top=parseInt(n.rows[6*u+d].top)+w+"px"),a(n.feedbacks[d][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var b=n.selectedJQXAppointment.elements;b[0].cells[0].cell;var q=b[b.length-1],p=q.lastCellY,j=q.lastCellX,x=b[0].cellY,A=b[0].cellX,T=parseInt(r.top),h=parseInt(r.left);if(n.rtl){if(n.leftResize){for(var F=!1,d=0;d<6;d++){var y=n.feedbacks[d],D=parseInt(y[0].style.top)-w;if(parseInt(y[0].style.left),D<T)y[0].style.width=c+"px";else for(var g=0;g<b.length;g++){var C=b[g].cellY;C==D&&(y[0].style.width=b[g].width+"px",y[0].style.top=b[g].y+"px")}var H=b[0],S=parseInt(H.x);if(D==x)if(y[0].style.left=S+"px",T==x){if(y[0].style.left=1+r.left+"px",y[0].style.width=-1+H.x+H.width-r.left+"px",r.left>H.x+H.width&&(y[0].style.width=H.width+"px",y[0].style.left=H.x+"px"),l.appointmentsRenderMode=="exactTime"&&!n.selectedJQXAppointment.allDay){var O=n.host.coord().left;e-O>=H.x-10&&e-O<=H.cellX+n.cellWidth&&(y[0].style.width=H.width+"px",y[0].style.left=H.x+"px",F=!0)}}else T<x?(y[0].style.left=S+"px",y[0].style.width=H.width+"px"):T>x&&(y[0].style.left=s,y[0].style.width=H.x+H.width-parseInt(s)+"px");else D==T&&(y[0].style.width=c-r.left+parseInt(s)+"px",y[0].style.left=r.left+"px");if(D<x&&(y[0].style.display="none"),D>T&&(y[0].style.display="none"),T<x)for(var g=0;g<b.length;g++){var C=b[g].cellY;C==D&&(y[0].style.display="block",y[0].style.width=b[g].width+"px",y[0].style.left=b[g].x+"px")}if(T==x)for(var g=0;g<b.length;g++){var C=b[g].cellY;(T<x||T==x)&&C==D&&x!=p&&(y[0].style.left=1+r.left+parseInt(s)+"px",1+r.left+parseInt(s)>H.x+H.width&&(y[0].style.left=H.x+"px"),y[0].style.width=-1+H.x+H.width-r.left+"px")}}var P=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(t.getAttribute("data-date"),n.timeZone));P>n.selectedJQXAppointment.from&&!F?n.resizeTo=P:n.resizeTo=n.selectedJQXAppointment.to}else if(n.rightResize){for(var v=!1,d=0;d<6;d++){var y=n.feedbacks[d],D=parseInt(y[0].style.top)-w;parseInt(y[0].style.left),D<T&&(y[0].style.width=c+"px");for(var g=0;g<b.length;g++){var C=b[g].cellY;C==D&&(y[0].style.top=b[g].y+"px")}var H=b[0],S=parseInt(H.x);if(D==x)if(y[0].style.left=S+"px",T==x)if(h>=A){if(y[0].style.width=h+f-S-5+"px",l.appointmentsRenderMode=="exactTime"&&!n.selectedJQXAppointment.allDay){var O=n.host.coord().left;e-O>=H.lastCellX&&e-O<=H.x+H.width+15&&(y[0].style.width=H.width+"px",v=!0)}}else y[0].style.width=H.width+"px";else T>x?(y[0].style.left=S+"px",y[0].style.width=H.width+"px"):T<x&&(y[0].style.left=S+"px",y[0].style.width=c-S+parseInt(s)+"px");else D==T&&(y[0].style.width=h+f-5-parseInt(s)+"px");if(D>p&&(y[0].style.display="none"),D<T&&(y[0].style.display="none"),T>p)for(var g=0;g<b.length;g++){var C=b[g].cellY;C==D&&(y[0].style.display="block"),D==p&&(y[0].style.width=b[g].width+"px",y[0].style.left=b[g].x+"px")}if(T<=p&&D==p)for(var g=0;g<b.length;g++){var C=b[g].cellY;D!=T&&C==D&&x!=p?(y[0].style.width=b[g].width+"px",y[0].style.left=b[g].x+"px"):D==T&&C==D&&x!=p&&(y[0].style.left=b[g].x+"px",y[0].style.width=h+f-5-parseInt(s)-b[g].x+"px")}}var P=new a.jqx.date(t.getAttribute("data-date"),n.timeZone);P<n.selectedJQXAppointment.to&&!v?n.resizeFrom=P:n.resizeFrom=n.selectedJQXAppointment.from}}else if(n.leftResize){for(var v=!1,d=0;d<6;d++){var y=n.feedbacks[d],D=parseInt(y[0].style.top)-w;if(parseInt(y[0].style.left),D<T){y[0].style.width=c+"px";for(var g=0;g<b.length;g++){var C=b[g].cellY;C==D&&(y[0].style.top=b[g].y+"px")}}else for(var g=0;g<b.length;g++){var C=b[g].cellY;C==D&&(y[0].style.width=b[g].width+"px",y[0].style.top=b[g].y+"px")}var H=b[0],S=parseInt(H.x);if(D==x)if(y[0].style.left=S+"px",T==x){if(y[0].style.left=1+r.left+"px",y[0].style.width=-1+H.x+H.width-r.left+"px",l.appointmentsRenderMode=="exactTime"&&!n.selectedJQXAppointment.allDay){var k=n.cellWidth-(H.x-A),O=n.host.coord().left;e-O>=H.x&&e-O<=H.x+k+2&&(y[0].style.left=S+"px",y[0].style.width=H.width+"px",v=!0)}}else T>x?(y[0].style.left=S+"px",y[0].style.width=H.width+"px"):T<x&&(y[0].style.left=s,y[0].style.width=H.x+H.width-parseInt(s)+"px");else D==T&&(y[0].style.width=c-r.left+parseInt(s)+"px",y[0].style.left=r.left+"px");if(D>p&&(y[0].style.display="none"),D<T&&(y[0].style.display="none"),T>=p)for(var g=0;g<b.length;g++){var C=b[g].cellY;T>p||T==p&&h>j?C==D&&(y[0].style.display="block",y[0].style.width=b[g].width+"px",y[0].style.left=b[g].x+"px"):T==p&&h<=j&&x!=p&&(y[0].style.width=b[g].width-r.left+parseInt(s)+"px")}}var P=new a.jqx.date(t.getAttribute("data-date"),n.timeZone);P<n.selectedJQXAppointment.to&&!v?n.resizeFrom=P:n.resizeFrom=n.selectedJQXAppointment.from}else if(n.rightResize){for(var F=!1,d=0;d<6;d++){var y=n.feedbacks[d],D=parseInt(y[0].style.top)-w;parseInt(y[0].style.left),D<T&&(y[0].style.width=c+"px");for(var g=0;g<b.length;g++){var C=b[g].cellY;C==D&&(y[0].style.top=b[g].y+"px")}var H=b[0],S=parseInt(H.x);if(D==x)if(y[0].style.left=S+"px",T==x)if(h>=A){if(y[0].style.width=h+f-S-5+"px",l.appointmentsRenderMode=="exactTime"&&!n.selectedJQXAppointment.allDay){var O=n.host.coord().left;e-O>=j&&e-O<=H.x+H.width+15&&(y[0].style.width=H.width+"px",F=!0)}}else y[0].style.width=H.width+"px";else T<x?(y[0].style.left=S+"px",y[0].style.width=H.width+"px"):T>x&&(y[0].style.left=S+"px",y[0].style.width=c-S+parseInt(s)+"px");else D==T&&(y[0].style.width=h+f-5-parseInt(s)+"px");if(D<x&&(y[0].style.display="none"),D>T&&D>x&&(y[0].style.display="none"),T<=x)for(var g=0;g<b.length;g++){var C=b[g].cellY;(T<x||T==x&&h<A)&&C==D&&(y[0].style.display="block",y[0].style.width=b[g].width+"px")}}var P=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(t.getAttribute("data-date"),n.timeZone));P>n.selectedJQXAppointment.from&&!F?n.resizeTo=P:n.resizeTo=n.selectedJQXAppointment.to}for(var z=new Array,d=0;d<6;d++){var y=n.feedbacks[d];y[0].style.display=="block"&&z.push(y)}a.each(z,function(B){n.rtl?(B>0&&(a(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),B<z.length-1&&(a(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(B>0&&(a(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),B<z.length-1&&(a(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(e,i,t,r,o){var n=this;n._views[n._view].type,n._views[n._view];var l=n.getMinutesPerScale(),c=function(s){return!(s<10)},d=n.findCell(e,n.feedback.coord().top);if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+a(t).width()/2){var m=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left-a(t).width();c(m)&&(n.feedback.css("left",2+r.left+a(t).width()),n.feedback.width(m),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=new a.jqx.date(d.getAttribute("data-date"),n.timeZone):n.resizeFrom=new a.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(l))}else if(e<n._lastResizeX-a(t).width()/2){var m=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-r.left;c(m)&&(n.feedback.css("left",2+r.left),n.feedback.width(m),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=new a.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(l):n.resizeFrom=new a.jqx.date(d.getAttribute("data-date"),n.timeZone))}}else if(n.rightResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),e>n._lastResizeX+a(t).width()/2){var u=a(t).width()+r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,m=n.selectedAppointmentTableBounds.width+u;c(m)&&(n.feedback.width(m),n._lastResizeX=n.selectedAppointmentTableBounds.width+u+n.feedback.coord().left,n.rtl?n.resizeFrom=new a.jqx.date(d.getAttribute("data-date"),n.timeZone):n.resizeTo=new a.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(l))}else if(e<n._lastResizeX-a(t).width()/2){var u=r.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,m=n.selectedAppointmentTableBounds.width+u;c(m)&&(n.feedback.width(m),n._lastResizeX=n.selectedAppointmentTableBounds.width+u+n.feedback.coord().left,n.rtl?n.resizeFrom=new a.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(l):n.resizeTo=new a.jqx.date(d.getAttribute("data-date"),n.timeZone))}}},_handleResize:function(e,i,t,r,o){var n=this,l=n._views[n._view].type,c=n._views[n._view];l==="dayView"||l==="weekView"?n._handleDayWeekViewResize(e,i,t,r,o):l==="timelineMonthView"?n._handleTimelineMonthViewResize(e,i,t,r,o):l==="monthView"?n._handleMonthViewResize(e,i,t,r,o):(l==="timelineDayView"||l==="timelineWeekView")&&n._handleTimelineDayWeekViewResize(e,i,t,r,o),l==="timelineDayView"||l==="timelineMonthView"||l==="timelineWeekView"?(clearInterval(n._horizontalIntervalDrag),n._horizontalIntervalDrag=setInterval(function(){var d=n.host.width(),m=n.host.coord().left,u=m+25,s=d+u-45;n.rtl?e>s?n.hScrollInstance.setPosition(n.hScrollInstance.value-5):e<u&&n.hScrollInstance.setPosition(n.hScrollInstance.value+5):e<u?n.hScrollInstance.setPosition(n.hScrollInstance.value-5):e>s&&n.hScrollInstance.setPosition(n.hScrollInstance.value+5)},5)):(l==="dayView"||l==="weekView")&&(clearInterval(n._intervalDrag),n._intervalDrag=setInterval(function(){var d=n.host.height(),m=0;n.columnGroups?m+=n.showHeader?n.columnsheader.height():0:m+=n.showHeader?n.columnsHeight:0,n.showToolbar&&(m+=n.toolbarHeight),d-=m;var u=n.legendHeight;n._resources.length==0&&(u=0),n.showLegend&&(d-=u);var s=m+n.host.coord().top,f=n.showAllDayRow;c.timeRuler&&(l==="dayView"||l==="weekView")&&c.timeRuler.showAllDayRow!=null&&(f=c.timeRuler.showAllDayRow);var w=o.duration().days()>=1||o.allDay;f&&w?s-=20:f&&n.resizing&&(s+=a(n.table[0].rows[0]).height(),d-=a(n.table[0].rows[0]).height());var b=s+25,q=d+b-45;i<b?n.vScrollInstance.setPosition(n.vScrollInstance.value-5):i>q&&n.vScrollInstance.setPosition(n.vScrollInstance.value+5)},5)),n.resizing=!0},_startTimers:function(e,i,t){var r=this,o=r.host.coord(),n=0,l=0;r.hScrollInstance.element.style.visibility!="hidden"&&(clearInterval(r._horizontalIntervalDragVelocity),r._horizontalIntervalDragVelocity=setInterval(function(){n++,n>40&&(n=40)},100),clearInterval(r._horizontalIntervalDrag),r._horizontalIntervalDrag=setInterval(function(){var c=r._hostWidth,d=o.left,m=d+30,u=c+m-60;r.rtl?e<m?r.hScrollInstance.setPosition(r.hScrollInstance.value+10+n):e>u?r.hScrollInstance.setPosition(r.hScrollInstance.value-10-n):n=0:e<m?r.hScrollInstance.setPosition(r.hScrollInstance.value-10-n):e>u?r.hScrollInstance.setPosition(r.hScrollInstance.value+10+n):n=0},10)),r.vScrollInstance.element.style.visibility!="hidden"&&(clearInterval(r._verticalIntervalDragVelocity),r._verticalIntervalDragVelocity=setInterval(function(){l++,l>40&&(l=40)},100),clearInterval(r._intervalDrag),r._intervalDrag=setInterval(function(){var c=r._hostHeight,d=0;r.columnGroups?d+=r.showHeader?r.columnsheader.height():0:d+=r.showHeader?r.columnsHeight:0;var m=r._views[r._view].type,u=r._views[r._view];r.showToolbar&&(d+=r.toolbarHeight),c-=d,r.showLegend&&r._resources.length>0&&(c-=r.legendHeight);var s=o.top,f=d+s;if(m=="dayView"||m=="weekView"){var w=r.showAllDayRow;u.timeRuler&&(m==="dayView"||m==="weekView")&&u.timeRuler.showAllDayRow!=null&&(w=u.timeRuler.showAllDayRow);var b=t.duration().days()>=1||t.allDay;w&&b?f-=20:w&&r.resizing&&(f+=a(r.table[0].rows[0]).height())}var q=f+30,p=s+c+d-30;i<q?r.vScrollInstance.setPosition(r.vScrollInstance.value-10-l):i>p?r.vScrollInstance.setPosition(r.vScrollInstance.value+10+l):l=0},10))},_hoverCell:function(e){var i=this;if(!i.enableHover||i._resources.length>0&&e.className.indexOf("pinned")>=0||e.className.indexOf("time-column")>=0||e.className.indexOf("jqx-scheduler-disabled-cell")>=0||e&&e==i.hoveredCell||(i.hoveredCell=e,!e))return!0;i._removeHoveredCell(),i.hoveredCell=e,e.className+=" "+i.toTP("jqx-fill-state-hover")+" "+i.toTP("jqx-grid-cell-hover")+" "+i.toTP("jqx-scheduler-cell-hover"),e.jqxClassName=e.className},_removeHoveredCell:function(){var e=this;if(e.hoveredCell){var i=e.hoveredCell,t=function(r){var o=i.className;o=o.replace(" "+e.toTP("jqx-fill-state-hover"),""),o=o.replace(" "+e.toTP("jqx-grid-cell-hover"),""),o=o.replace(" "+e.toTP("jqx-scheduler-cell-hover"),""),i.className=o,i.jqxClassName=o};t(i)}e.hoveredCell=null},_addHandlers:function(){var e=this;this._mousewheelfunc=this._mousewheelfunc||function(u){return e.wheel(u,e),!1},this.focused=!1;var i=!1;this.addHandler(a(document),"keydown.scheduler"+e.element.id,function(u){i=!1,u.keyCode===9&&u.shiftKey&&!e.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(u){if(e.focusedCell&&!e.selectedAppointment&&!i&&a(e.focusedCell).addClass(e.toThemeProperty("jqx-scheduler-cell-focus")),e.focused=!0,i){if(e.appointmentsToRender.length>0){var s=e.appointmentsToRender[e.appointmentsToRender.length-1];e._selectAppointment(s),e._lastSelectedAppointment=s}else if(!e.focusedCell)e._updateFocusedCell();else if(e.focusedCell&&e.focusedCell.className.indexOf("-focus")==-1)return e._updateCellsSelection(),!1}}),this.addHandler(this.host,"blur",function(u){if(e.focusedCell){if(document.activeElement==e.element||a(document.activeElement).ischildof(e.host))return!0;a(e.focusedCell).removeClass(e.toThemeProperty("jqx-scheduler-cell-focus")),e.focused=!1}}),this.addHandler(this.host,"dragstart."+this.element.id,function(u){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(u){if(e.enableBrowserSelection||e.showToolBar&&a(u.target).ischildof(e.toolbar)||e.rowDetails&&a(u.target).parents("[data-role=details]").length>0)return!0;if(e.editKey==null)return!1}),this.addHandler(a(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var t=this.isTouchDevice();this.vScrollInstance.valueChanged=function(u){e._timer&&clearTimeout(e._timer),t?e.table&&(e.table[0].style.top=0-e.vScrollInstance.value+"px"):e._timer=setTimeout(function(){e.table&&(e.table[0].style.top=0-e.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(u){e._htimer&&clearTimeout(e._htimer),t?e.table&&e._renderhorizontalscroll():e._htimer=setTimeout(function(){e.table&&e._renderhorizontalscroll()},1)};var r="mousedown";this.isTouchDevice()&&(r=a.jqx.mobile.getTouchEventName("touchstart"),a.jqx.browser.msie&&a.jqx.browser.version<10&&(r="mousedown")),this.addHandler(this.table,"mouseleave",function(u){e._removeHoveredCell()}),e.isTouchDevice()&&(e.enableHover=!1);var o="mousemove.scheduler"+this.element.id,n="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&this.touchMode!==!0&&(o=a.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,n=a.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(a(document),o,function(u){var s=u.pageX,f=u.pageY;if(e.isTouchDevice()){var w=a.jqx.position(u);if(s=w.left,f=w.top,isNaN(s)||isNaN(f)){var w=a.jqx.position(u.originalEvent);s=w.left,f=w.top}}if(e.disabled||u.which===3||!e.isMouseDown||e.hScrollInstance.isScrolling()||e.vScrollInstance.isScrolling())return!0;if(e._hostWidth){var b=e.host.coord();if(b.left+e._hostWidth<s||s<b.left||b.top+e._hostHeight<f||f<b.top)return!0}if(e.mouseDownPosition&&(Math.abs(e.mouseDownPosition.left-s)>=3&&Math.abs(e.mouseDownPosition.left-s)<=10||Math.abs(e.mouseDownPosition.top-f)>=3&&Math.abs(e.mouseDownPosition.top-f)<=10)&&(e.dragOrResize=!0),e.selectedAppointment&&e.dragOrResize){var q=null;if(e._hasOpenedMenu||e.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var p=e._views[e._view].type,j=e._views[e._view],x=!1;if(u.target.nodeName.toLowerCase()==="td")var A=u.target;else var A=e.findCell(s,f);if(!A||A.getAttribute("data-time-slot")!=null||A.className.indexOf("jqx-grid-cell-pinned")>=0)return!0;if(!e.feedback){if(q=e.getJQXAppointmentByElement(e.selectedAppointment),!q.draggable&&!q.resizable)return q=null,!0;if(e.beginDrag){var T=e.beginDrag(q);if(!T)return!0}var h=a('[data-key="'+q.id+'"]'),v=e.selectedAppointment.position();e.feedback=e.selectedAppointment.clone(!0),e.pinnedfeedback=e.selectedAppointment.clone(!0);var y=!(e.selectedAppointment[0].style.cursor=="row-resize"||e.selectedAppointment[0].style.cursor=="col-resize"||e.resizing),D=function(K){y&&K.find(".jqx-scheduler-appointment-resize-indicator").hide(),h.addClass(e.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),K.find(".jqx-scheduler-appointment-duration-status").hide(),K.addClass(e.toTP("jqx-scheduler-feedback-appointment")),K.addClass(e.toTP("jqx-scheduler-feedback-drag-appointment")),y?K.css("z-index",401):K.css("z-index",400)};if(D(e.feedback),D(e.pinnedfeedback),e._views[e._view].type!="monthView"||y){if(e.table.append(e.feedback),e.tableRows==1?e.pinnedtable.append(e.pinnedfeedback):e.table.append(e.pinnedfeedback),e.feedback.css("left",v.left),e.feedback.css("top",v.top),e.pinnedfeedback.css("left",v.left),e.pinnedfeedback.css("top",v.top),e._views[e._view].type=="monthView"&&e.isTouchDevice()){e.feedbacks=new Array;for(var g=0;g<6;g++)e.feedbacks.push(e.feedback.clone(!0)),a(e.feedbacks[g]).hide(),e.table.append(a(e.feedbacks[g]))}}else{e.feedbacks=new Array;for(var g=0;g<6;g++)e.feedbacks.push(e.feedback.clone(!0)),a(e.feedbacks[g]).hide(),e.table.append(a(e.feedbacks[g]))}}if(e.dragging){var T=e.dragging(q,A,e.feedback);if(T===!1)return!0}var w=a(A).position();if(e.endDrag)var C=e.feedback.css("left"),H=e.feedback.css("top"),S=e.feedback.width(),k=e.feedback.height;q||(q=e.selectedJQXAppointment),q||(e.selectAppointment(e.uiappointments[0].id),q=e.selectedJQXAppointment);var O=q.resourceId,P=e._resources.indexOf(O);e.resources&&e.resources.orientation=="none"&&(P=-1);var F=!1,z=e.isTouchDevice();if(z&&e.touchMode!==!0&&e._dragCell==null&&!(e.leftResize||e.rightResize||e.topResize||e.bottomResize||e.resizing))switch(p){case"dayView":case"weekView":var x=q.duration().days()>=1||q.allDay;x?(s>=e.selectedAppointmentBounds.left-15&&s<=e.selectedAppointmentBounds.left+15&&(F=!0,e.leftResize=!0),s>=e.selectedAppointmentBounds.left+e.selectedAppointmentBounds.width-15&&s<=e.selectedAppointmentBounds.left+e.selectedAppointmentBounds.width+15&&(F=!0,e.rightResize=!0)):(f>=e.selectedAppointmentBounds.top-15&&f<=e.selectedAppointmentBounds.top+15&&(F=!0,e.topResize=!0),f>=e.selectedAppointmentBounds.top-15+e.selectedAppointmentBounds.height&&f<=e.selectedAppointmentBounds.top+e.selectedAppointmentBounds.height+15&&(F=!0,e.bottomResize=!0));break;default:s>=e.selectedAppointmentBounds.left-15&&s<=e.selectedAppointmentBounds.left+15&&(F=!0,e.leftResize=!0),s>=e.selectedAppointmentBounds.left+e.selectedAppointmentBounds.width-15&&s<=e.selectedAppointmentBounds.left+e.selectedAppointmentBounds.width+15&&(F=!0,e.rightResize=!0);break}if(z&&(e.leftResize||e.rightResize||e.topResize||e.bottomResize||e.resizing)||F){if(A.getAttribute("data-view")!=P+1&&e._resources.length>0&&e.resources.orientation!="none")return!0;var B=e._getDateByString(A.getAttribute("data-date"));if(B<e.min.toDate()||B>e.max.toDate())return;e._handleResize(s,f,A,w,q),e._oldResizeTD=A}else if(!z&&e.selectedAppointment[0].style.cursor=="row-resize"||e.selectedAppointment[0].style.cursor=="col-resize"||e.resizing){if(A.getAttribute("data-view")!=P+1&&e._resources.length>0&&e.resources&&e.resources.orientation!="none")return!0;var B=e._getDateByString(A.getAttribute("data-date"));if(B<e.min.toDate()||B>e.max.toDate())return;e._handleResize(s,f,A,w,q),e._oldResizeTD=A}else{if(!q.draggable)return e._removeFeedbackAndStopResize(),!0;if(e._dragCell==A)return e._startTimers(s,f,q),e.isTouchDevice()&&e.touchMode!==!0?(u.stopPropagation(),!1):void 0;var B=e._getDateByString(A.getAttribute("data-date"));if(B<e.min.toDate()||B>e.max.toDate())return;var N=q.duration();if(p.indexOf("month")>=0&&new a.jqx.date(B).add(N)>e.max)return;var M=e.vScrollBar[0].style.visibility=="hidden"?0:6+e.vScrollBar.outerWidth();if(e._dragCell=A,e.feedback[0].style.left=2+w.left+"px",e.feedback[0].style.top=2+w.top+"px",p==="dayView"||p==="weekView"){e.pinnedfeedback.css("left",2+w.left),e.pinnedfeedback.css("top",2+w.top);var W=0;if(A.getAttribute("data-end-date")){var X=e.appointmentsMinHeight;if(e.isTouchDevice()&&(X=e.touchAppointmentsMinHeight),j.appointmentHeight&&(X=j.appointmentHeight),x=q.duration().days()>=1||q.allDay,e.feedback.css("top",2+w.top+X),e.pinnedfeedback.css("top",2+w.top+18),p=="dayView"){var U=e.selectedAppointment.coord().left-9;e.feedback.css("left",U),e.pinnedfeedback.css("left",U)}if(x){if(e.pinnedfeedback.css("top",q.elements[0].y),W=e.selectedAppointment.width(),2+w.left+W>e.host.width()-M){var Q=2+w.left+W-e.host.width()+M+6;W-=Q}e.feedback.width(W),e.feedback.height(X),e.pinnedfeedback.width(W),e.pinnedfeedback.height(X)}else W=a(A).width()-4,e.feedback.width(W),e.feedback.height(X),e.pinnedfeedback.width(W),e.pinnedfeedback.height(X);e.feedback.hide(),e.pinnedfeedback.show()}else e.feedback.show(),e.pinnedfeedback.hide(),j.timeRuler&&j.timeRuler.scale,W=a(A).width()-4,e.feedback.width(W),x=q.duration().days()>=1||q.allDay,x?e.feedback.height(a(A).height()-6):e.feedback.height(e.selectedAppointment.height());e._startTimers(s,f,q)}else if(p==="monthView"){e.feedback.css("left",1+w.left);var te=e.selectedAppointmentTableBounds,Y=parseInt(te.top);Y>w.top&&Y<w.top+A.offsetHeight?e.feedback.css("top",Y+"px"):e.feedback.css("top",e.selectedAppointment.height()+w.top-2),e.isTouchDevice()&&e.feedback.css("top",w.top+2),W=e.selectedAppointment.width(),e.feedback.width(W),e.feedback.height(e.selectedAppointment.height()),e._startTimers(s,f,q)}else if(p==="timelineDayView"||p==="timelineMonthView"||p==="timelineWeekView"){var te=e.selectedAppointmentTableBounds,Y=parseInt(te.top);Y>w.top&&Y<w.top+A.offsetHeight&&e.feedback.css("top",Y+"px"),e._startTimers(s,f,q)}}if(e.endDrag){var T=e.endDrag(q,A,e.feedback);return T||e.feedback.width(S),e.feedback.height(k),e.feedback.css("top",H),e.feedback.css("left",C),!0}if(e.isTouchDevice()&&e.touchMode!==!0)return u.stopPropagation(),!1}});var l=function(u){if(e.isMouseDown=!1,e.dragOrResize=!1,e.contextMenu&&e.menu&&u.which!==3&&(e.menu.jqxMenu("close"),e._hasOpenedMenu=!1),u.which===3)return!0;if(e.selectedAppointment&&e.feedback){if(e.editRecurrenceDialog.jqxWindow("isOpen"))return;e._handleMouseUp(e.selectedJQXAppointment,e._dragCell,e.resizing)}};if(this.addHandler(a(document),n,function(u){return l(u)}),!this.isTouchDevice())try{if((document.referrer!=""||window.frameElement)&&window.top!=null&&window.top!=window.self){var c=null;if(window.parent&&document.referrer&&(c=document.referrer),c&&c.indexOf(document.location.host)!=-1){var d=function(u){if(!e.disabled)return l(u)};e.addHandler(a(window.top.document),"mouseup.jqxscheduler"+e.element.id,d)}}}catch{}this.addHandler(this.host,o,function(u){var s=u.pageX,f=u.pageY;if(e.disabled||u.which===3||e.selectedAppointment&&e.isMouseDown||e.hScrollInstance.isScrolling()||e.vScrollInstance.isScrolling()||e._hasOpenedMenu||e.overlay[0].style.display!=="none")return!0;var w=null;u.target.className.indexOf("jqx-scheduler-appointment")>=0&&u.target.className.indexOf("jqx-scheduler-appointment-inner-content")==-1&&u.target.className.indexOf("jqx-scheduler-appointment-content")==-1&&u.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&(w=u.target);for(var b=u.target,q=0;q<4&&b.parentNode;q++)b.className.indexOf("jqx-scheduler-appointment")>=0&&b.className.indexOf("jqx-scheduler-appointment-innter-content")==-1&&b.className.indexOf("jqx-scheduler-appointment-content")==-1&&b.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&(w=b),b=b.parentNode;if(w){var p=e._views[e._view].type;e._views[e._view];var j=e.getJQXAppointmentByElement(w);if(j&&j.resizable){var x=j.duration(),A=j.allDay||x.days()>=1||x.hours()==23&&x.minutes==59&&x.seconds==59,T=a(w).coord(),h=a(w).position();e.selectedAppointmentBounds={top:T.top,left:T.left,width:a(w).width(),height:a(w).height()},e.selectedAppointmentTableBounds={top:h.top,left:h.left,width:a(w).width(),height:a(w).height()};var v=e.selectedAppointmentBounds;if(p=="weekView"||p=="dayView")A?p!="dayView"?s>=v.left-3&&s<=v.left+6?(w.style.cursor="col-resize",e.leftResize=!0,e.rightResize=!1):s>=v.left+v.width-6&&s<=v.left+v.width+3?(w.style.cursor="col-resize",e.leftResize=!1,e.rightResize=!0):w.style.cursor="pointer":w.style.cursor="pointer":f>=v.top-3&&f<=v.top+6?(w.style.cursor="row-resize",e.topResize=!0,e.bottomResize=!1):f>=v.top+v.height-6&&f<=v.top+v.height+3?(w.style.cursor="row-resize",e.topResize=!1,e.bottomResize=!0):w.style.cursor="pointer";else if(p=="monthView"&&j.elements.length>1)for(var y=e.table.coord(),q=0;q<j.elements.length;q++){var D=j.elements[q],v={top:y.top+D.y,left:y.left+D.x,width:D.width,height:D.height};if(q==0&&!e.rtl||q==j.elements.length-1&&e.rtl)if(s>=v.left-3&&s<=v.left+6)if(f>=v.top&&f<=v.top+v.height){w.style.cursor="col-resize",e.leftResize=!0,e.rightResize=!1,e.selectedAppointment=a(w);break}else w.style.cursor="pointer";else w.style.cursor="pointer";else if(q==j.elements.length-1&&!e.rtl||q==0&&e.rtl)if(s>=v.left+v.width-6&&s<=v.left+v.width+3)if(f>=v.top&&f<=v.top+v.height){w.style.cursor="col-resize",e.leftResize=!1,e.rightResize=!0,e.selectedAppointment=a(w);break}else w.style.cursor="pointer";else w.style.cursor="pointer"}else s>=v.left-3&&s<=v.left+6?(w.style.cursor="col-resize",e.leftResize=!0,e.rightResize=!1):s>=v.left+v.width-6&&s<=v.left+v.width+3?(w.style.cursor="col-resize",e.leftResize=!1,e.rightResize=!0):w.style.cursor="pointer"}}if(!e.enableHover)return!0;if(u.target.nodeName.toLowerCase()==="td")var g=u.target;else var g=e.findCell(s,f);if(!g||(e._removeHoveredCell(),e.renderedRecords&&e.renderedRecords.length===0))return!0;if(e.isMouseDown){if(Math.abs(e.mousecaptureposition.left-s)>3||Math.abs(e.mousecaptureposition.top-f)>3){if(e.mousecaptureposition.clickedcell.length===0){e.selectionarea[0].style.visibility="hidden";return}e.lastHoveredCell!=g&&(e._selectRangeTimer&&clearTimeout(e._selectRangeTimer),e._selectRangeTimer=setTimeout(function(){var C=e._views[e._view].type;C!="agendaView"&&e._selectRange(g,e.mousecaptureposition.clickedcell[0])},1)),e.lastHoveredCell=g}}else if(!w){if(e.rows.length==1&&e.rows[0].cells.length==1)return!0;e._hoverCell(g)}return!0}),this.addHandler(a(document),"keydown.jqxscheduler"+e.element.id,function(u){if(e.focused&&u.ctrlKey&&u.keyCode==68)return!1}),this.addHandler(this.host,"keydown",function(u){return e._handleKey(u)}),a.jqx.browser.msie&&a.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(u){e.table.trigger("mousedown",u)});var m=function(u){u.target;var b=null;if(e.disabled)return!0;!e.menu&&u.which==3&&e._initMenu(),e.table.coord();var s=u.pageX,f=u.pageY;if(a.jqx.browser.msie&&a.jqx.browser.version<9&&arguments&&arguments.length==2&&(s=arguments[1].pageX,f=arguments[1].pageY),e.isTouchDevice()){var w=a.jqx.position(u);if(s=w.left,f=w.top,isNaN(s)||isNaN(f)){var w=a.jqx.position(u.originalEvent);s=w.left,f=w.top}}e.mouseDown={top:f,left:s};var b=e.findCell(s,f);if(u.target.nodeName.toLowerCase()==="td")var b=u.target;else var b=e.findCell(s,f);var q=e._views[e._view].type,p=e._views[e._view];if(q==="monthView"&&p.weekViewNavigation&&b&&b.getAttribute("data-time-slot")){var j=e._getDateByString(b.getAttribute("data-date")),x=new a.jqx.date(j);e.date=x,e.setView("weekView")}if(q==="monthView"&&p.dayViewNavigation){var A=a(b).coord().top;if(b&&f>=A&&A+16>=f){var j=e._getDateByString(b.getAttribute("data-date")),x=new a.jqx.date(j);e.date=x,e.setView("dayView")}}if(u.target.nodeName.toLowerCase()==="span"&&(u.target.className.indexOf("jqx-icon-arrow-down")>=0||u.target.className.indexOf("jqx-icon-close")>=0))return u.target.mousedown&&u.target.mousedown(),!0;var T=a(b).parent(),h=T.attr("data-key");e.mousecaptureposition={left:u.pageX,top:u.pageY,clickedrow:a(T).index(),clickedcell:a(b)},u.which!==3?(e.isMouseDown=!0,e.isMouseDownDate=new Date):e.isMouseDown=!1,e.contextMenu&&e.menu&&u.which!==3&&(e.menu.jqxMenu("close"),e._hasOpenedMenu=!1);var v=function(N){if(u.which===3&&e.contextMenu&&e.menu){N?e.menu.find("li:first").show():e.menu.find("li:first").hide();var M=e.menu.coord();if(e.menu.css("display")=="block"&&M.left==u.pageX&&M.top==u.pageY){e._hasOpenedMenu=!0,u.preventDefault(),u.stopPropagation();return}e.menuOpening=!0,e.menu.jqxMenu("open",u.pageX,u.pageY),e.menuOpening=!1,e._hasOpenedMenu=!0,u.preventDefault(),u.stopPropagation(),setTimeout(function(){e.menu.jqxMenu("focus")},50)}},y=function(){for(var N=0;N<B.length;N++)for(var M=B[N].cells,W=0;W<M.length;W++)M[W].removeAttribute("data-selected")},D=u.target.className.indexOf("jqx-scheduler-appointment")>=0&&u.target.className.indexOf("jqx-scheduler-appointment-duration-status")==-1&&u.target.className.indexOf("jqx-scheduler-appointment-inner-content")==-1&&u.target.className.indexOf("jqx-scheduler-appointment-status")==-1&&u.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&u.target.className.indexOf("jqx-scheduler-appointment-content")==-1?a(u.target):a(u.target).parents(".jqx-scheduler-appointment");if(D.length==0&&(D=null),D&&D[0].className.indexOf("feedback")==-1){if(D.parents(".jqx-scheduler-month-cell-popup").length>0)return!0;e.mouseDownPosition={top:f,left:s};var g=a(D).coord();e.selectedAppointmentBounds={top:g.top,left:g.left,width:a(D).width(),height:a(D).height()};var w=a(D).position();e.selectedAppointmentTableBounds={top:w.top,left:w.left,width:a(D).width(),height:a(D).height()},e._dragStartCell||(e._dragStartCell=e.findCell(g.left,g.top));var C=e.getJQXAppointmentByElement(D);e._selectAppointment(C,D,"mouse"),C&&e._raiseEvent("appointmentClick",{appointment:C.boundAppointment}),e.clearSelection();var H=new Date().getTime(),S=300;if(a.jqx.browser.msie&&a.jqx.browser.version<9&&(S=1e3),e.clickTime||(e.clickTime=new Date),H-e.clickTime.getTime()<S&&e._lastSelectedAppointment&&C.id==e._lastSelectedAppointment.id&&u.which!=3){if(!C.readOnly&&!e.editRecurrenceDialog.jqxWindow("isOpen")&&(!e._editDialog||e._editDialog&&!e._editDialog.jqxWindow("isOpen"))){var k=e._initDialog(C);k!==!1&&e._openDialog()}e.mouseDownPosition=null,e.isMouseDown=!1,u.preventDefault&&u.preventDefault(),e._raiseEvent("appointmentDoubleClick",{appointment:C.boundAppointment})}else C.readOnly||u.which!==3&&e.focus();e._lastSelectedAppointment=C,u.preventDefault&&u.preventDefault(),u.stopPropagation(),e.clickTime=new Date,C.readOnly||u.which==3&&v(!0);return}else if(u.which===3){var O=e.getSelection();if(O!==null)v(!1);else{e.clearAppointmentsSelection(),b.setAttribute("data-selected","true"),e._lastSelectedCell=b,e.focusedCell=b,e._updateCellsSelection(b),v(!1);var P=new a.jqx.date(b.getAttribute("data-date"),e.timeZone);e._raiseEvent("cellClick",{cell:b,date:P})}}else u.which!=3&&e.clearAppointmentsSelection();if(e.view=="agendaView"){var D=u.target.className.indexOf("jqx-scheduler-agenda-appointment")!=-1,F=!1;if(!D&&u.target&&u.target.parentNode&&(D=u.target.parentNode.className.indexOf("jqx-scheduler-agenda-appointment")!=-1,F=!0),D){D=u.target,F&&(D=u.target.parentNode);var C=e.getJQXAppointmentByElement(D);e._selectAppointment(C,D,"mouse"),e._raiseEvent("appointmentClick",{appointment:C.boundAppointment});var H=new Date().getTime(),S=300;if(a.jqx.browser.msie&&a.jqx.browser.version<9&&(S=1e3),e.clickTime||(e.clickTime=new Date),H-e.clickTime.getTime()<S&&e._lastSelectedAppointment&&C.id==e._lastSelectedAppointment.id&&u.which!=3){if(!C.readOnly&&!e.editRecurrenceDialog.jqxWindow("isOpen")&&(!e._editDialog||e._editDialog&&!e._editDialog.jqxWindow("isOpen"))){var k=e._initDialog(C);k!==!1&&e._openDialog()}e.mouseDownPosition=null,e.isMouseDown=!1,u.preventDefault&&u.preventDefault(),e._raiseEvent("appointmentDoubleClick",{appointment:C.boundAppointment})}e._lastSelectedAppointment=C,u.preventDefault&&u.preventDefault(),u.stopPropagation(),e.clickTime=new Date,C.readOnly||u.which==3&&v(!0)}}if(h!==void 0&&u.which!=3){e.clickedTD=b;var P=new a.jqx.date(b.getAttribute("data-date"),e.timeZone),z=e.rowinfo[h];if(z){var H=new Date().getTime(),S=300;if(e.clickTime||(e.clickTime=new Date),e.focus(),e._lastSelectedCell&&e._lastSelectedCell.getAttribute("data-selected")=="true"&&b.getAttribute("data-selected")==="true"&&H-e.clickTime.getTime()<S){var P=new a.jqx.date(b.getAttribute("data-date"),e.timeZone);e._raiseEvent("cellDoubleClick",{cell:b,date:P}),e._initDialog(),e._openDialog(),u.preventDefault&&u.preventDefault()}}var B=e.rows;if(b.getAttribute("data-selected")!="true"||u.shiftKey||H-e.clickTime.getTime()>S){if(b.getAttribute("data-time-slot")=="true")return;if(u.shiftKey||(e.shiftSelectedCell=null),u.shiftKey&&e._lastSelectedCell&&q!="agendaView"&&(e.shiftSelectedCell||(e.shiftSelectedCell=e._lastSelectedCell),b.getAttribute("data-view")===e.shiftSelectedCell.getAttribute("data-view")&&y(),e._selectRange(b,e.shiftSelectedCell)),!u.shiftKey){y();var j=e._getDateByString(b.getAttribute("data-date"));j>=e.min.toDate()&&j<=e.max.toDate()?b.setAttribute("data-selected","true"):b.setAttribute("data-selected","false")}a('[data-key="'+h+'"]').removeClass(e.toTP("jqx-scheduler-selected-appointment")),e.selectedAppointment=null;var j=e._getDateByString(b.getAttribute("data-date"));j>=e.min.toDate()&&j<=e.max.toDate()&&(e._lastSelectedCell=b,e.focusedCell=b),e._updateCellsSelection(b),e.openedMonthCellPopup&&e.openedMonthCellPopup.remove()}e._raiseEvent("cellClick",{cell:b,date:P}),e.clickTime=new Date,u.stopPropagation&&u.stopPropagation()}};this.addHandler(this.pinnedtable,r,function(u){var s=m(u);if(s!=null)return s}),this.addHandler(this.table,r,function(u){var s=m(u);if(s!=null)return s})},moveAppointment:function(e,i,t,r,o){var n=this,l=r.getAttribute("data-end-date");if(e){if(n.editRecurrenceDialog.jqxWindow("isOpen"))return;clearInterval(n._verticalIntervalDragVelocity),clearInterval(n._horizontalIntervalDragVelocity),clearInterval(n._intervalDrag),clearInterval(n._horizontalIntervalDrag);var c=e.duration(),d=e.duration().days()>=1||e.allDay,m=function(u){if(!o){var s=n._views[n._view].type,f=n._views[n._view],w=i;if(e.from=w,s==="dayView"||s==="weekView"){if(!d&&!l)e.to=w.add(c),e.allDay=!1;else if(!d&&l)e.to=a.jqx.scheduler.utilities.getEndOfDay(w),e.allDay=!0;else if(d&&l)e.to=w.add(c);else if(d&&!l){var b=30,q=f.timeRuler&&f.timeRuler.scale;switch(q){case"sixtyMinutes":case"hour":b=60;break;case"fifteenMinutes":case"quarterHour":b=15;break;case"tenMinutes":b=10;break;case"fiveMinutes":b=5;break}e.to=w.addMinutes(b),e.allDay=!1}}else(s==="monthView"||s==="timelineDayView"||s==="timelineWeekView"||s==="timelineMonthView")&&(e.to=w.add(c))}if(n._saveChangesAfterDragOrResize(u,e,r,o),t!=null&&(e.resourceId=t),n.table.find(".jqx-icon-arrow-down").hide(),e.allDay||d)n._renderrows();else{var p=n.getViewStart(),j=a.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd());n._prepareAppointmentsInView(p,j),n._renderAppointments(p,j)}n._raiseEvent("appointmentChange",{appointment:e.boundAppointment}),n.changedAppointments[e.id]={type:"Update",appointment:e.boundAppointment},n._ensureAppointmentVisible(n.selectedJQXAppointment)};e.isRecurrentAppointment()?m(!1):m(null)}},getAppointmentProperty:function(e,i){var t=null;if(this.appointmentsByKey[e]&&(t=this.appointmentsByKey[e].jqxAppointment),!!t)return t[i]},setAppointmentProperty:function(e,i,t){var r=this,o=null;if(this.appointmentsByKey[e]&&(o=this.appointmentsByKey[e].jqxAppointment),!!o)switch(o[i]=t,r.changedAppointments[e]={type:i,appointment:o.boundAppointment},e){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var n=r.getViewStart(),l=a.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(n,l),r._renderAppointments(n,l);break;case"hidden":case"timeZone":if(o.isAllDayAppointment())r._renderrows();else{var n=r.getViewStart(),l=a.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(n,l),r._renderAppointments(n,l)}break;default:r._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var i=this;if(e.rootAppointment){if(!e.isException())e.rootAppointment!=null?(e.rootAppointment.exceptions.push(i.editAppointment),e.rootAppointment.recurrenceException.push(i.editAppointment.occurrenceFrom)):(e.exceptions.push(i.editAppointment),e.recurrenceException.push(i.editAppointment.occurrenceFrom)),i._raiseEvent("appointmentDelete",{appointment:i.editAppointment.boundAppointment});else{for(var t=e.rootAppointment?e.rootAppointment.exceptions:e.exceptions,r=0;r<t.length;r++)if(t[r].occurrenceFrom.equals(i.editAppointment.occurrenceFrom)){t[r]=e;break}i._raiseEvent("appointmentDelete",{appointment:e.boundAppointment})}e.hidden=!0,i._renderrows();return}i._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});var o=e.id;delete i.appointmentsByKey[o];for(var n=-1,r=0;r<i.appointments.length;r++)if(i.appointments[r]==e.boundAppointment||i.appointments[r].id==e.boundAppointment.id){n=r;break}n!=-1&&i.appointments.splice(n,1),n=-1;for(var r=0;r<i.uiappointments.length;r++)if(i.uiappointments[r]==e||i.uiappointments[r].id==e.id){n=r;break}n!=-1&&i.uiappointments.splice(n,1),i.selectedJQXAppointment==e&&(i.clearAppointmentsSelection(),i.uiappointments[n+1]?i.selectAppointment(i.uiappointments[n+1].id):i.uiappointments[n-1]?i.selectAppointment(i.uiappointments[n-1].id):i.uiappointments[0]&&i.selectAppointment(i.uiappointments[0].id)),i.changedAppointments[o]={type:"Delete",appointment:e.boundAppointment},i._renderrows()},addAppointment:function(e){var i=this;if(e.scheduler||(e.scheduler=this),!e.duration)if(!e.from&&!e.to||!e.appointmentObject){var t=e,r={},o=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var p in i.appointmentDataFields){var n=i.appointmentDataFields[p],l=t[n];if((p=="from"||p=="to")&&(l=new a.jqx.date(l)),p=="style"&&l){var c=i.getAppointmentColors(l);r.color=c.color,r.background=c.background,r.borderColor=c.border}if(p=="recurrencePattern"&&l&&(l=new a.jqx.scheduler.recurrencePattern(l),l.timeZone=t.timeZone||i.timeZone),p=="recurrenceException"){var d=new Array;if(l){l.indexOf("EXDATE:")>=0&&(l=l.substring(l.indexOf("EXDATE:")+7));var m=new Array;l.indexOf(",")>=0?m=l.split(","):m.push(l);for(var u=0;u<m.length;u++){var s=m[u];if(s.indexOf(";")>=0){var f=s.split(";")[1];s=s.split(";")[0],f.toLowerCase().indexOf("display")>=0&&f.toLowerCase().indexOf("none")&&(r.hidden=!0)}try{var w=a.jqx.scheduler.utilities.untilStringToDate(s);w!="Invalid Date"&&(r.timeZone?w=new a.jqx.date(w,r.timeZone):i.timeZone?w=w.toTimeZone(i.timeZone):w=new a.jqx.date(w))}catch{var w=new a.jqx.date(s,i.timeZone)}d.push(w)}}l=d}r[p]=l}for(var b in o){var p=o[b];if(r[p]==null){var l="";if(p=="originalData")continue;p=="ownerId"&&(l=null),p=="timeZone"&&(l=null),p=="recurrencePattern"&&(l=null),p=="recurrenceException"&&(l=null),p=="allDay"&&(l=!1),p=="draggable"&&(l=!0),p=="resizable"&&(l=!0),p=="hidden"&&(l=!1),p=="resourceId"&&(l=null),p=="from"&&(l=new a.jqx.date),p=="to"&&(l=new a.jqx.date().addHours(1)),r[p]=l}}r.originalData=t,r.scheduler=this;var e=new a.jqx.scheduler.appointment(r);r.timeZone&&(e.from=e.from.toTimeZone(r.timeZone),e.to=e.to.toTimeZone(r.timeZone)),i.timeZone?(r.timeZone||(e.timeZone=i.timeZone),e.from=e.from.toTimeZone(i.timeZone),e.to=e.to.toTimeZone(i.timeZone)):(e.from=e.from.toTimeZone(null),e.to=e.to.toTimeZone(null))}else{var q=new a.jqx.scheduler.appointment;for(var p in e)q[p]=e[p];e=q}var p=i.dataview.generatekey();e.id=p,i.appointmentsByKey[p]=e,i.appointments.push(e);var j={},x={};for(var A in i.appointmentDataFields){var n=i.appointmentDataFields[A],l=e[A];j[A]=l,(A=="from"||A=="to")&&(l.toDate?l=l.toDate():l=new a.jqx.date(l).toDate()),x[n]=l}if(j.originalData=x,e.boundAppointment=j,j.jqxAppointment=e,e.jqxAppointment=e,i._raiseEvent("appointmentAdd",{appointment:e.boundAppointment}),i.uiappointments.push(e),i.changedAppointments[p]={type:"Add",appointment:e.boundAppointment},i.hiddenResources&&i.hiddenResources[e.resourceId]?i.hideAppointmentsByResource(e.resourceId):i._renderrows(),i._selectAppointment(e),i._lastSelectedAppointment=e,i.resources){var T=e.resourceId;i._resources.indexOf(T)===-1&&(i._resources.push(T),i._renderrows())}},_updateCellsSelection:function(){for(var e=this,i=e.rows,t=0,r=0,o=0;o<i.length;o++)for(var n=i[o].cells,l=t;l<n.length-r;l++){var c=n[l];if(c.getAttribute("data-selected")=="true"){var d=c.jqxClassName||c.className;if(d.indexOf("jqx-fill-state-pressed")>=0){c!=e.focusedCell?(d=d.replace(" jqx-scheduler-cell-focus",""),d=d.replace(" jqx-scheduler-cell-focus-"+e.theme,"")):c==e.focusedCell&&e.focused&&(d=d.replace(" jqx-scheduler-cell-focus",""),d=d.replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(d=d+=" "+e.toTP("jqx-scheduler-cell-focus"))),c.className!=d&&(c.className=d),c.jqxClassName=d;continue}d=d.replace(" jqx-fill-state-pressed",""),d=d.replace(" jqx-fill-state-pressed-"+e.theme,""),d=d.replace(" jqx-scheduler-cell-focus",""),d=d.replace(" jqx-scheduler-cell-focus-"+e.theme,""),d=d.replace(" jqx-grid-cell-selected",""),d=d.replace(" jqx-grid-cell-selected-"+e.theme,""),d=d.replace(" jqx-scheduler-cell-selected",""),d=d.replace(" jqx-scheduler-cell-selected-"+e.theme,""),d=d+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),c==e.focusedCell&&e.focused&&!e.selectedAppointment&&(d=d+=" "+e.toTP("jqx-scheduler-cell-focus")),c.className!=d&&(c.className=d),c.jqxClassName=d}else{var d=c.jqxClassName||c.className;if(d.indexOf("jqx-fill-state-pressed")==-1){c!=e.focusedCell?(d=d.replace(" jqx-scheduler-cell-focus",""),d=d.replace(" jqx-scheduler-cell-focus-"+e.theme,"")):c==e.focusedCell&&e.focused&&(d=d.replace(" jqx-scheduler-cell-focus",""),d=d.replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(d=d+=" "+e.toTP("jqx-scheduler-cell-focus"))),c.className!=d&&(c.className=d),c.jqxClassName=d;continue}else c==e.focusedCell&&e.focused&&(d=d.replace(" jqx-scheduler-cell-focus",""),d=d.replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(d=d+=" "+e.toTP("jqx-scheduler-cell-focus")),c.className!=d&&(c.className=d),c.jqxClassName=d);d=d.replace(" jqx-fill-state-pressed",""),d=d.replace(" jqx-fill-state-pressed-"+e.theme,""),d=d.replace(" jqx-scheduler-cell-focus",""),d=d.replace(" jqx-scheduler-cell-focus-"+e.theme,""),d=d.replace(" jqx-grid-cell-selected",""),d=d.replace(" jqx-grid-cell-selected-"+e.theme,""),d=d.replace(" jqx-scheduler-cell-selected",""),d=d.replace(" jqx-scheduler-cell-selected-"+e.theme,""),c==e.focusedCell&&e.focused&&!e.selectedAppointment&&(d=d+=" "+e.toTP("jqx-scheduler-cell-focus")),c.className!=d&&(c.className=d),c.jqxClassName=d,c.removeAttribute("data-selected")}}},_getuikey:function(e,i){var t=null,r=this.table[0].rows;if(t=a(r[e]).attr("data-key"),a(r[e]).attr("data-role")){var o=a(r[e]);if(i=="next"){for(;o;)if(o=o.next(),o){var n=o.attr("data-role");if(!n)return t=o.attr("data-key"),t}}else if(i=="prev"){for(;o;)if(o=o.prev(),o){var n=o.attr("data-role");if(!n)return t=o.attr("data-key"),t}}return null}return t},getRows:function(){var e=this._views[this._view].type,i=this._views[this._view],t="halfHour";i.timeRuler&&i.timeRuler.scale&&(t=i.timeRuler.scale);var r=24,o=this.showAllDayRow;if(i.timeRuler&&(e==="dayView"||e==="weekView")){var n=0,l=23;if(i.timeRuler.scaleStartHour!=null)var n=parseInt(i.timeRuler.scaleStartHour);if(i.timeRuler.scaleEndHour!=null)var l=parseInt(i.timeRuler.scaleEndHour);n<0&&(n=0),l<0&&(l=23),n>23&&(n=0),l>23&&(l=23),r=l-n+1,i.timeRuler.showAllDayRow!=null&&(o=i.timeRuler.showAllDayRow)}var c=new Array,d=0;switch(e){case"dayView":case"weekView":default:var d=r*2;if(t==="hour"||t==="sixtyMinutes")var d=r;else if(t==="quarterHour"||t==="fifteenMinutes")var d=r*4;else if(t==="tenMinutes")var d=r*6;else if(t==="fiveMinutes")var d=r*12;o&&d++;break;case"monthView":var d=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":var d=1;break;case"agendaView":var d=this.appointments?this.appointments.length:0;break}for(var m=0;m<d;m++)c.push({uid:m});return c},_getDateByString:function(e){if(e&&this._dateByStringCache&&this._dateByStringCache[e]){var u=this._dateByStringCache[e];return new Date(u.getTime())}var i=e.split(" "),t=i[0].split("-"),r=i[1].split(":"),o=parseInt(t[0],10),n=parseInt(t[1],10)-1,l=parseInt(t[2],10),c=parseInt(r[0],10),d=parseInt(r[1],10),m=parseInt(r[2],10),u=new Date(o,n,l,c,d,m);return o<1970&&u.setFullYear(o,n,l),this._dateByStringCache||(this._dateByStringCache=[]),this._dateByStringCache[e]=u,u},_getCellByDate:function(e,i,t){var r=this.rows;i===void 0&&(i=!1),t===void 0&&this.focusedCell&&(t=this.focusedCell.getAttribute("data-view"));for(var o=0;o<r.length;o++){var n=r[o];if(!n.element.getAttribute("data-group-row"))for(var l=0;l<n.cells.length;l++){var c=n.cells[l];if(c.getAttribute("rowspan")==null&&c.getAttribute("data-view")===t&&!c.getAttribute("data-time-slot")&&!(i&&c.getAttribute("data-end-date")!=null)){var d=c.getAttribute("data-date"),m=this._getDateByString(d);if(m.valueOf()==e.valueOf())return c}}}},_rendercelltexts:function(){if(a.jqx.credits!=="71208878-FCD1-4EC7-9249-BA0F153A5DE8"){var e="www.jqwidgets.com";if(location.hostname.indexOf(e.substring(4))==-1){this._gridRenderElement&&a(this._gridRenderElement).remove();var i="SPAN",t="HTTP://",r=document.createElement(i);r.id=a.jqx.utilities.createId(),r.innerHTML=e,r.style.position="absolute",r.style.right="5px",r.style.bottom="5px",r.style.color="#909090",r.style.cursor="pointer",r.style.zIndex="999999",r.style.display="none",r.style.fontSize="9px",r.onmousedown=function(){open(t+e)},this.content[0].appendChild(r),this._gridRenderElement=r}}},_handleKey:function(e){if(this._loading)return!0;var i=e.shiftKey,t=e.ctrlKey||e.metaKey,r=this,o=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(r._hasOpenedMenu)return o==27?r.closeMenu():r.menu.jqxMenu("focus"),!0;if(o===13||r.selectedAppointment&&o==46){if(r.editRecurrenceDialog&&r.editRecurrenceDialog.jqxWindow("isOpen")||r._editDialog&&r._editDialog.jqxWindow("isOpen"))return!0;if(!r.selectedAppointment)r._initDialog(),r._openDialog();else{var n=r.getJQXAppointmentByElement(r.selectedAppointment);if(!n.readOnly)if(o==46){var l=r._initDialog(n,"delete");l!==!1&&r._openDialog()}else{var l=r._initDialog(n);l!==!1&&r._openDialog()}}}if(o===27&&r.dragOrResize){r.table.find(".jqx-icon-arrow-down").hide();var c=r.getViewStart(),d=a.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());return r._prepareAppointmentsInView(c,d),r._renderAppointments(c,d),r._removeFeedbackAndStopResize(),!1}var m=function(T){var h=r.selectedAppointment,v=r.getJQXAppointmentByElement(h),y=v.elements[0].cells[0].cell,D=v.elements[v.elements.length-1].cells[v.elements[v.elements.length-1].cells.length-1].cell,g=r.rows[r.rows.length-1].cells[r.rows[r.rows.length-1].cells.length-1];(i||!i&&!t&&(T=="down"||T=="right"))&&(y=D);var z=r._views[r._view].type;r._views[r._view];var C=y;switch(T){case"left":var S=r.rowByCell[y.getAttribute("data-key")],k=S.indexOf(y);if(k>0&&!i)C=S.cells[k-1];else if(z=="monthView"&&!i){var H=S.aboveRow;H&&(C=H.cells[H.cells.length-1])}break;case"right":var S=r.rowByCell[y.getAttribute("data-key")],k=S.indexOf(y);if(k<S.cells.length-1)C=S.cells[k+1];else if(z=="monthView"){var O=S.belowRow;O&&(C=O.cells[0])}z=="monthView"&&!i&&t&&D==g&&(C=y);break;case"up":var S=r.rowByCell[y.getAttribute("data-key")],k=S.indexOf(y),H=S.aboveRow;H&&!i&&(C=H.cells[k]);break;case"down":var S=r.rowByCell[y.getAttribute("data-key")],k=S.indexOf(y),O=S.belowRow;O&&(C=O.cells[k]);break}var P=C.getAttribute("data-date"),F=new a.jqx.date(P,r.timeZone),z=a(C).attr("data-view"),B=r._resources[parseInt(z)-1];if(i){var z=r._views[r._view].type;r._views[r._view];var N=!1;z==="dayView"||z==="weekView"?y.getAttribute("data-end-date")?T=="left"&&(v.elements[0].cells.length>1||r.rtl)?(r.rtl?v.to=a.jqx.scheduler.utilities.getEndOfDay(F.addDays(1)):v.to=a.jqx.scheduler.utilities.getEndOfDay(F.addDays(-1)),N=!0):T=="right"&&((!r.rtl||r.rtl&&v.elements[0].cells.length>1)&&(v.to=a.jqx.scheduler.utilities.getEndOfDay(F)),N=!0):T=="up"&&v.elements[0].cells.length>1?(v.to=F,N=!0):T=="down"&&(v.to=F.addMinutes(r.getMinutesPerScale()),N=!0):z.indexOf("month")>=0?T=="left"&&(v.elements[0].cells.length>1||v.elements.length>1)?(v.to=a.jqx.scheduler.utilities.getEndOfDay(F.addDays(-1)),N=!0):T=="right"&&(v.to=a.jqx.scheduler.utilities.getEndOfDay(F),N=!0):!r.rtl&&T=="left"&&v.elements[0].cells.length>1||r.rtl&&T=="right"&&v.elements[0].cells.length>1?(v.to=F,r.rtl&&(v.to=F.addMinutes(r.getMinutesPerScale())),N=!0):(!r.rtl&&T=="right"||r.rtl&&T=="left")&&(v.to=F.addMinutes(r.getMinutesPerScale()),r.rtl&&(v.to=v.to.addMinutes(r.getMinutesPerScale())),N=!0),N&&r.moveAppointment(v,F,B,C,!0)}else if(t)r.moveAppointment(v,F,B,C);else{r.clearAppointmentsSelection();var M=!0;T=="down"&&(M=!1),r.selectCell(F,M,z),r._ensureVisible(C)}if(r.selectedAppointment){r.selectedAppointment.removeClass(r.toTP("jqx-scheduler-selected-appointment"));var W=r.selectedAppointment.attr("data-key");a('[data-key="'+W+'"]').addClass(r.toTP("jqx-scheduler-selected-appointment")),r.clearSelection()}};if(e.altKey&&r._resourcesElements&&r._resources&&r._resources.length>0){var u=function(T){var h=r._resourcesElements.bottom[T];h.attr("data-toggle")=="on"?r.hideAppointmentsByResource(T):r.showAppointmentsByResource(T)},s=o>=49&&o<=58?s=o-48:-1;if(s>=1)return a.each(r._resources,function(T,h){if(T==s-1)return u(h),!1}),!1}if(e.ctrlKey){if(!r.selectedAppointment){if(o==37)return r.toolbarLeftButton.trigger("click"),r._ensureVisible(r.focusedCell),!1;if(o==39)return r.toolbarRightButton.trigger("click"),r._ensureVisible(r.focusedCell),!1}if(o==49)return r._setView(0),!1;if(o==50)return r._setView(1),!1;if(o==51)return r._setView(2),!1;if(o==52)return r._setView(3),!1;if(o==53)return r._setView(4),!1;if(o==54)return r._setView(5),!1;if(o==68)return r.dateTimeInput.jqxDateTimeInput("open"),!1;if(o==77)return r.openMenu(),!1}if(o==9)if(e.shiftKey){if(r.selectedAppointment){r.clearSelection();var f=r.selectedAppointment,n=r.getJQXAppointmentByElement(f);if(n){var w=r.tabKeyAppointments.indexOf(n);if(w>0)return n=r.tabKeyAppointments[w-1],r._selectAppointment(n),r._lastSelectedAppointment=n,r._ensureAppointmentVisible(n),!1;if(r.clearAppointmentsSelection(),r.focusedCell){if(r.focusedCell&&r.focusedCell.className.indexOf("-focus")==-1)return r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1}else return r._updateFocusedCell(),r._ensureVisible(r.focusedCell),!1;return!0}}else if(!r.focusedCell)r._updateFocusedCell(),r._ensureVisible(r.focusedCell);else if(r.focusedCell&&r.focusedCell.className.indexOf("-focus")==-1)return r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1}else if(r.selectedAppointment){r.clearSelection();var f=r.selectedAppointment,n=r.getJQXAppointmentByElement(f),w=r.tabKeyAppointments.indexOf(n);return w<r.tabKeyAppointments.length-1?(n=r.tabKeyAppointments[w+1],r._selectAppointment(n),r._lastSelectedAppointment=n,r._ensureAppointmentVisible(n),!1):(r.clearAppointmentsSelection(),!0)}else{var n=r.tabKeyAppointments[0];if(n)return r._selectAppointment(n),r._lastSelectedAppointment=n,r._ensureAppointmentVisible(n),!1;if(r.focusedCell){if(r.focusedCell&&r.focusedCell.className.indexOf("-focus")==-1)return r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1}else return r._updateFocusedCell(),r._ensureVisible(r.focusedCell),!1}if(r.selectedAppointment)return o==37?m("left"):o==38?m("up"):o==40?m("down"):o==39&&m("right"),o>=37&&o<=40?!1:void 0;var b=this._lastSelectedCell;if(b){a(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],b=this._lastSelectedCell),this.rows;var q=this._views[this._view].type,p=this._views[this._view];p.timeRuler&&p.timeRuler.scale&&p.timeRuler.scale;var j=function(T,h){var v=T.getAttribute("data-date"),y=function(z,B,N){if(z&&(z.getAttribute("rowspan")==null||q=="agendaView")&&z.getAttribute("data-time-slot")==null){if(N<r.min||N>r.max)return;var M=r.rows,W=r._lastSelectedCell;if(r._lastSelectedCell=z,e.shiftKey&&r._lastSelectedCell?r.shiftSelectedCell||(r.shiftSelectedCell=b):e.shiftKey||(r.shiftSelectedCell=null),r.shiftSelectedCell)z.getAttribute("data-end-date")&&r.shiftSelectedCell.getAttribute("data-end-date")||!z.getAttribute("data-end-date")&&!r.shiftSelectedCell.getAttribute("data-end-date")?(r.focusedCell=z,r._selectRange(z,r.shiftSelectedCell)):(r.focusedCell=W,r._lastSelectedCell=W);else{for(var X=0;X<M.length;X++){var U=M[X];if(!U.element.getAttribute("data-group-row"))for(var Q=0;Q<U.cells.length;Q++){var B=U.cells[Q];B.removeAttribute("data-selected","false")}}z.setAttribute("data-selected","true"),r.focusedCell=z}r._ensureVisible(r.focusedCell)}};switch(new a.jqx.date(v,r.timeZone),T.getAttribute("data-view"),h){case"left":var S=r.rowByCell[T.getAttribute("data-key")],k=S.indexOf(T);if(k>0)var P=S.cells[k-1],F=new a.jqx.date(P.getAttribute("data-date"),r.timeZone);y(P,T,F);break;case"right":var S=r.rowByCell[T.getAttribute("data-key")],k=S.indexOf(T);if(k<S.cells.length-1)var P=S.cells[k+1],F=new a.jqx.date(P.getAttribute("data-date"),r.timeZone);y(P,T,F);break;case"up":var S=r.rowByCell[T.getAttribute("data-key")],k=S.indexOf(T),D=S.aboveRow;if(D){var P=D.cells[k];if(k==0&&P.getAttribute("rowspan"))for(var g=-1+r.rows.indexOf(S),P=T;g>=0;)if(r.rows[g].cells[0]==P)g--;else{P=r.rows[g].cells[0];break}var F=new a.jqx.date(P.getAttribute("data-date"),r.timeZone);y(P,T,F)}break;case"down":var S=r.rowByCell[T.getAttribute("data-key")],k=S.indexOf(T),C=S.belowRow;if(C){var P=C.cells[k];if(k==0&&P.getAttribute("rowspan"))for(var g=1+r.rows.indexOf(S),P=T;g<r.rows.length;)if(r.rows[g].cells[0]==P)g++;else{P=r.rows[g].cells[0];break}var F=new a.jqx.date(P.getAttribute("data-date"),r.timeZone);y(P,T,F)}break;case"home":var S=r.rowByCell[T.getAttribute("data-key")],k=S.indexOf(T),H=r.rows[0],P=H.cells[k],F=new a.jqx.date(P.getAttribute("data-date"),r.timeZone);y(P,T,F);break;case"end":var S=r.rowByCell[T.getAttribute("data-key")],k=S.indexOf(T),O=r.rows[r.rows.length-1],P=O.cells[k],F=new a.jqx.date(P.getAttribute("data-date"),r.timeZone);y(P,T,F);break}r._updateCellsSelection()},x=function(){j(b,"home")},A=function(){j(b,"end")};if(o==36||t&&o==38)return x(),!1;if(o==35||t&&o==40)return A(),!1;if(o==37)return r.selectedAppointment?m(b):j(b,"left"),!1;if(o==38)return r.selectedAppointment?m(b):j(b,"up"),!1;if(o==40)return r.selectedAppointment?m(b):j(b,"down"),!1;if(o==39)return r.selectedAppointment?m(b):j(b,"right"),!1}},getSelectedCells:function(){for(var e=this,i=e.rows,t=i.length,r=new Array,o=0;o<t;o++)for(var n=i[o].cells,l=0;l<n.length;l++)n[l].getAttribute("data-selected")&&r.push(n[l]);return r.sort(function(c,d){return e._sortByDate(c,d)})},getSelection:function(){var e=this,i=e.getSelectedCells();if(i.length==0)return null;var t=i[0].getAttribute("data-date"),r=i[i.length-1].getAttribute("data-date"),o=e.getMinutesPerScale(),n=e._views[e._view].type;n.toLowerCase().indexOf("month")>=0&&(o=0),i[0].getAttribute("data-end-date")&&(o=0),r=new a.jqx.date(r,e.timeZone).addMinutes(o);var n=parseInt(i[0].getAttribute("data-view"))-1,l=e._resources[n];if(e._views[e._view].type.toLowerCase().indexOf("month")>=0)return{from:new a.jqx.date(t,e.timeZone),to:a.jqx.scheduler.utilities.getEndOfDay(r),resourceId:l};if(e._views[e._view].type.toLowerCase().indexOf("day")>=0||e._views[e._view].type.toLowerCase().indexOf("week")>=0)return t=new a.jqx.date(t,e.timeZone),r.minute()===0&&r.hour()===0&&t.hour()===0&&t.minute()===0?r.day()===t.day()?{from:new a.jqx.date(t,e.timeZone),to:a.jqx.scheduler.utilities.getEndOfDay(r),resourceId:l}:{from:new a.jqx.date(t,e.timeZone),to:a.jqx.scheduler.utilities.getEndOfDay(r).addDays(-1),resourceId:l}:{from:new a.jqx.date(t,e.timeZone),to:r,resourceId:l};if(e._views[e._view].type.toLowerCase().indexOf("agenda")>=0)return{from:new a.jqx.date(t,e.timeZone),to:a.jqx.scheduler.utilities.getEndOfDay(r),resourceId:l}},clearSelection:function(){for(var e=this,i=e.rows,t=i.length,r=0;r<t;r++)for(var o=i[r].cells,n=0;n<o.length;n++)o[n].removeAttribute("data-selected");e._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,i,t,r,o){this.rtl&&(e=this.hScrollInstance.max-e);var n=0,l=-1,c=t+r;if(this.autorowheight)return{start:0,end:t+r};if(!o){for(var d=0;d<t+r;d++)if(this.columns.records[d].hidden||(n+=this.columns.records[d].width),n>=e&&l==-1&&(l=d),n>i+e){c=d;break}}return c++,c>t+r&&(c=t+r),l==-1&&(l=0),{start:l,end:c}},_renderhorizontalscroll:function(){var e=this,i=e.hScrollInstance,t=i.value;e.hScrollBar[0].style.visibility==="hidden"&&(i.value=0,t=0);var r=parseInt(t);if(e.table!=null){var o=function(q){return!!(q.parentNode&&q.parentNode.nodeName!="#document-fragment")},n=e._getvirtualcolumnsindexes(r,e._hostWidth,0,e.columns.records.length,!1),l=n.start,c=n.end;e.rows;for(var d=0;d<l;d++){var m=d,u=e.columns.records[m].element[0];o(u)&&u.parentNode.removeChild(u)}for(var d=c;d<e.columns.records.length;d++){var m=d,u=e.columns.records[m].element[0];o(u)&&u.parentNode.removeChild(u)}for(var d=l;d<c;d++){var m=d;u=e.columns.records[m].element[0],o(u)||e.columnsrow[0].appendChild(u)}var s=e.columnsrow,f=0;if(e.columns.records.length-f,e.columns.records,e.source.records.length==0,e.rtl&&e.hScrollBar.css("visibility")!="hidden"&&(r=i.max-r),e.table[0].style.left=-r+"px",e.pinnedtable[0].style.display=="block"&&(e.pinnedtable[0].style.left=-r+"px"),e._resources.length>0&&e.tableRows>0)for(var w=0;w<this.table[0].rows.length;w++){var b=this.table[0].rows[w];b.getAttribute("data-group-row")&&a(b).find("span").css("left",5+r)}s[0].style.marginLeft=-r+"px"}},_getDayName:function(e,i){e>=7&&(e-=7),i||(i=this.dayNameFormat,this.isTouchDevice()&&(i=this.touchDayNameFormat));var t=this.schedulerLocalization.days.names[e];switch(i){case"full":t=this.schedulerLocalization.days.names[e];break;case"abbr":t=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":t=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":t=t.substring(0,2);break;case"firstLetter":t=t.substring(0,1);break}return t},_initializeColumns:function(){if(this._views.length===0&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var e=this._views[this._view].type,i=this._views[this._view];if(i.timeSlotWidth&&(i.timeSlotWidth=Math.max(i.timeSlotWidth,30),i.columnWidth=i.timeSlotWidth),i.columnWidth&&i.columnWidth<30&&(i.columnWidth=30),this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++)this._removecolumnhandlers(this.columns.records[t]);this.columns=new Array;for(var r=new Array,x=this,o=function(D,g){var C="halfHour";i.timeRuler&&i.timeRuler.scale&&(C=i.timeRuler.scale);var H=24,S=0,k=23;if(i.timeRuler){if(i.timeRuler.scaleStartHour!=null)var S=parseInt(i.timeRuler.scaleStartHour);if(i.timeRuler.scaleEndHour!=null)var k=parseInt(i.timeRuler.scaleEndHour);S<0&&(S=0),k<0&&(k=23),S>23&&(S=0),k>23&&(k=23),H=k-S+1}var O=60,P=2;if(C)switch(C){case"sixtyMinutes":case"hour":P=1;break;case"thirtyMinutes":case"halfHour":P=2;break;case"fifteenMinutes":case"quarterHour":P=4;break;case"tenMinutes":P=6;break;case"fiveMinutes":P=12;break}new Array;var F="auto";i.timeRuler&&i.timeRuler.formatString&&(F=i.timeRuler.formatString);var z=S,B=H,N=D.addHours(z),M="auto";i.columnWidth?M=P*i.columnWidth:M=P*80;for(var W=0;W<B;W++){var X=N.toDate();if(F==="auto")if(X.getHours()==0&&X.getMinutes()==0||X.getHours()==12&&X.getMinutes()==0)var U="hh tt";else var U="hh:mm";else if(a.isFunction(F))var U=F(X);else U=F;a.jqx.dataFormat.isDate(X)&&(X=a.jqx.dataFormat.formatdate(X,U,x.schedulerLocalization)),N=N.addMinutes(O,!1),x.columns.push({columnGroup:g,text:X,minwidth:30,width:M})}},n=0;n<this.tableColumns;n++){if(this.tableColumns>1){var l=x._resources[n]?x._resources[n]:"Resource"+n;r.push({text:l,name:l})}var c="left";switch(this.rtl&&(c="right"),e){case"dayView":var d=this.getViewStart();i.showWeekends===!1&&((d.dayOfWeek()===0||d.dayOfWeek()===6)&&(d=d.addDays(1)),(d.dayOfWeek()===0||d.dayOfWeek()===6)&&(d=d.addDays(1)));var m="auto";i&&i.columnWidth&&(m=i.columnWidth);var l=x._resources[n]?x._resources[n]:"Resource"+n;this.columns.push({align:c,width:m,columnGroup:l,text:this._getDayName(d.dayOfWeek())});break;case"weekView":case"monthView":for(var t=0;t<7;t++){var u=this.schedulerLocalization.firstDay+t;if(u>6&&(u=0),!(i.showWeekends===!1&&(u===0||u===6))){var m="auto";i&&i.columnWidth&&(m=i.columnWidth);var l=x._resources[n]?x._resources[n]:"Resource"+n;this.columns.push({align:e=="weekView"?c:"center",width:m,columnGroup:l,text:this._getDayName(u)})}}break;case"timelineDayView":var l=x._resources[n]?x._resources[n]:"Resource"+n;o(x.getViewStart(),l);break;case"timelineWeekView":for(var t=0;t<7;t++){var u=this.schedulerLocalization.firstDay+t;if(!(i.showWeekends===!1&&(t===0||t===6))){var l=x._resources[n]?x._resources[n]:"Resource"+n;r.push({align:x.rtl?"right":"left",parentGroup:l,name:this._getDayName(u)+n,text:this._getDayName(u)}),o(x.getViewStart().addDays(t),this._getDayName(u)+n)}}break;case"timelineMonthView":var s=x.getViewStart(),f="auto";i.timeRuler&&i.timeRuler.formatString&&(f=i.timeRuler.formatString);for(var t=0;t<41;t++){var u=s.dayOfWeek();if(!(i.showWeekends===!1&&(u===0||u===6))){var m="auto";i.columnWidth?m=i.columnWidth:m=100;var w=s.toDate();if(f==="auto"){var b="dd";w=s.toDate(),w.getDate()===1&&(b="MMM dd")}else if(a.isFunction(f))var b=f(w);else b=f;a.jqx.dataFormat.isDate(w)&&(w=a.jqx.dataFormat.formatdate(w,b,x.schedulerLocalization)),s=s.addDays(1);var l=x._resources[n]?x._resources[n]:"Resource"+n;x.columns.push({minwidth:30,columnGroup:l,text:w,width:m})}}break;case"agendaView":var q=i.dateColumnWidth,p=i.timeColumnWidth,j=i.appointmentColumnWidth;j||(j="70%"),p||(p="auto"),q||(q="auto"),x.columns.push({text:x.schedulerLocalization.agendaDateColumn,width:q}),x.columns.push({text:x.schedulerLocalization.agendaTimeColumn,width:p}),x.columns.push({text:x.schedulerLocalization.agendaAppointmentColumn,width:j});break}}r.length>0&&(this.columnGroups=r);var x=this,A=new a.jqx.schedulerDataCollection(this.element),T=0;this._columns=this.columns;var h="left",v=new a.jqx.scheduler.column(x,this);v.visibleindex=T++,v.text="",v.width=x.timeRulerWidth,v.editable=!1,v.timeColumn=!0,h="left",v.text="",v.hidden=!1,v.width=x.timeRulerWidth,i.timeRuler&&(e==="dayView"||e==="weekView")?(v._text=i.timeRuler.text||"",h=i.timeRuler.position||"left",v.hidden=i.timeRuler.hidden||!1,v.width=i.timeRuler.width||x.timeRulerWidth,i.timeRuler.timeZones):e!=="dayView"&&e!=="weekView"&&(v.hidden=!0);var y=function(D){var g=new a.jqx.scheduler.column(x,x);g.visibleindex=T++,g.text="",g.width=x.timeRulerWidth,g.editable=!1,g.timeColumn=!0,h="left",g.text="",g.hidden=!1,g.timeZone=i.timeRuler.timeZones[D].id,g.width=x.timeRulerWidth,i.timeRuler&&(e==="dayView"||e==="weekView")&&(g._text=i.timeRuler.timeZones[t].text||"",g.hidden=i.timeRuler.hidden||!1,g.width=i.timeRuler.width||x.timeRulerWidth,A.add(g))};if(h==="left"&&(e==="dayView"||e==="weekView")){if(i.timeRuler&&i.timeRuler.timeZones)for(var t=0;t<i.timeRuler.timeZones.length;t++)y(t);A.add(v)}if(h==="left"&&e==="monthView"&&i.showWeekNumbers&&(v.hidden=!1,A.add(v)),new Array,a.each(this.columns,function(D){if(x.columns[D]!=null){var g=new a.jqx.scheduler.column(x,this);g.visibleindex=T++,A.add(g)}}),h==="right"&&(e==="dayView"||e==="weekView")){if(i.timeRuler)for(var t=0;t<i.timeRuler.timeZones.length;t++)y(t);A.add(v)}h==="right"&&e==="monthView"&&i.showWeekNumbers&&(v.hidden=!1,A.add(v)),this.rtl&&A.records.reverse(),this.columns=A},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,i=this._views[this._view],t=1;switch(e){case"dayView":t=1;break;case"weekView":i.showWeekends!==!1?t=7:t=5;break;case"monthView":i.showWeekends!==!1?t=7:t=5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":t=this.columns.records.length;break;case"agendaView":t=this.columns.records.length;break}return t},escapeHTML:function(e){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(t){return i[t]})},sanitizeHTML:function(e){var i=this,t=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig"),r=String(e).replace(t,function(o){return i.escapeHTML(o)});return r},escape_HTML:function(e){if(e&&(e.indexOf("onclick")>=0||e.indexOf("onload")>=0||e.indexOf("onerror")>=0))return this.escapeHTML(e);var i=this.sanitizeHTML(e);return i},_renderagenda:function(){var e=this;e._views[e._view].type;var i=e._views[e._view],t=e.getViewStart(),r=a.jqx.scheduler.utilities.getEndOfDay(e.getViewEnd().addDays(-1));e._prepareAppointmentsInView(t,r);for(var o=e.appointmentsToRender.length,n=new Array,l=0;l<e.appointmentsToRender.length;l++)for(var c=e.appointmentsToRender[l],d=c.from.clearTime();d<a.jqx.scheduler.utilities.getEndOfDay(c.to);){var m=d.toString();n[m]?n[m].appointments.push(c):(n[m]={date:d,appointments:new Array},n[m].appointments.push(c),n[n.length]=n[m]),d=d.addDays(1).clearTime()}var u=0,s=0;e.rows=new Array;for(var f=a.jqx.browser.msie&&a.jqx.browser.version<8,w=0,b=0,q=e.rtl?" "+e.toTP("jqx-grid-table-rtl"):"",p=0,j="<table cellspacing='0' cellpadding='0' class='"+e.toTP("jqx-grid-table")+q+"' id='table"+e.element.id+"'><colgroup>",x=e.columns.records.length,A=0;A<x;A++){var T=e.columns.records[A];if(T.hidden){w++;continue}var h=T.width;if(h<T.minwidth&&(h=T.minwidth),h>T.maxwidth&&(h=T.maxwidth),h-=b,h<0&&(h=0),f){var v=h;A==w&&v++,j+="<col style='max-width: "+v+"px; width: "+v+"px;'>"}else j+="<col style='max-width: "+h+"px; width: "+h+"px;'>";p+=h}if(j+="</colgroup>",o==0){var y='<tr role="row">',D=this.host.height(),g=0;e.columnGroups?g+=e.showHeader?e.columnsheader.height():0:g+=e.showHeader?e.columnsHeight:0,e.showToolbar&&(g+=e.toolbarHeight),e.showLegend&&e._resources.length>0&&(g+=e.legendHeight),D-=g;var C='<td data-date="'+t.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+D+"px; height: "+D+"px; max-width:"+p+"px; width:"+p+"px;",H=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");H+=" "+this.toTP("jqx-center-align"),C+='" class="'+H+'">',C+=this.schedulerLocalization.emptyDataString,C+="</td>",y+=C,y+="</tr>",j+=y,this.table[0].style.width=p+2+"px",s=p}var S=e.rowsHeight;e.isTouchDevice()&&(S=e.touchRowsHeight);for(var l=0;l<n.length;l++)for(var k=l,d=n[l],O=0;O<d.appointments.length;O++){var P=0,y='<tr data-key="'+k+'" role="row">';u=0;for(var F=d.appointments[O],A=0;A<x;A++){var z=e.columns.records[A],B=A;e.rtl&&(B=x-1-A);var h=z.width;h<z.minwidth&&(h=z.minwidth),h>z.maxwidth&&(h=z.maxwidth),h-=b,h<0&&(h=0);var H=e.toTP("jqx-cell")+" "+e.toTP("jqx-grid-cell")+" "+e.toTP("jqx-item");e.rtl&&(H+=" "+e.toTP("jqx-cell-rtl"));var N="",k=e.dataview.generatekey(),M=-1,W=d.date,D=S+"px",C='<td data-key="'+k+'" data-view="'+M+'" data-date="'+W.toString()+'" role="gridcell" '+N+' style="max-width:'+h+"px; width:"+h+"px; height: "+D+"; min-height: "+S+"px;";if(B==0&&O==0){var X=d.appointments.length,C='<td rowspan="'+X+'" data-key="'+k+'" data-view="'+M+'" data-date="'+W.toString()+'" role="gridcell" '+N+' style="max-width:'+h+"px; width:"+h+"px;  min-height: "+S+"px;";H+=" "+e.toTP("jqx-center-align")}else if(B==0){u++;continue}e.rtl&&B==1&&(H+=" "+e.toTP("jqx-right-align")),z.hidden?(C+="display: none;",e._hiddencolumns=!0):(P+=b+h,u==0&&!e.rtl?C+="border-left-width: 0px;":C+="border-left-width: 1px;",u++),C+='" class="'+H+'">';var U="";if(B==0&&O==0){var Q=W.toString("dddd",e.schedulerLocalization),te=W.toString("MMMM, yyyy",e.schedulerLocalization),Y=e.toTP("jqx-scheduler-agenda-date"),G=e.toTP("jqx-scheduler-agenda-day"),K=e.toTP("jqx-scheduler-agenda-week");U='<div class="'+Y+'"><strong class="'+G+'">'+W.day()+'</strong><br/><em class="'+K+'">'+Q+'</em><br/><span class="'+Y+'">'+te+"</span></div>"}if(B==1){var ee="auto",i=this._views[this._view],Z=F.from,ne=F.to;i.timeRuler&&i.timeRuler.formatString&&(ee=i.timeRuler.formatString);var fe=ee,$=ee;if(ee==="auto"){if(Z.hour()==0&&Z.minute()==0||Z.hour()==12&&Z.minute()==0)var fe="hh tt";else var fe="hh:mm";if(ne.hour()==0&&ne.minute()==0||ne.hour()==12&&ne.minute()==0)var $="hh tt";else var $="hh:mm"}var Y=e.toTP("jqx-scheduler-agenda-time");F.allDay?U="<span class='"+Y+"'>"+e.schedulerLocalization.agendaAllDayString+"</span>":e.rtl?U="<span class='"+Y+"'>"+ne.toString($,e.schedulerLocalization)+" - "+Z.toString(fe,e.schedulerLocalization)+"</span>":U="<span class='"+Y+"'>"+Z.toString(fe,e.schedulerLocalization)+" - "+ne.toString($,e.schedulerLocalization)+"</span>"}else if(B==2){F.resourceId&&a.each(e._resources,function(He,Ce){if(F.resourceId==Ce){var de=e.getColors(He);this.toString();var E=e.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend");if(e.rtl)var E=e.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend");var R="<div data-key='"+F.id+"' class='"+E+"' style='margin-right: 5px; border-color: "+de.border+"; background: "+de.background+";' class='"+e.toThemeProperty("jqx-scheduler-legend")+"'></div>";U=R}});var ae=F.subject?F.subject:"(No Title)",ce=F.location,me=F.description,ve=F.status?e.schedulerLocalization.editDialogStatuses[F.status]:"",he=F.isRecurrentAppointment();F.isException();var pe=""+e.schedulerLocalization.editDialogSubjectString+": "+ae;ce&&(pe+=`
`+e.schedulerLocalization.editDialogLocationString+": "+ce),me&&(pe+=`
`+e.schedulerLocalization.editDialogDescriptionString+": "+me),ve&&(pe+=`
`+e.schedulerLocalization.editDialogStatusString+": "+ve),he&&(pe+=`
`+e.schedulerLocalization.editDialogRepeatString+": "+he);var Y=e.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label");if(e.rtl)var Y=e.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label");U+="<span data-key='"+F.id+"' title='"+e.escape_HTML(pe)+"' class='"+Y+"'>"+e.escape_HTML(ae)+"</span>"}C+=U,C+="</td>",y+=C}s==0&&(e.table[0].style.width=P+2+"px",e.pinnedtable[0].style.width=P+2+"px",s=P),y+="</tr>",j+=y}j+="</table>",e.table.html(j),e.pinnedtable.html(j),e.pinnedtable[0].style.display="none";var we=a(e.table[0].firstChild),je=a(e.pinnedtable[0].firstChild);e._table=we,e._pinnedtable=je,a.jqx.browser.msie&&a.jqx.browser.version<10&&(e._table[0].style.width=s+"px",e._pinnedtable[0].style.width=s+"px"),o===0&&(e._table[0].style.width=2+s+"px",e._pinnedtable[0].style.width=2+s+"px",e._pinnedtable[0].style.display="none"),e._pinnedtable[0].style.display="none",e._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),e.table[0].rows=e.table[0].firstChild.rows,e.rowByCell=new Array,e.columnCells=new Array;function xe(){var Se={};return Se.cells=new Array,Se.indexOf=function(qe){for(var Me=0;Me<Se.cells.length;Me++)if(Se.cells[Me].getAttribute("data-key")==qe.getAttribute("data-key"))return Me;return-1},Se}e.cellWidth=0,e.cellHeight=0;for(var ie=e.table[0].rows.length,l=0;l<ie;l++){var re=e.table[0].rows[l];if(!re.getAttribute("data-group-row")){var I=new xe;I.aboveRow=null,I.belowRow=null,e.rows.length>0&&(I.aboveRow=e.rows[e.rows.length-1],e.rows[e.rows.length-1].belowRow=I),I.element=re,e.rows.push(I);for(var le=!1,A=0;A<re.cells.length;A++){if(re.cells.length<e.columns.records.length&&!le)for(var De=l;De>=0;){var _e=e.table[0].rows[De];if(e.table[0].rows[De].cells.length==e.columns.records.length){var ue=_e.cells[0];e.columnCells[I.cells.length]||(e.columnCells[I.cells.length]=new Array),e.columnCells[I.cells.length].push(ue),e.cellWidth==0&&(e.cellWidth=ue.clientWidth),e.cellHeight==0&&(ie==1||l>1)&&(e.cellHeight=ue.clientHeight),I.cells.push(ue),le=!0;break}De--}var ue=re.cells[A];ue.style.display!=="none"&&(ue.className.indexOf("jqx-grid-cell-pinned")>=0||(e.columnCells[I.cells.length]||(e.columnCells[I.cells.length]=new Array),e.columnCells[I.cells.length].push(ue),e.cellWidth==0&&(e.cellWidth=ue.clientWidth),e.cellHeight==0&&(ie==1||l>1)&&(e.cellHeight=ue.clientHeight),I.cells.push(ue),e.rowByCell[ue.getAttribute("data-key")]=I))}}}o===0&&(e._table[0].style.tableLayout="auto"),e._updateScrollbars(e.host.height()),e._arrange(),e.rendered&&e.rendered(),e.renderedTime=new Date},_renderrows:function(){var e=this;if(e._loading||e._updating||e._appupdating)return;e.rendering&&e.rendering();var e=this,i=e._views[e._view].type,t=e._views[e._view];if(i=="agendaView"){e._renderagenda();return}var r=1,z=e.getViewStart(),o=a.jqx.scheduler.utilities.getEndOfDay(e.getViewEnd());e._prepareAppointmentsInView(z,o);var n=new Array;if(i==="weekView"||i==="dayView")var r=e.getMaxAllDayAppointments(e.appointmentsToRender);else i==="monthView"&&t.monthRowAutoHeight&&e.rows&&e.rows.length==6&&(n=e._getMonthAppointmentsPerWeek());e.tableRows>1&&e.tableRows;var l="halfHour",c=null,d;t.rowHeight&&(c=t.rowHeight),t&&t.allDayRowHeight&&(d=t.allDayRowHeight),t.timeRuler&&t.timeRuler.scale&&(l=t.timeRuler.scale);var m=0;e.table[0].rows=new Array,e.rows=new Array;var u=e.toTP("jqx-cell")+" "+e.toTP("jqx-widget-content");e.rtl&&(u+=" "+e.toTP("jqx-cell-rtl"));var s=e.columns.records.length,f=e._getColumnsLengthPerView(),w=a.jqx.browser.msie&&a.jqx.browser.version<8;w&&e.host.attr("hideFocus","true"),e._lastSelectedCell=null,e.focusedCell=null,new Array;var b=e.source.records;b=e.dataview.evaluate(b),e.dataViewRecords=b,e.cells=new Array,e.dataViewRecords,e.renderedRecords=e.getRows(),e.tableZIndex;var q=e.getRows().length,p=0,j=0;if(w)for(var x=0;x<s;x++){var A=e.columns.records[x],T=A.width;T<A.minwidth&&(T=A.minwidth),T>A.maxwidth&&(T=A.maxwidth);var h=a('<table><tr><td role="gridcell" style="max-width: '+T+"px; width:"+T+'px;" class="'+u+'"></td></tr></table>');a(document.body).append(h);var v=h.find("td");p=1+parseInt(v.css("padding-left"))+parseInt(v.css("padding-right")),h.remove();break}var y=e.rtl?" "+e.toTP("jqx-grid-table-rtl"):"",D="<table cellspacing='0' cellpadding='0' class='"+e.toTP("jqx-grid-table")+y+"' id='table"+e.element.id+"'><colgroup>",g=0,C=2,H=30;switch(l){case"sixtyMinutes":case"hour":H=60,C=1;break;case"thirtyMinutes":case"halfHour":H=30,C=2;break;case"fifteenMinutes":case"quarterHour":H=15,C=4;break;case"tenMinutes":H=10,C=6;break;case"fiveMinutes":H=5,C=12;break}var S=1;i==="timelineDayView"||i==="timelineWeekView"?(s=C*s,S=C,f=s/e.tableColumns):i==="timelineMonthView"?f=s/e.tableColumns:i==="monthView"&&(t.showWeekNumbers?f=(s-e.tableColumns)/e.tableColumns:f=s/e.tableColumns);for(var k=function(Fe){var We=e.columns.records[Fe];if(We)return We;for(;Fe>=e.columns.records.length;)Fe-=e.columns.records.length;var We=e.columns.records[Fe];return We},x=0;x<s;x++){var A=k(x);if(A.hidden){g++;continue}var T=A.width/S;if(T<A.minwidth&&(T=A.minwidth/S),T>A.maxwidth&&(T=A.maxwidth/S),T-=p,T<0&&(T=0),i=="monthView"&&e.rtl&&A.timeColumn&&T++,w){var O=T;x==g&&O++,D+="<col style='max-width: "+O+"px; width: "+O+"px;'>"}else D+="<col style='max-width: "+T+"px; width: "+T+"px;'>";j+=T}if(D+="</colgroup>",e._hiddencolumns=!1,q===0){var P='<tr role="row">',B=e.host.height();e.pageable&&(B-=e.pagerHeight,e.pagerPosition==="both"&&(B-=e.pagerHeight)),B-=e.columnsHeight,e.showLegend&&e._resources.length>0&&(B-=e.legendHeight),B<25&&(B=25),e.hScrollBar[0].style.visibility!="hidden"&&(B-=e.hScrollBar.outerHeight()),(e.height==="auto"||e.height===null||e.autoheight)&&(B=300);var h='<td colspan="'+e.columns.records.length+'" role="gridcell" style="border: none; min-height: '+B+"px; height: "+B+"px; max-width:"+j+"px; width:"+j+"px;",u=e.toTP("jqx-cell")+" "+e.toTP("jqx-grid-cell")+" "+e.toTP("jqx-item");e.rtl&&(u+=" "+e.toTP("jqx-cell-rtl")),u+=" "+e.toTP("jqx-center-align"),h+='" class="'+u+'">',h+=e.schedulerLocalization.emptyDataString,h+="</td>",P+=h,D+=P,e.table[0].style.width=j+2+"px",m=j}var F=e.getRows(),z=e.getViewStart(),B=e._hostHeight?e._hostHeight:e.host.height(),N=0;e.columnGroups?N+=e.showHeader?e.columnsheader.height():0:N+=e.showHeader?e.columnsHeight:0,e.showToolbar&&(N+=e.toolbarHeight),e.showLegend&&e._resources.length>0&&(N+=e.legendHeight);var M=e.showAllDayRow,W=23;t.resourceHeaderRowHeight&&(W=t.resourcesRowHeight),W+=2,t.showAllDayRow!=null&&(M=t.showAllDayRow);var X=e._columnswidth>e._hostWidth,U=X?3+e.scrollBarSize:0,Q=e.tableRows>1?e.resources.unitsInView:1;if(Q==null&&(Q=e._resources.length),e.resources&&e.resources.resourceRowHeight&&(c=e.resources.resourceRowHeight),c==null||c=="auto"){var te=e.rowsHeight,Y=3*te;if(e.isTouchDevice()){te=e.touchRowsHeight;var Y=22+te}e.tableRows==1?(c=B>0?B-N:te,e.columns.records.length>10&&(c=B>0?B-e.scrollBarSize-5-N:te)):(c=B>0?(B-N-W)/q:te,e.columns.records.length>10&&(c=B>0?(B-e.scrollBarSize-5-N-Q*W)/(Q*q):te)),i==="dayView"||i==="weekView"?M&&(d==null||d=="auto"?(c=B>0?(B-N)/(e.tableRows*q):Y,d=c):c=B>0?(B-N-d-Q*W)/(Q*(q-1)):te):i==="monthView"&&(e.hScrollBar[0].style.visibility=="hidden"&&(U=0),e.tableRows==1?c=B>0?(B-N-U)/q:te:c=B>0?(B-N-W-U)/q:te),c=Math.max(te,c),d||(d=Y),d=Math.max(Y,d),e._allDayRowHeight=d,e._defaultRowHeight=te,d=r*(te-2),d=Math.max(Y,17+d),e._allDayRowFullHeight=d,t.allDayRowHeight&&(e._allDayRowHeight=t.allDayRowHeight,d=r*(t.allDayRowHeight-2),e._allDayRowFullHeight=d)}var G=new Array;if(e.resources&&e.resources.colorScheme){for(var K=0;K<e.colorSchemes.length;K++)if(e.colorSchemes[K].name==e.resources.colorScheme){G=e.colorSchemes[K].colors;break}for(;e._resources.length>G.length-1;){var ee=parseInt(e.resources.colorScheme.substring(6));ee>=27&&(ee=0),G=G.concat(e.colorSchemes[ee].colors),ee++}}for(var Z=0;Z<e.tableRows;Z++){var ne=0,fe=23;if(t.timeRuler&&t.timeRuler.scaleStartHour!=null)var ne=parseInt(t.timeRuler.scaleStartHour);if(t.timeRuler&&t.timeRuler.scaleEndHour!=null)var fe=parseInt(t.timeRuler.scaleEndHour);var $=z;t.showWeekends===!1&&($.dayOfWeek()==0||$.dayOfWeek()==6)&&($=$.addDays(1));var ae=new Array,ce=i!="monthView"&&i!="timelineDayView"&&i!="timelineWeekView"&&i!="timelineMonthView"&&M?1:0;if(e.tableRows>1){var P='<tr data-group-row="true" role="row">',u=e.toTP("jqx-cell")+" "+e.toTP("jqx-grid-cell")+" "+e.toTP("jqx-item");if(e.rtl&&(u+=" "+e.toTP("jqx-cell-rtl")),w)u+=" "+e.toTP("jqx-grid-cell-pinned");else{u+=" "+e.toTP("jqx-grid-cell-pinned"),ge+=' colspan="'+s+'"';for(var O=0,Re=0;Re<s;Re++){var me=k(Re),ve=me.width/S;ve<me.minwidth&&(T=me.minwidth/S),ve>me.maxwidth&&(T=me.maxwidth/S),ve-=p,ve<0&&(ve=0),me.hidden||(O+=ve)}T=O}var h='<td style="height:'+W+"px;";if(x==s-1&&s==1&&!e.rtl&&(h+="border-right-color: transparent;"),e._resources.length>0&&e.resources.colorScheme&&e.resources.orientation!="none"){var he="",pe="",we="",je=function(nt){var vt=105,gt=nt.r*.299+nt.g*.587+nt.b*.114,yt=255-gt<vt?"Black":"White";return yt};he=G[Z],he=e.hexToRgba(G[Z],.7).toString(),we=je(e.hexToRgba(G[Z],.7)),pe=G[Z],h+="background: "+he+";",h+="border-color: "+pe+";",h+="color: "+we+";"}h+='" class="'+u+'" role="gridcell" '+ge;var xe=e._resources[Z];h+="><span style='position: relative;'>"+xe+"</span>",h+="</td>",P+=h,D+=P}for(var ie=0;ie<q;ie++){var re={},I="jqx"+e.element.id+"_"+ie;re.uid=I;var P='<tr data-key="'+I+'" role="row">',le=0,De=0;if(ae[0]&&ie>ce){var H=30;if(i!="monthView"){switch(l){case"sixtyMinutes":case"hour":H=60;break;case"thirtyMinutes":case"halfHour":H=30;break;case"fifteenMinutes":case"quarterHour":H=15;break;case"tenMinutes":H=10;break;case"fiveMinutes":H=5;break}for(var _e=0;_e<s;_e++)ae[_e]=ae[_e].addMinutes(H,!1)}else for(var _e=0;_e<s;_e++)ae[_e]=ae[_e].addDays(7,!1)}var ue=0,Se=1,qe=0;t.showWeekends||t.showWeekends==null?(qe=e.columns.records.length/(7*e.tableColumns),qe*=C):(qe=e.columns.records.length/(5*e.tableColumns),qe*=C);var Me=0;e.rtl&&(Me=1);for(var Le=0,x=0;x<s;x++){var oe=k(x);if(ue>=f&&(ue=0,Le=0,Me=0,e.rtl&&(Me=1),Se++),!ae[x])if(e.rtl){if(i.toString().indexOf("timelineDayView")>=0){var Pe=1+x;ae[x]=$.addHours(1+fe).addMinutes(-Pe*H,!1)}else i.toString().indexOf("timelineWeekView")>=0?t.showWeekends||t.showWeekends==null?ae[x]=$.addDays(6-Le).addHours(1+fe,!1).addMinutes(-Me*H,!1):ae[x]=$.addDays(4-Le).addHours(1+fe,!1).addMinutes(-Me*H,!1):i=="dayView"||i=="monthView"||i=="weekView"?t.showWeekends||t.showWeekends==null?ae[x]=$.addDays(6-ue).addHours(ne,!1):ae[x]=$.addDays(4-ue).addHours(ne,!1):ae[x]=$.addDays(f-ue-1).addHours(ne,!1);e.timeZone&&(ae[x].timeZone=e.timeZone)}else{if(i.toString().indexOf("timelineDayView")>=0){var Pe=x;ae[x]=$.addHours(ne).addMinutes(Pe*H,!1)}else i.toString().indexOf("timelineWeekView")>=0?ae[x]=$.addDays(Le).addHours(ne,!1).addMinutes(Me*H,!1):ae[x]=$.addDays(ue).addHours(ne,!1);e.timeZone&&(ae[x].timeZone=e.timeZone)}Me++,Me>=qe&&(Me=0,Le++),(!oe.timeColumn&&(i==="dayView"||i==="weekView")||!oe.timeColumn&&i==="monthView"&&t.showWeekNumbers||i==="monthView"&&!t.showWeekNumbers||i==="timelineMonthView"||i=="timelineDayView"||i=="timelineWeekView")&&ue++;var be=ae[x],T=oe.width/S;T<oe.minwidth&&(T=oe.minwidth/S),T>oe.maxwidth&&(T=oe.maxwidth/S),T-=p,T<0&&(T=0);var u=e.toTP("jqx-cell")+" "+e.toTP("jqx-grid-cell")+" "+e.toTP("jqx-item");oe.pinned&&(u+=" "+e.toTP("jqx-grid-cell-pinned")),e.sortcolumn===oe.displayfield&&(u+=" "+e.toTP("jqx-grid-cell-sort")),e.altRows&&ie%2!=0&&(u+=" "+e.toTP("jqx-grid-cell-alt")),ie==0&&M&&(i==="dayView"||i==="weekView")&&(u+=" "+e.toTP("jqx-grid-cell-alt")),(be>e.max||be<e.min)&&(u+=" "+e.toTP("jqx-scheduler-disabled-cell")),e.rtl&&(u+=" "+e.toTP("jqx-cell-rtl"));var ge="",I=e.dataview.generatekey(),Ie=Z+Se;e.resources&&e.resources.orientation=="none"&&(Ie=-1),e._resources.length==0&&(Ie=-1);var h='<td data-key="'+I+'" data-view="'+Ie+'" data-date="'+be.toString()+'" role="gridcell" '+ge+' style="max-width:'+T+"px; width:"+T+"px;  height:"+c+"px;";if(ie==0&&M&&(i==="dayView"||i==="weekView"))var h='<td  data-key="'+I+'" data-view="'+Ie+'" data-end-date="'+a.jqx.scheduler.utilities.getEndOfDay(be).toString()+'" data-date="'+be.clearTime().toString()+'" role="gridcell" '+ge+' style="max-width:'+T+"px; width:"+T+"px; height:"+d+"px;";if(i=="monthView"&&t.monthRowAutoHeight&&n.length>0&&n[ie]&&n[ie]!="auto"&&c<n[ie])var h='<td data-key="'+I+'" data-view="'+Ie+'" data-date="'+be.toString()+'" role="gridcell" '+ge+' style="max-width:'+T+"px; width:"+T+"px;  height:"+n[ie]+"px;";if(e.date.month()!=be.month()&&i==="monthView"&&t.showOtherMonthDays,e.resources&&e._resources.length>0&&e.resources.colorScheme&&e.resources.orientation!=="none"){var he="",pe="";if(he=G[Z+Se-1],ie==0&&M&&(i==="dayView"||i==="weekView")?he=e.shadeColor(G[Z+Se-1],.3).toString():he=e.hexToRgba(G[Z+Se-1],.3).toString(),!(ie==0&&M&&(i==="dayView"||i==="weekView"))&&i.indexOf("month")==-1&&!oe.timeColumn&&t.showWorkTime!==!1){var Be=1,He=5,Ce=8,de=18;if(t.workTime)var Be=t.workTime.fromDayOfWeek?t.workTime.fromDayOfWeek:0,He=t.workTime.toDayOfWeek?t.workTime.toDayOfWeek:0,Ce=t.workTime.fromHour!==void 0?t.workTime.fromHour:8,de=t.workTime.toHour?t.workTime.toHour:8;be.dayOfWeek()>=Be&&be.dayOfWeek()<=He&&be.hour()>=Ce&&be.hour()<de&&(he=e.hexToRgba(G[Z+Se-1],.1).toString())}pe=G[Se+Z-1],h+="background: "+he+";",h+="border-color: "+pe+";"}if(x==s-1&&s==1&&!e.rtl&&(h+="border-right-color: transparent;"),oe.timeColumn&&!oe.hidden&&i==="monthView"){var u=e.toTP("jqx-scheduler-time-column")+" "+e.toTP("jqx-widget-header")+" "+e.toTP("jqx-cell")+" "+e.toTP("jqx-grid-cell")+" "+e.toTP("jqx-item");if(u+=" "+e.toTP("jqx-scheduler-week-number-column"),e.tableRows>1)var u=e.toTP("jqx-cell")+" "+e.toTP("jqx-grid-cell")+" "+e.toTP("jqx-item");if(e.rtl&&(u+=" "+e.toTP("jqx-cell-rtl")),be.minute()===0){var h='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+be.toString()+'" role="gridcell" style="max-width:'+T+"px; width:"+T+"px;";x==s-1&&s==1&&!e.rtl?h+="border-right-color: transparent;":e.rtl&&x==0&&(h+="border-left-color: transparent;"),x==s-1&&e.rtl&&(h+="border-right-color: transparent;")}else{De++;continue}}if(oe.timeColumn&&!oe.hidden&&(i==="dayView"||i==="weekView")){var u=e.toTP("jqx-scheduler-time-column")+" "+e.toTP("jqx-widget-header")+" "+e.toTP("jqx-cell")+" "+e.toTP("jqx-grid-cell")+" "+e.toTP("jqx-item");if(e.tableRows>1)var u=e.toTP("jqx-cell")+" "+e.toTP("jqx-grid-cell")+" "+e.toTP("jqx-item");if(e.rtl&&(u+=" "+e.toTP("jqx-cell-rtl")),ie>0)if(be.minute()===0){var h='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+be.toString()+'" rowspan='+C+' role="gridcell" '+ge+' style="max-width:'+T+"px; width:"+T+"px;";x==s-1&&s==1&&!e.rtl?h+="border-right-color: transparent;":e.rtl&&x==0&&(h+="border-left-color: transparent;")}else{De++;continue}else{if(e.resources&&e.resources.orientation=="none"&&(Ie=-1),ie==0&&M&&(i==="dayView"||i==="weekView"))var h='<td data-view="'+Ie+'" data-time-slot="true" data-end-date="'+a.jqx.scheduler.utilities.getEndOfDay(be).toString()+'" data-date="'+be.toString()+'" role="gridcell" '+ge+' style="max-width:'+T+"px; width:"+T+"px;";(x==s-1&&s==1&&!e.rtl||x==0&&s==1&&e.rtl)&&(h+="border-right-color: transparent;"),e.rtl&&(h+="border-left-width: 1px;"),e.tableRows>1&&(h+="background: "+he+";",h+="border-color: "+pe+";")}}else if(ie>0){var E="border-left-width: 1px;";e.rtl&&x==0&&i=="monthView"&&t.showWeekNumbers&&(E="border-left-width: 0px;"),h+=E}if(oe.cellsalign!="left"&&(oe.cellsalign==="right"?u+=" "+e.toTP("jqx-right-align"):u+=" "+e.toTP("jqx-center-align")),oe.timeColumn||e.rowinfo[re.uid]&&e.rowinfo[re.uid].selected&&e.editKey!==re.uid&&e.selectionMode!=="none"&&(u+=" "+e.toTP("jqx-grid-cell-selected"),u+=" "+e.toTP("jqx-fill-state-pressed"),u+=" "+e.toTP("jqx-scheduler-cell-selected")),oe.hidden?(h+="display: none;",e._hiddencolumns=!0):(le+=p+T,De==0&&!e.rtl&&(h+="border-left-width: 0px;"),De++),!(ie==0&&M&&(i==="dayView"||i==="weekView"))&&i.indexOf("month")==-1&&(u+=" "+e.toTP("jqx-grid-cell-nowrap"),ie%2==1&&!oe.timeColumn&&(u+=" "+e.toTP("jqx-scheduler-middle-cell")),!oe.timeColumn&&t.showWorkTime!==!1)){var Be=1,He=5,Ce=8,de=18;if(t.workTime)var Be=t.workTime.fromDayOfWeek?t.workTime.fromDayOfWeek:0,He=t.workTime.toDayOfWeek?t.workTime.toDayOfWeek:0,Ce=t.workTime.fromHour!==void 0?t.workTime.fromHour:8,de=t.workTime.toHour?t.workTime.toHour:8;be.dayOfWeek()>=Be&&be.dayOfWeek()<=He&&be.hour()>=Ce&&be.hour()<de?u+=" "+e.toTP("jqx-scheduler-work-time-cell"):u+=" "+e.toTP("jqx-scheduler-not-work-time-cell")}var R="";if(i==="monthView"){!e.touchDevice&&!oe.timeColumn&&(u+=" "+e.toTP("jqx-top-align")),be.isToday()&&(u+=" "+e.toTP("jqx-scheduler-month-day-today-cell"));var J="dd";R=be.toDate();var V=e.toTP("jqx-scheduler-month-outer-cell")+" ",ye=e.toTP("jqx-scheduler-month-weekend-cell");e.date.month()==be.month()&&(V=""),be.isWeekend()?u+=" "+ye:ye="",R.getDate()===1&&(J="MMM dd"),e.touchDevice?c>16?R="<div class='"+V+e.toTP("jqx-scheduler-month-cell-touch")+"'>"+a.jqx.dataFormat.formatdate(R,J,e.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+e.toTP("jqx-icon-arrow-down")+"'></span></div>":R="<div class='"+V+e.toTP("jqx-scheduler-month-cell-touch")+"'>"+a.jqx.dataFormat.formatdate(R,J,e.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+e.toTP("jqx-icon-arrow-down")+"'></span></div>":c>16?R="<div class='"+V+e.toTP("jqx-scheduler-month-cell")+"'>"+a.jqx.dataFormat.formatdate(R,J,e.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+e.toTP("jqx-icon-arrow-down")+"'></span></div>":R="<div class='"+V+e.toTP("jqx-scheduler-month-cell")+"'>"+a.jqx.dataFormat.formatdate(R,J,e.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+e.toTP("jqx-icon-arrow-down")+"'></span></div>"}else(i==="timelineWeekView"||i==="timelineDayView"||i==="timelineMonthView")&&(u+=" "+e.toTP("jqx-right-align jqx-bottom-align"),R="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+e.toTP("jqx-icon-arrow-down")+"'></span>");ie==0&&M&&(i==="dayView"||i==="weekView")&&!oe.timeColumn&&(u+=" "+e.toTP("jqx-top-align"),u+=" "+e.toTP("jqx-scheduler-all-day-cell"),e.rtl&&(u+=" "+e.toTP("jqx-rtl")),R=be.toDate(),be.isToday()&&(u+=" "+e.toTP("jqx-scheduler-all-day-today-cell")),R="<span>"+a.jqx.dataFormat.formatdate(R,"dd",e.schedulerLocalization)+"</span>");var Ae=oe.cellsFormat;if(oe.timeColumn&&!oe.hidden?(R=be.toDate(),oe.timeZone&&(R=be.clone().toTimeZone(oe.timeZone),R=R.toDate()),be.isToday()&&(u+=" "+e.toTP("jqx-scheduler-time-today-column-header-cell")),t.timeRuler&&t.timeRuler.formatString?Ae=t.timeRuler.formatString:oe.timeColumn.format||(R.getHours()==0||R.getHours()==12?Ae="hh tt":Ae="hh:mm"),a.jqx.dataFormat.isDate(R)&&(R=a.jqx.dataFormat.formatdate(R,Ae,e.schedulerLocalization)),ie<ce&&(e.rtl?u+=" "+e.toTP("jqx-scheduler-time-column-header-cell-rtl"):u+=" "+e.toTP("jqx-scheduler-time-column-header-cell"),R=""),ie<ce&&(oe._text&&(u+=" "+e.toTP("jqx-bottom-align")),t.timeRuler&&t.timeRuler.timeZones&&t.timeRuler.timeZones.length>0&&x<t.timeRuler.timeZones.length&&(R=oe._text)),i=="monthView"&&(R=be.weekOfYear(e.schedulerLocalization.firstDay))):Ae!=""&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(R)?R=a.jqx.dataFormat.formatdate(R,Ae,e.schedulerLocalization):(a.jqx.dataFormat.isNumber(R)||!isNaN(parseFloat(R))&&isFinite(R))&&(R=a.jqx.dataFormat.formatnumber(R,Ae,e.schedulerLocalization))),oe.cellclassname!=""&&oe.cellclassname)if(typeof oe.cellclassname=="string")u+=" "+oe.cellclassname;else{var Oe=oe.cellclassname(ie,oe.datafield,R,re);Oe&&(u+=" "+Oe)}if(oe.cellsRenderer!=""&&oe.cellsRenderer){var Ee=F.indexOf(re);R=oe.cellsRenderer(Ee,oe.datafield,R,re)}h+='" class="'+u+'">',h+=R,h+="</td>",P+=h}m==0&&(e.table[0].style.width=le+2+"px",e.pinnedtable[0].style.width=le+2+"px",m=le),P+="</tr>",D+=P,e.rowinfo[re.uid]?"row"in e.rowinfo[re.uid]||(e.rowinfo[re.uid].row=re):e.rowinfo[re.uid]={row:re}}}D+="</table>",e.table.html(D),e.pinnedtable.html(D),e.table[0].rows=e.table[0].firstChild.rows;var L=a.jqx.browser.msie&&a.jqx.browser.version<9,Te=null;if(M&&(i==="dayView"||i==="weekView")&&e.tableRows==1){if(e.pinnedtable[0].style.display="block",e.pinnedtable[0].style.zIndex="400",e.pinnedtable[0].style.position="absolute",e.pinnedtable[0].style.top="0px",e.pinnedtable[0].style.height=d+"px",!L)if(e.tableRows==1){e.oldRow=e.table[0].rows[0];try{e.table[0].rows[0]=e.pinnedtable.find("tr")[0]}catch{}Te=e.pinnedtable.find("tr")[0],e.pinnedTableRow=Te}else{e.oldRow=e.table[0].rows[1];try{e.table[0].rows[1]=e.pinnedtable.find("tr")[1]}catch{}Te=e.pinnedtable.find("tr")[1],e.pinnedTableRow=Te}}else e.pinnedtable[0].style.display="none";var Re=a(e.table[0].firstChild),Xe=a(e.pinnedtable[0].firstChild);e._table=Re,e._pinnedtable=Xe,a.jqx.browser.msie&&a.jqx.browser.version<10&&(e._table[0].style.width=m+"px",e._pinnedtable[0].style.width=m+"px"),q===0&&(e._table[0].style.width=2+m+"px",e._pinnedtable[0].style.width=2+m+"px"),e._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),e._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),e.rowByCell=new Array,e.columnCells=new Array;function rt(){var Fe={};return Fe.cells=new Array,Fe.indexOf=function(We){for(var Ke=0;Ke<Fe.cells.length;Ke++)if(Fe.cells[Ke].getAttribute("data-key")==We.getAttribute("data-key"))return Ke;return-1},Fe}e.cellWidth=0,e.cellHeight=0;for(var Ge=e.table[0].rows.length,ie=0;ie<Ge;ie++){var _=e.table[0].rows[ie];if(ie==0&&Te&&(_=Te),!_.getAttribute("data-group-row")){var re=new rt;re.aboveRow=null,re.belowRow=null,e.rows.length>0&&(re.aboveRow=e.rows[e.rows.length-1],e.rows[e.rows.length-1].belowRow=re),re.element=_,e.rows.push(re);for(var x=0;x<_.cells.length;x++){var se=_.cells[x];se.getAttribute("data-time-slot")||se.style.display!=="none"&&(se.className.indexOf("jqx-grid-cell-pinned")>=0||(e.columnCells[re.cells.length]||(e.columnCells[re.cells.length]=new Array),e.columnCells[re.cells.length].push(se),e.cellWidth==0&&(e.cellWidth=se.clientWidth),e.cellHeight==0&&(Ge==1||ie>1)&&(e.cellHeight=se.clientHeight),e._views[e._view].type=="monthView"&&re.top==null&&(re.top=parseInt(a(se).position().top)),re.cells.push(se),e.rowByCell[se.getAttribute("data-key")]=re))}}}q===0&&(e._table[0].style.tableLayout="auto"),e._renderAppointments(z,o),(e.pinnedtable[0].style.display!="none"||(i=="dayView"||i=="weekView")&&e.tableRows>1)&&e._updateScrollbars(e.host.height()),i==="monthView"&&t.monthRowAutoHeight&&(n.length==0?e._renderrows():e._updateScrollbars(e.host.height())),e.rendered&&e.rendered(),e.renderedTime=new Date},showAppointmentsByResource:function(e){for(var i=this,t=0;t<i.uiappointments.length;t++){var r=i.uiappointments[t];if(r.resourceId==e&&(r.hidden=!1,r.hiddenByResourceId=!1,r.exceptions))for(var o=0;o<r.exceptions.length;o++)r.exceptions[o].hiddenByResourceId=!1}if(i._resourcesElements){var n=i.getColors(i._resources.indexOf(e));i._resourcesElements.top[e].attr("data-toggle","on"),i._resourcesElements.top[e].css("background",n.background),i._resourcesElements.bottom[e].attr("data-toggle","on"),i._resourcesElements.bottom[e].css("background",n.background)}i.hiddenResources&&delete i.hiddenResources[e],i._renderrows()},hideAppointmentsByResource:function(e){for(var i=this,t=0;t<i.uiappointments.length;t++){var r=i.uiappointments[t];if(r.resourceId==e&&(r.hidden=!0,r.hiddenByResourceId=!0,r.exceptions))for(var o=0;o<r.exceptions.length;o++)r.exceptions[o].hiddenByResourceId=!0,r.exceptions[o].hidden=!0}i._resourcesElements&&(i._resourcesElements.top[e].attr("data-toggle","off"),i._resourcesElements.top[e].css("background","transparent"),i._resourcesElements.bottom[e].attr("data-toggle","off"),i._resourcesElements.bottom[e].css("background","transparent")),i.hiddenResources||(i.hiddenResources=new Array),i.hiddenResources[e]=!0,i._renderrows()},_prepareAppointmentsInView:function(e,i){var t=this;if(!t._appupdating){for(var r=new Array,o=0;o<this.uiappointments.length;o++){var n=this.uiappointments[o];if(!(n.hidden&&n.recurrencePattern==null)){var l=a.jqx.scheduler.utilities.rangeIntersection(n.from,n.to,e,i);l&&!n.recurrencePattern&&r.push(n),n.renderedAppointments=new Array;var c=!1;if(n.recurrencePattern){for(var d=n.getOccurrences(e,i),m=n.exceptions,u=0;u<d.length;u++){var s=d[u];if(!s.hidden){for(var f=!0,w=0;w<m.length;w++){var b=m[w],q=b.occurrenceFrom?b.occurrenceFrom:b;if(t.selectedJQXAppointment&&t.selectedJQXAppointment.rootAppointment&&!c&&t.selectedJQXAppointment.occurrenceFrom.clearTime().equals(q.clearTime())&&(t.selectedJQXAppointment=b,c=!0),q.clearTime().equals(s.from.clearTime())){f=!1;break}}f&&(t.selectedJQXAppointment&&t.selectedJQXAppointment.rootAppointment&&!c&&t.selectedJQXAppointment.occurrenceFrom.clearTime().equals(s.occurrenceFrom.clearTime())&&(t.selectedJQXAppointment=s,c=!0),n.renderedAppointments[s.id]=s,r.push(s))}}for(var w=0;w<m.length;w++){var b=m[w],q=b.occurrenceFrom?b.from:b,p=n.createOccurrence(q);b.occurrenceFrom&&(b.cloneAppointmentAttributes(p),b.hidden)||p!=n&&(r.push(b),n.renderedAppointments[b.id]=b)}}}}var j=new Array;this.tabKeyAppointments=new Array;for(var o=0;o<r.length;o++){var x=r[o];j.push(x),this.tabKeyAppointments.push(x)}j.sort(this._sortAppointmentsByFrom),this._resources.length>0?this.tabKeyAppointments.sort(function(A,T){return t._sortAppointmentsByResourceId(A,T,t)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=j}},_renderDayWeekAppointments:function(){var e=this;e._views[e._view].type;var i=e._views[e._view],t=new Array,r=new Array,o=this.rows,n=e.showAllDayRow,l=e.getMinutesPerScale();i.timeRuler&&i.timeRuler.showAllDayRow!=null&&(n=i.timeRuler.showAllDayRow);for(var c=0;c<this.appointmentsToRender.length;c++){var d=this.appointmentsToRender[c],m=d.from,u=d.to,s=a.jqx.scheduler.utilities.getEndOfDay(u),f=m.day();d.allDay;var w=new Array,b=new Array,q=d.resourceId,p=e._resources.indexOf(q);e.resources&&e.resources.orientation=="none"&&(p=-1);var j=m.toDate().valueOf(),x=u.toDate().valueOf();s.toDate().valueOf();var A=function($,ae){if($.date<ae.date)return-1;if($.date==ae.date)return 0;if($.date>ae.date)return 1};if(!d.allDay&&d.duration().days()<1||!n){var T=u.toDate();T.getHours()==0&&T.getMinutes()==0;for(var h=0;h<e.columnCells.length;h++)if(e.columnCells[h]){var v=e.columnCells[h];e.rtl&&(v=e.columnCells[e.columnCells.length-1-h]);for(var y=0;y<v.length;y++)if(!v[y].getAttribute("data-end-date")){var D=v[y].getAttribute("data-date"),g=e._getDateByString(D),C=e._getDateByString(D);C.setMinutes(C.getMinutes()+l-1);var H=g.valueOf(),S=C.valueOf();if(!(H>u)&&(j<=H&&H<x||j<=S&&S<x||j>=H&&S>=x)){if(p!=-1&&1+p!=v[y].getAttribute("data-view"))continue;f!=g.getDate()&&(w.sort(A),b.push(w),w=new Array,f=m.addDays(1).day()),w.push({cell:v[y],date:g})}}}w.sort(A),b.push(w);for(var k=new Array,h=0;h<b.length;h++){var v=b[h];if(v.length!=0){var O=e.cellWidth,P=v[v.length-1].cell.offsetTop+e.cellHeight,F=v[0].cell.offsetLeft,z=v[0].cell.offsetTop,B=e.getMinutesPerScale(),T=new a.jqx.date(v[v.length-1].date,e.timeZone).addMinutes(B),N={cells:v,x:F,y:z,height:P-z,width:O,appointment:d,from:new a.jqx.date(v[0].date,e.timeZone),to:T};k.push(N),t.push(N)}}d.elements=k,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}else{var v=o[0].cells;if(this.tableRows>1){var M=o.length/e.tableRows,W=p*M;v=o[W].cells}for(var y=0;y<v.length;y++){var D=v[y].getAttribute("data-date"),X=e._getDateByString(D),g=new a.jqx.date(X,e.timeZone);g=a.jqx.scheduler.utilities.getEndOfDay(g);var H=g.toDate().valueOf();if(!(H>s)&&m<=g&&g<=s){if(p!=-1&&1+p!=v[y].getAttribute("data-view"))continue;w.length==0&&(g=a.jqx.scheduler.utilities.getStartOfDay(g)),w.push({cell:v[y],date:g})}}w.sort(A),b.push(w);for(var k=new Array,h=0;h<b.length;h++){var v=b[h];if(v.length==0)break;var U=a(v[0].cell).position(),O=a(v[v.length-1].cell).position().left+this.cellWidth-U.left,P=a(v[v.length-1].cell).position().top,F=U.left,z=U.top;if(this.rtl)var U=a(v[v.length-1].cell).position(),F=U.left,O=a(v[0].cell).position().left+this.cellWidth-U.left;var Q=v[v.length-1].date;Q=new a.jqx.date(a.jqx.scheduler.utilities.getEndOfDay(Q),e.timeZone);var N={cells:v,x:F,y:z,height:P-z+this.cellHeight,width:O,appointment:d,from:a.jqx.scheduler.utilities.getStartOfDay(new a.jqx.date(v[0].date,e.timeZone)),to:Q};k.push(N),r.push(N)}d.elements=k,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}}var te=this.getViewStart(),Y=this.getViewEnd();if(this._resources.length<2||this.resources.orientation=="none"){for(var G=new Array,K=te,ee=0;K<Y;){G[ee]=new Array;for(var h=0;h<t.length;h++){var Z=t[h];Z.from.day()==K.day()&&(Z.column=-1,Z.columnSpan=1,G[ee].push(Z))}ee++,K=K.addDays(1)}for(var h=0;h<G.length;h++)this._renderAppointmentsInDay(G[h]);this._renderAllDayAppointments(r)}else for(var y=0;y<this._resources.length;y++){for(var ne=this._resources[y],G=new Array,K=te,ee=0;K<Y;){G[ee]=new Array;for(var h=0;h<t.length;h++){var Z=t[h];Z.from.day()==K.day()&&(Z.column=-1,Z.columnSpan=1,Z.appointment.resourceId==ne&&G[ee].push(Z))}ee++,K=K.addDays(1)}for(var h=0;h<G.length;h++)this._renderAppointmentsInDay(G[h]);for(var fe=new Array,h=0;h<r.length;h++)r[h].appointment.resourceId==ne&&fe.push(r[h]);this._renderAllDayAppointments(fe)}},_renderAllDayAppointments:function(e){var i=this,t=this.showAllDayRow,r=this._views[this._view];if(r.timeRuler&&r.timeRuler.showAllDayRow!=null&&(t=r.timeRuler.showAllDayRow),!!t&&e.length!=0){var o=e,n=1;n=this.getMaxAllDayAppointments(e),this.tableRows==1?this.table[0].rows[0].clientHeight/n:this.table[0].rows[1].clientHeight/n;for(var l=0;l<e.length;l++){var c=e[l];c.row=-1;var d=this.getCollisionAppointments(c,e);d.sort(this._sortAppointmentsByFrom);var m=d.indexOf(c);if(m>=0)for(var u=m;u<d.length;u++)d[u].row=-1;for(var s=0;s<n;s++){var f=s;for(var w in d){if(w=="indexOf")break;var b=d[w];if(b.row==-1&&!this.isBusyRow(f,d)){b.row=f;var q=n,p=this.getMaxAllDayAppointments(d);q>p&&(q=p),b.rowsCount=q}}}}for(var s=0;s<o.length;s++){var c=o[s],d=this.getCollisionAppointments(c,o);d.sort(this._sortAppointmentsByFrom);var j=1;for(var w in d){if(w=="indexOf")break;var x=d[w];j=Math.max(j,x.rowsCount)}for(var w in d){if(w=="indexOf")break;var x=d[w];x.rowsCount=j}if(d.length==1)c.rowSpan=j;else{for(var A=0,T=!0,u=c.row;u<j;u++){for(var w in d){if(w=="indexOf")break;var b=d[w];b!=c&&b.row==u&&(T=!1)}if(!T)break;A++}c.rowSpan=A}}var h=i.appointmentsMinHeight+2;if(i.isTouchDevice())var h=i.touchAppointmentsMinHeight+2;for(var v=0;v<o.length;v++){var y=h,c=o[v];c.height=h;var D=y*c.row;if(c.y=18+c.y+D+4*c.row,c.x+=3,c.width-=8,c.appointment.from.hour()!=0||c.appointment.to.hour()!=23){var g=this.getViewStart(),C=this.getViewEnd();if(i.rtl){var H=parseFloat(i.cellWidth/24)*c.appointment.to.hour()+parseFloat(i.cellWidth/48)*(c.appointment.to.minute()/30),S=parseFloat(i.cellWidth/24)*c.appointment.from.hour()+parseFloat(i.cellWidth/48)*(c.appointment.from.minute()/30);H>0&&(H=i.cellWidth-H),c.appointment.from<g&&(S=0),c.appointment.to>C&&(H=0),r.appointmentsRenderMode=="exactTime"&&(c.x+=H,c.width-=H,c.width-=S),c.appointment.duration().days()<1&&c.width<15&&(c.width=15),c.timewidth=c.width,r.appointmentsRenderMode=="exactTimeStatus"&&(c.timewidth-=H,c.timewidth-=S),c.timex=H}else{var H=parseFloat(i.cellWidth/24)*c.appointment.from.hour()+parseFloat(i.cellWidth/48)*(c.appointment.from.minute()/30);c.appointment.from<g&&(H=0),c.timewidth=c.width,c.timex=H;var S=parseFloat(i.cellWidth/24)*c.appointment.to.hour()+parseFloat(i.cellWidth/48)*(c.appointment.to.minute()/30);c.appointment.to>C&&(S=0),c.timewidth-=H,S>0&&(c.timewidth-=i.cellWidth,c.timewidth+=S),r.appointmentsRenderMode=="exactTime"&&(c.width=c.timewidth,c.x+=H)}}}for(var v=0;v<o.length;v++){var k=o[v],O="",P="auto",r=this._views[this._view],F=k.appointment.from,z=k.appointment.to;r.timeRuler&&r.timeRuler.formatString&&(P=r.timeRuler.formatString);var B=P;if(P==="auto"){if(F.hour()==0&&F.minute()==0||F.hour()==12&&F.minute()==0)var B="hh tt";else var B="hh:mm";if(z.hour()==0&&z.minute()==0||z.hour()==12&&z.minute()==0)var N="hh tt";else var N="hh:mm"}var M=F.toString(B),W=z.toString(N),X=k.appointment.duration(),U=k.appointment.allDay||X.hours===23&&X.minutes===59&&X.seconds===59,Q=k.appointment.background,te=k.appointment.subject?k.appointment.subject:"(No Title)",Y=k.appointment.color,G=k.appointment.resourceId,K=i.getColors(i._resources.indexOf(G)),ee=" data-resourceId='"+G+"' ",Z=k.appointment.borderColor,ne=k.appointment.location;ne.length>0&&(ne=", "+ne),Q||(Q=K.background),Z||(Z=K.border),Y||(Y=K.color);var fe=k.appointment.isRecurrentAppointment(),$=k.appointment.isException();U&&(M="",W="");var ae="",ce=i.toTP("jqx-scheduler-appointment-status"),me="",ve=i.statuses[k.appointment.status],he=!1;ve&&(ve=="transparent"?he=!1:(me="<div style='background: "+ve+"; border-right-color: "+Z+"' class='"+ce+"'></div>",ve=="tentative"&&(ce=i.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),me="<div style='background-color: "+Z+"; border-right-color: "+Z+"' class='"+ce+"'></div>"),he=!0));var pe=i.toTP("jqx-scheduler-appointment-duration-status"),we="<div style='width: "+k.timewidth+"px; left: "+k.timex+"px;' class='"+pe+"'></div>";U&&(we="");var je="";if(r.appointmentsRenderMode!="exactTimeStatus"&&(we=""),i.rtl){var ce=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");me="<div style='background: "+ve+"; border-left-color: "+Z+"' class='"+ce+"'></div>",ve=="tentative"&&(ce=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),me="<div style='background-color: "+Z+"; border-left-color: "+Z+"' class='"+ce+"'></div>"),je=me,me=""}var xe="",ie=te+ne;if(U||(ie=te+ne+we),i.renderAppointment){var re=i.renderAppointment({appointment:k.appointment.boundAppointment,textColor:Y,background:Q,borderColor:Z,html:ie,cssClass:"",style:"",width:k.width,height:k.height,view:i._views[i._view].type});if(re){var O=re.html;if(O!=ie&&(ie=O),Y=re.textColor,Q=re.background,Z=re.borderColor,re.cssClass&&(xe=re.cssClass+" "),re.style!=""){var K=i.getAppointmentColors(re.style);Q=K.background,Z=K.border,Y=K.color}}}if(ae==="")if(he)var ae="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'>"+me+"<div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ie+"</div>"+je+"</div>";else var ae="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'><div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ie+"</div></div>";var I="";if(i.rtl&&(I=i.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),$){var le=Y.toLowerCase()=="white"?i.toTP("jqx-icon-recurrence-exception-white"):i.toTP("jqx-icon-recurrence-exception");O="<div data-key='"+k.appointment.id+"'"+ee+"class='"+I+xe+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+Z+"; color:"+Y+"; background:"+Q+";'><div class='"+le+"'></div>"+ae+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(fe){var De=Y.toLowerCase()=="white"?i.toTP("jqx-icon-recurrence-white"):i.toTP("jqx-icon-recurrence");O="<div data-key='"+k.appointment.id+"'"+ee+"class='"+I+xe+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+Z+"; color:"+Y+"; background:"+Q+";'><div class='"+De+"'></div>"+ae+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else O="<div data-key='"+k.appointment.id+"'"+ee+"class='"+I+xe+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; line-height: "+k.height+"px; height: "+k.height+"px; border-color:"+Z+"; color:"+Y+"; background:"+Q+";'>"+ae+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var _e=a(O);if(this.tableRows==1?_e.appendTo(this.pinnedtable):_e.appendTo(this.table),k.element=_e,this.appointmentTooltips)if(k.appointment.tooltip)_e[0].setAttribute("title",k.appointment.tooltip);else{var ue=k.appointment.subject;if(M&&(ue=M+" - "+W+" "+ue),ue){var ne=k.appointment.location;ne&&(ue+=`
`+ne),_e[0].setAttribute("title",ue)}}}}},_renderAppointmentsInDay:function(e,i){if(e.length!=0){var t=this,r=this._views[this._view],o=e;this.getViewStart(),this.getViewEnd();var n=1,l=0;r.timeRuler?(l=this.columns.records[1].width,r.timeRuler.timeZones&&(l=this.columns.records[1+r.timeRuler.timeZones.length].width)):l=this.columns.records[1].width,n=this.getMaxColumnsInADay(e);var c=l/n;if(!(c<0)){for(var d=0;d<e.length;d++){var m=e[d];m.column=-1;var u=this.getCollisionAppointments(m,e);u.sort(this._sortAppointmentsByFrom);var s=u.indexOf(m);if(s>=0)for(var f=s;f<u.length;f++)u[f].column=-1;for(var w=0;w<n;w++){var b=w;for(var q in u){if(q=="indexOf")break;var p=u[q];if(p.column==-1&&!this.isBusyColumn(b,u)){p.column=b;var j=n,x=this.getMaxColumnsInADay(u);j>x&&(j=x),p.columnsCount=j}}}}for(var w=0;w<o.length;w++){var m=o[w],u=this.getCollisionAppointments(m,o);u.sort(this._sortAppointmentsByFrom);var A=1;for(var q in u){if(q=="indexOf")break;var T=u[q];T.columnsCount!=null&&(A=Math.max(A,T.columnsCount))}for(var q in u){if(q=="indexOf")break;var T=u[q];T.columnsCount=A}if(u.length==1)m.columnSpan=A;else{for(var h=0,v=!0,f=m.column;f<A;f++){for(var q in u){if(q=="indexOf")break;var p=u[q];p.column!=null&&p!=m&&p.column==f&&(v=!1)}if(!v)break;h++}m.columnSpan=h}}for(var y=0;y<o.length;y++){var D=l/o[y].columnsCount,m=o[y];m.width=-5+D*m.columnSpan;var g=D*m.column;if(m.x=2+m.x+g,m.height-=5,m.y+=1,r.appointmentsRenderMode=="exactTime"){var C=t.getMinutesPerScale();if(m.appointment.from.minute()%C!=0)var H=m.appointment.from.minute()%C,S=parseFloat(t.cellHeight/C)*H;else var S=0;if(m.appointment.to.minute()%C!=0){var H=m.appointment.to.minute()%C,k=t.cellHeight-parseFloat(t.cellHeight/C)*H;m.to.day()!==m.appointment.to.day()&&(k=0)}else k=0;m.y+=S,m.height-=S,m.height-=k}}for(var y=0;y<o.length;y++){var O=o[y],P="",F="auto",r=this._views[this._view],z=O.appointment.from,B=O.appointment.to;r.timeRuler&&r.timeRuler.formatString&&(F=r.timeRuler.formatString);var N=F;if(F==="auto"){if(z.hour()==0&&z.minute()==0||z.hour()==12&&z.minute()==0)var N="hh tt";else var N="hh:mm";if(B.hour()==0&&B.minute()==0||B.hour()==12&&B.minute()==0)var M="hh tt";else var M="hh:mm"}z.toString(N),B.toString(M);var W=O.appointment.background,X=O.appointment.subject?O.appointment.subject:"(No Title)",U=O.appointment.location?O.appointment.location:"",Q=O.appointment.color,te=O.appointment.resourceId,Y=t.getColors(t._resources.indexOf(te)),G=" data-resourceId='"+te+"' ",K=O.appointment.borderColor;W||(W=Y.background),K||(K=Y.border),Q||(Q=Y.color);var ee=O.appointment.isRecurrentAppointment(),Z=O.appointment.isException(),ne="",fe=t.toTP("jqx-scheduler-appointment-status"),$="",ae=t.statuses[O.appointment.status],ce=!1;ae&&(ae=="transparent"?ce=!1:($="<div style='background: "+ae+"; border-right-color: "+K+"' class='"+fe+"'></div>",ae=="tentative"&&(fe=t.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),$="<div style='background-color: "+K+"; border-right-color: "+K+"' class='"+fe+"'></div>"),ce=!0));var me="";if(t.rtl){var fe=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");$="<div style='background: "+ae+"; border-left-color: "+K+"' class='"+fe+"'></div>",ae=="tentative"&&(fe=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),$="<div style='background-color: "+K+"; border-left-color: "+K+"' class='"+fe+"'></div>"),me=$,$=""}var ve="",he=X+"<br/>"+U;if(!U)var he=X;if(t.renderAppointment){var pe=t.renderAppointment({appointment:O.appointment.boundAppointment,textColor:Q,background:W,borderColor:K,html:he,cssClass:"",style:"",width:O.width,height:O.height,view:t._views[t._view].type});if(pe){var P=pe.html;if(P!=he&&(he=P),Q=pe.textColor,W=pe.background,K=pe.borderColor,pe.cssClass&&(ve=pe.cssClass+" "),pe.style!=""){var Y=t.getAppointmentColors(pe.style);W=Y.background,K=Y.border,Q=Y.color}}}if(ne==="")if(ce)var ne="<div class='"+t.toTP("jqx-scheduler-appointment-content")+"'>"+$+"<div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+he+"</div>"+me+"</div>";else var ne="<div class='"+t.toTP("jqx-scheduler-appointment-content")+"'><div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+he+"</div></div>";var we="";if(t.rtl&&(we=t.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),Z){var je=Q.toLowerCase()=="white"?t.toTP("jqx-icon-recurrence-exception-white"):t.toTP("jqx-icon-recurrence-exception");P="<div data-key='"+O.appointment.id+"'"+G+"class='"+we+ve+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+O.x+"px; top: "+O.y+"px; width: "+O.width+"px; height: "+O.height+"px; border-color:"+K+"; color:"+Q+"; background:"+W+";'><div class='"+je+"'></div>"+ne+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else if(ee){var xe=Q.toLowerCase()=="white"?t.toTP("jqx-icon-recurrence-white"):t.toTP("jqx-icon-recurrence");P="<div data-key='"+O.appointment.id+"'"+G+"class='"+we+ve+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+O.x+"px; top: "+O.y+"px; width: "+O.width+"px; height: "+O.height+"px; border-color:"+K+"; color:"+Q+"; background:"+W+";'><div class='"+xe+"'></div>"+ne+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else P="<div data-key='"+O.appointment.id+"'"+G+"class='"+we+ve+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+O.x+"px; top: "+O.y+"px; width: "+O.width+"px; height: "+O.height+"px; border-color:"+K+"; color:"+Q+"; background:"+W+";'>"+ne+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";var ie=a(P);if(ie.appendTo(this.table),O.element=ie,t.showCurrentAppointment){var re=new Date,z=O.from.toDate(),B=O.to.toDate();z<=re&&re<=B&&this.showCurrentAppointment&&O.element[0].classList.add("current-appointment")}if(this.appointmentTooltips)if(O.appointment.tooltip)ie[0].setAttribute("title",O.appointment.tooltip);else{var I=O.appointment.subject;if(I){var U=O.appointment.location;U&&(I+=`
`+U),ie[0].setAttribute("title",I)}}}}}},getCollisionAppointments:function(e,i){for(var t=new Array,r=e.from,o=e.to,n=0;n<i.length;n++){var l=i[n],c=l.from,d=l.to;if(a.jqx.scheduler.utilities.rangeIntersection(r,o,c,d)&&(t.push(l),t.length>30))break}return t},getAllDayCollisionAppointments:function(e,i){for(var t=new Array,r=a.jqx.scheduler.utilities.getStartOfDay(e.from),o=a.jqx.scheduler.utilities.getEndOfDay(e.to),n=0;n<i.length;n++){var l=i[n],c=a.jqx.scheduler.utilities.getStartOfDay(l.from),d=a.jqx.scheduler.utilities.getEndOfDay(l.to);a.jqx.scheduler.utilities.rangeIntersection(r,o,c,d)&&t.push(l)}return t},_renderAppointments:function(e,i){var t=this;if(!t._appupdating){t.table.find(".jqx-scheduler-appointment").remove(),t.pinnedtable.find(".jqx-scheduler-appointment").remove();var r=t._views[t._view].type;r==="dayView"||r==="weekView"?t._renderDayWeekAppointments(e,i):r==="monthView"?t._renderMonthAppointments(e,i):(r==="timelineWeekView"||r==="timelineDayView"||r==="timelineMonthView")&&t._renderTimelineAppointments(e,i),t.selectedJQXAppointment&&t._selectAppointment(t.selectedJQXAppointment)}},_renderTimelineAppointments:function(e,i){var t=this,r=t._views[t._view].type,o=t._views[t._view],n=new Array;this.rows;for(var l=this.cellHeight,c=this.cellWidth,d=t.getMinutesPerScale(),m=0;m<this.appointmentsToRender.length;m++){var u=this.appointmentsToRender[m],s=u.from,f=u.to;t._getDateByString;var w=new Array,b=s.toDate().valueOf(),q=f.toDate().valueOf();r==="timelineMonthView"&&(b=s.clearTime().toDate().valueOf());var p=function(U,Q){if(U.date<Q.date)return-1;if(U.date==Q.date)return 0;if(U.date>Q.date)return 1},j=t.rows[0],x=u.resourceId,A=t._resources.indexOf(x);if(t._resources.length>0&&t.resources.orientation!=="horizontal"&&A>=1&&(j=t.rows[A]),t.resources&&t.resources.orientation=="none"){A=-1;var j=t.rows[0]}for(var H=j.cells,T=0;T<H.length;T++){var h=H[T].getAttribute("data-date");H[T].appointments=new Array;var v=t._getDateByString(h),y=v.valueOf(),D=t._getDateByString(h);D.setMinutes(D.getMinutes()+d-1);var g=D.valueOf();if(!(y>f)&&(b<=y&&y<q||b<=g&&g<q||b>=y&&b<=g&&q<=g)){if(A!=-1&&1+A!=H[T].getAttribute("data-view"))continue;w.push({cell:H[T],date:v}),j=X}}w.sort(p);var C=new Array,H=w;if(H.length!=0){var S=t.appointmentsMinHeight;t.isTouchDevice()&&(S=t.touchAppointmentsMinHeight),o.appointmentHeight&&(S=o.appointmentHeight);var k=a(H[0].cell).position(),O=S,P=a(H[H.length-1].cell).position().left-k.left+c,F=k.left,z=k.top;if(t.rtl)var k=a(H[H.length-1].cell).position(),P=a(H[0].cell).position().left-k.left+c,F=k.left,z=k.top;var B=new a.jqx.date(H[H.length-1].date,t.timeZone).addMinutes(d);if(r==="timelineMonthView")var B=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(H[H.length-1].date,t.timeZone));var N={cellX:F,cellY:z,cellHeight:l,cells:H,x:F,y:z,height:O,width:P,appointment:u,from:new a.jqx.date(H[0].date,t.timeZone),to:B};o.appointmentsRenderMode==="exactTime"&&(N.from=u.from,N.to=u.to),C.push(N),n.push(N),u.elements=C,u.rootAppointment&&(u.rootAppointment.elements=u.rootAppointment.elements.concat(u.elements))}}if(this._resources.length<2||this.resources.orientation=="none")this._renderUITimelineAppointments(n,e,i);else for(var T=0;T<this._resources.length;T++){for(var M=this._resources[T],W=new Array,X=0;X<n.length;X++)n[X].appointment.resourceId==M&&W.push(n[X]);this._renderUITimelineAppointments(W,e,i)}},_renderUITimelineAppointments:function(e,i,t){var l=this;l._views[l._view].type;var r=l._views[l._view],o=e,n=1,l=this,c=new Array;n=l.getMaxTimelineAppointments(e,c,i,t);var d=l.appointmentsMinHeight;l.isTouchDevice()&&(d=l.touchAppointmentsMinHeight),r.appointmentHeight&&(d=r.appointmentHeight);for(var m=0;m<e.length;m++){var u=e[m];u.row=-1;var s=l.getCollisionAppointments(u,e);s.sort(l._sortAppointmentsByFrom);var f=s.indexOf(u);if(f>=0)for(var w=f;w<s.length;w++)s[w].row=-1;for(var b=0;b<n;b++){var q=b;if(b>30)break;for(var p in s){if(p=="indexOf"||p>30)break;var j=s[p];if(j.row==-1&&!l.isBusyRow(q,s)){j.row=q;var x=n,A=l.getMaxTimelineAppointments(s,c,i,t);x>A&&(x=A),j.rowsCount=x}}}}for(var b=0;b<o.length;b++){var u=o[b],s=l.getCollisionAppointments(u,o);s.sort(l._sortAppointmentsByFrom);var T=1;for(var p in s){if(p=="indexOf")break;var h=s[p];T=Math.max(T,h.rowsCount)}for(var p in s){if(p=="indexOf")break;var h=s[p];h.rowsCount=T}if(s.length==1)u.rowSpan=T;else{for(var v=0,y=!0,w=u.row;w<T;w++){for(var p in s){if(p=="indexOf")break;var j=s[p];j!=u&&j.row==w&&(y=!1)}if(!y)break;v++}u.rowSpan=v}}for(var D=0;D<o.length;D++){var g=d,u=o[D];u.height=g;var C=2+(3+g)*u.row;u.y=u.y+C,u.x+=1,u.width-=5;var H=l._views[l._view].type,r=l._views[l._view];if(H=="timelineMonthView"&&r.appointmentsRenderMode){if(u.appointment.from.hour()!=0||u.appointment.to.hour()!=23)if(l.rtl){var S=parseFloat(l.cellWidth/24)*u.appointment.to.hour()+parseFloat(l.cellWidth/48)*(u.appointment.to.minute()/30),k=parseFloat(l.cellWidth/24)*u.appointment.from.hour()+parseFloat(l.cellWidth/48)*(u.appointment.from.minute()/30);S>0&&(S=l.cellWidth-S),r.appointmentsRenderMode=="exactTime"&&(u.x+=S,u.width-=S,u.width-=k),u.appointment.duration().days()<1&&u.width<15&&(u.width=15),u.timewidth=u.width,u.timex=S}else{var S=parseFloat(l.cellWidth/24)*u.appointment.from.hour()+parseFloat(l.cellWidth/48)*(u.appointment.from.minute()/30),k=parseFloat(l.cellWidth/24)*u.appointment.to.hour()+parseFloat(l.cellWidth/48)*(u.appointment.to.minute()/30);if(u.timewidth=u.width,u.timex=S,u.timewidth-=S,u.timewidth-=l.cellWidth,u.timewidth+=k,r.appointmentsRenderMode=="exactTime"&&(u.width=u.timewidth,l.date.month()===u.appointment.from.month()?u.x+=S:u.width=S+u.timewidth,u.appointment.duration().days()<1&&u.width<15&&(u.width=15,S+15>l.cellWidth))){var O=l.cellWidth-S-15;u.x+=O}}}else if(r.appointmentsRenderMode&&r.appointmentsRenderMode=="exactTime"){var P=l.getMinutesPerScale();if(u.appointment.from.minute()%P!=0){var F=u.appointment.from.minute()%P,S=parseFloat(l.cellWidth/P)*F;if(l.rtl)var S=parseFloat(l.cellWidth/P)*F}else var S=0;if(u.appointment.to.minute()%P!=0){var F=u.appointment.to.minute()%P,k=l.cellWidth-parseFloat(l.cellWidth/P)*F;if(l.rtl)var k=l.cellWidth-parseFloat(l.cellWidth/P)*F}else k=0;l.rtl?(u.x+=k,u.width-=S,u.width-=k):(u.x+=S,u.width-=S,u.width-=k)}}for(var z=[],D=0;D<o.length;D++){var B=o[D],N="";if(!(B.y<0)){z.push(B);var r=l._views[l._view];B.appointment.from,B.appointment.to,r.timeRuler&&r.timeRuler.formatString&&r.timeRuler.formatString;var M=B.appointment.background,W=B.appointment.subject?B.appointment.subject:"(No Title)",X=B.appointment.location;X&&X.length>1&&(X=", "+X);var U=B.appointment.color,Q=B.appointment.resourceId,te=l.getColors(l._resources.indexOf(Q)),Y=" data-resourceId='"+Q+"' ",G=B.appointment.borderColor;M||(M=te.background),G||(G=te.border),U||(U=te.color);var K=B.appointment.isRecurrentAppointment(),ee=B.appointment.isException(),Z="",ne=l.toTP("jqx-scheduler-appointment-status"),fe="",$=l.statuses[B.appointment.status],ae=!1;$&&($=="transparent"?ae=!1:(fe="<div style='background: "+$+"; border-right-color: "+G+"' class='"+ne+"'></div>",$=="tentative"&&(ne=l.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),fe="<div style='background-color: "+G+"; border-right-color: "+G+"' class='"+ne+"'></div>"),ae=!0));var ce="";if(l.rtl){var ne=l.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");fe="<div style='background: "+$+"; border-left-color: "+G+"' class='"+ne+"'></div>",$=="tentative"&&(ne=l.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),fe="<div style='background-color: "+G+"; border-left-color: "+G+"' class='"+ne+"'></div>"),ce=fe,fe=""}var me="",ve=W+"<br/>"+X;if(l.renderAppointment){var he=l.renderAppointment({appointment:B.appointment.boundAppointment,textColor:U,background:M,borderColor:G,html:ve,cssClass:"",style:"",width:B.width,height:B.height,view:l._views[l._view].type});if(he){var N=he.html;if(N!=ve&&(ve=N),U=he.textColor,M=he.background,G=he.borderColor,he.cssClass&&(me=he.cssClass+" "),he.style!=""){var te=l.getAppointmentColors(he.style);M=te.background,G=te.border,U=te.color}}}if(Z==="")if(ae)var Z="<div style='white-space:nowrap;' class='"+l.toTP("jqx-scheduler-appointment-content")+"'>"+fe+"<div class='"+l.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ve+"</div>"+ce+"</div>";else var Z="<div style='white-space:nowrap;' class='"+l.toTP("jqx-scheduler-appointment-content")+"'><div class='"+l.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ve+"</div></div>";var pe="";if(l.rtl&&(pe=l.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),ee){var we=U.toLowerCase()=="white"?l.toTP("jqx-icon-recurrence-exception-white"):l.toTP("jqx-icon-recurrence-exception");N="<div data-key='"+B.appointment.id+"'"+Y+"class='"+pe+me+l.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+B.x+"px; top: "+B.y+"px; width: "+B.width+"px; height: "+B.height+"px; line-height: "+B.height+"px; border-color:"+G+"; color:"+U+"; background:"+M+";'><div class='"+we+"'></div>"+Z+"<div class='"+l.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+l.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(K){var je=U.toLowerCase()=="white"?l.toTP("jqx-icon-recurrence-white"):l.toTP("jqx-icon-recurrence");N="<div data-key='"+B.appointment.id+"'"+Y+"class='"+pe+me+l.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+B.x+"px; top: "+B.y+"px; width: "+B.width+"px; height: "+B.height+"px; line-height: "+B.height+"px; border-color:"+G+"; color:"+U+"; background:"+M+";'><div class='"+je+"'></div>"+Z+"<div class='"+l.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+l.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else N="<div data-key='"+B.appointment.id+"'"+Y+"class='"+pe+me+l.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+B.x+"px; top: "+B.y+"px; width: "+B.width+"px; height: "+B.height+"px; line-height: "+B.height+"px; border-color:"+G+"; color:"+U+"; background:"+M+";'>"+Z+"<div class='"+l.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+l.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var xe=a(N);xe.appendTo(this.table),B.element=xe;var ie=new Date,re=B.from.toDate(),I=B.to.toDate();if(re<=ie&&ie<=I&&this.showCurrentAppointment&&B.element[0].classList.add("current-appointment"),this.appointmentTooltips)if(B.appointment.tooltip)xe[0].setAttribute("title",B.appointment.tooltip);else{var le=B.appointment.subject;if(le){var X=B.appointment.location;X&&(le+=`
`+X),xe[0].setAttribute("title",le)}}}}for(var De=l.table.find(".jqx-scheduler-appointment"),_e=function(ue){for(var Se=0;Se<De.length;Se++){var qe=De[Se].getAttribute("data-key");if(qe==ue)return De[Se]}},D=0;D<z.length;D++){var B=z[D],xe=a(_e(B.appointment.id));a.each(B.cells,function(Me){var Le=a(this.cell),oe=B.cellY;B.cellX;var Pe=B.cellHeight;if(Le[0].appointments||(Le[0].appointments=new Array),Le[0].appointments.push({ui:xe,appointment:B}),xe=xe,B.y+B.height>=oe+Pe-12){xe[0].style.visibility="hidden";var be=Le.find(".jqx-icon-arrow-down");be.length>0&&(be[0].style.display="block",be[0].mousedown=function(){l.openedMonthCellPopup&&l.openedMonthCellPopup.remove();var ge=a("<div></div>");new a.jqx.date(Le.attr("data-date"),l.timeZone);var Ie=a("<div class='"+l.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+l.toTP("jqx-icon-close")+"'></span></div>");Ie.height(16),Ie.find("span")[0].mousedown=function(){ge.remove()},Ie.addClass(l.toTP("jqx-widget-header")),ge.addClass(l.toTP("jqx-widget")),ge.addClass(l.toTP("jqx-window")),ge.addClass(l.toTP("jqx-scheduler-month-cell-popup")),ge.addClass(l.toTP("jqx-popup"));var Be=a("<div></div>");ge.append(Ie),ge.append(Be),Be.addClass(l.toTP("jqx-widget-content"));for(var He=Le.width(),Ce=21,de=0;de<Le[0].appointments.length;de++){var E=Le[0].appointments[de].ui.clone(!0);E.css("left","3px"),E.css("top","0px"),E.css("margin-top","2px"),E.css("position","relative"),E.css("visibility","visible"),E.width(He-6),E.click(function(J){var V=l.getJQXAppointmentByElement(l.getAppointmentElement(J.target));l._raiseEvent("appointmentClick",{appointment:V.boundAppointment})}),E.dblclick(function(J){var V=l.getJQXAppointmentByElement(l.getAppointmentElement(J.target));if(!V.readOnly&&!l.editRecurrenceDialog.jqxWindow("isOpen")&&(!l._editDialog||l._editDialog&&!l._editDialog.jqxWindow("isOpen"))){var ye=l._initDialog(V);ye!==!1&&l._openDialog()}l._raiseEvent("appointmentDoubleClick",{appointment:V.boundAppointment})}),Ce+=E.outerHeight()+4,Be.append(E)}ge.css("overflow","hidden"),ge.css("position","absolute"),l.table.height()-oe-25,ge.height(Ce),ge.width(He),ge.css("z-index","9999");var R=Le.position();ge.css("top",R.top),ge.css("left",R.left),l.table.append(ge),Ce+R.top>l.host.offset().top+l.host.height()&&ge.css("top",R.top-Ce),l.openedMonthCellPopup=ge})}})}},_renderMonthAppointments:function(){var e=this;e._views[e._view].type;var i=e._views[e._view],t=new Array;this.rows;var r=0;this.host.find(".jqx-scheduler-month-cell").length>0&&(r=a(this.host.find(".jqx-scheduler-month-cell")[0]).height());for(var o=0;o<this.appointmentsToRender.length;o++){var n=this.appointmentsToRender[o],l=a.jqx.scheduler.utilities.getStartOfDay(n.from),c=a.jqx.scheduler.utilities.getEndOfDay(n.to);n.allDay;var d=new Array,m=new Array,u=l.toDate().valueOf(),s=c.toDate().valueOf(),f=function(ee,Z){if(ee.date<Z.date)return-1;if(ee.date==Z.date)return 0;if(ee.date>Z.date)return 1},w=-1,b=n.resourceId,q=e._resources.indexOf(b);e.resources&&e.resources.orientation=="none"&&(q=-1);for(var p=0;p<e.rows.length;p++)for(var j=e.rows[p].cells,x=0;x<j.length;x++){var A=j[x].getAttribute("data-date"),T=this._getDateByString(A),h=T.valueOf();h>c||(j[x].appointments=new Array,!(q!=-1&&1+q!=j[x].getAttribute("data-view"))&&u<=h&&h<s&&(w!=p&&w!=-1&&(d.sort(f),m.push(d),d=new Array),d.push({cell:j[x],date:T}),w=p))}d.sort(f),m.push(d);for(var v=new Array,p=0;p<m.length;p++){var j=m[p];if(j.length==0)break;var y=e.appointmentsMinHeight;e.isTouchDevice()&&(y=e.touchAppointmentsMinHeight),i.appointmentHeight&&(y=i.appointmentHeight);var D=y,g=a(j[j.length-1].cell).position().left,C=g-a(j[0].cell).position().left+e.columns.records[0].width;if(i.showWeekNumbers)var C=g-a(j[0].cell).position().left+e.columns.records[1].width;var H=a(j[0].cell).position(),S=H.left,k=H.top+r,O=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(j[j.length-1].date,e.timeZone)),P=new a.jqx.date(j[0].date,e.timeZone);if(e.rtl){var O=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(j[0].date,e.timeZone)),P=new a.jqx.date(j[j.length-1].date,e.timeZone),H=a(j[j.length-1].cell).position(),S=H.left,k=H.top+r,g=a(j[0].cell).position().left,C=g-a(j[j.length-1].cell).position().left+e.columns.records[0].width;if(i.showWeekNumbers)var C=g-a(j[j.length-1].cell).position().left+e.columns.records[1].width}var F={cells:j,cellY:parseInt(H.top),cellX:parseInt(H.left),lastCellY:parseInt(H.top),lastCellX:g,x:S,y:k,height:D,width:C,appointment:n,from:P,to:O};v.push(F),t.push(F)}n.elements=v,n.rootAppointment&&(n.rootAppointment.elements=n.rootAppointment.elements.concat(n.elements))}var z=this.getViewStart(),B=this.getViewEnd();if(this._resources.length<2||this.resources.orientation=="none"){for(var N=new Array,M=z,W=0;M<B;){N[W]=new Array;for(var p=0;p<t.length;p++){var X=t[p];M<=X.from&&X.to<M.addDays(7)&&(X.row=-1,X.rowSpan=1,N[W].push(X))}W++,M=M.addDays(7)}M=z;for(var U=z,p=0;p<N.length;p++){if(N[p].length>0){for(var Q=N[p],te=[],x=0;x<7;x++){var Y=Q.filter(function(ne){var fe=a.jqx.scheduler.utilities.rangeIntersection(ne.from,ne.to,M,a.jqx.scheduler.utilities.getEndOfDay(M));return fe});M=M.addDays(1);for(var G=0;G<Y.length&&!(G>=this.maxAppointmentsPerDay);G++){var n=Y[G];te.indexOf(n)===-1&&te.push(n)}}this._renderUIMonthAppointments(te)}U=U.addDays(7),M=U}}else for(var x=0;x<this._resources.length;x++){var K=this._resources[x];new Array;for(var N=new Array,M=z,W=0;M<B;){N[W]=new Array;for(var p=0;p<t.length;p++){var X=t[p];M<=X.from&&X.to<M.addDays(7)&&(X.row=-1,X.rowSpan=1,X.appointment.resourceId==K&&N[W].push(X))}W++,M=M.addDays(7)}for(var p=0;p<N.length;p++)N[p].length>0&&this._renderUIMonthAppointments(N[p])}},_getMonthAppointmentsPerWeek:function(){var e=this;e._views[e._view].type;var i=e._views[e._view],t=new Array;this.rows;var r=0;if(this.host.find(".jqx-scheduler-month-cell").length>0&&(r=a(this.host.find(".jqx-scheduler-month-cell")[0]).height()),!e.rows)return new Array;for(var o=this.getViewStart(),n=this.getViewEnd(),l=0;l<this.appointmentsToRender.length;l++){var c=this.appointmentsToRender[l],d=a.jqx.scheduler.utilities.getStartOfDay(c.from),m=a.jqx.scheduler.utilities.getEndOfDay(c.to);c.allDay,e._getDateByString;var u=new Array,s=new Array,f=d.toDate().valueOf(),w=m.toDate().valueOf(),b=function(te,Y){if(te.date<Y.date)return-1;if(te.date==Y.date)return 0;if(te.date>Y.date)return 1},q=-1,p=c.resourceId,j=e._resources.indexOf(p);e.resources&&e.resources.orientation=="none"&&(j=-1);for(var x=0;x<e.rows.length;x++)for(var A=e.rows[x].cells,T=0;T<A.length;T++){A[T].getAttribute("data-date");var h=o.addDays(x*7+T).toDate(),v=h.valueOf();v>m||j!=-1&&1+j!=A[T].getAttribute("data-view")||f<=v&&v<w&&(q!=x&&q!=-1&&(u.sort(b),s.push(u),u=new Array),u.push({cell:A[T],date:h}),q=x)}u.sort(b),s.push(u);for(var y=new Array,x=0;x<s.length;x++){var A=s[x];if(A.length==0)break;var D=e.appointmentsMinHeight;e.isTouchDevice()&&(D=e.touchAppointmentsMinHeight),i.appointmentHeight&&(D=i.appointmentHeight);var g=D,C=a(A[A.length-1].cell).position().left,H=C-a(A[0].cell).position().left+e.columns.records[0].width;if(i.showWeekNumbers)var H=C-a(A[0].cell).position().left+e.columns.records[1].width;var S=a(A[0].cell).position(),k=S.left,O=S.top+r,P=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(A[A.length-1].date,e.timeZone)),F=new a.jqx.date(A[0].date,e.timeZone);if(e.rtl){var P=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(A[0].date,e.timeZone)),F=new a.jqx.date(A[A.length-1].date,e.timeZone),S=a(A[A.length-1].cell).position(),k=S.left,O=S.top+r,C=a(A[0].cell).position().left,H=C-a(A[A.length-1].cell).position().left+e.columns.records[0].width;if(i.showWeekNumbers)var H=C-a(A[A.length-1].cell).position().left+e.columns.records[1].width}var z={cells:A,cellY:parseInt(S.top),cellX:parseInt(S.left),lastCellY:parseInt(S.top),lastCellX:C,x:k,y:O,height:g,width:H,appointment:c,from:F,to:P};y.push(z),t.push(z)}}if(this._resources.length<2||this.resources.orientation=="none"){for(var B=new Array,N=o,M=0;N<n;){B[M]=new Array;for(var x=0;x<t.length;x++){var W=t[x];N<=W.from&&W.to<N.addDays(7)&&(W.row=-1,W.rowSpan=1,B[M].push(W))}M++,N=N.addDays(7)}for(var X=new Array,x=0;x<B.length;x++)if(B[x].length>0){var U=this.getMaxMonthAppointments(B[x]),D=e.appointmentsMinHeight;e.isTouchDevice()&&(D=e.touchAppointmentsMinHeight),i.appointmentHeight&&(D=i.appointmentHeight),X.push(U*(D+3)+22)}else X.push("auto");return X}else for(var X=new Array,T=0;T<this._resources.length;T++){var Q=this._resources[T];new Array;for(var B=new Array,N=o,M=0;N<n;){B[M]=new Array;for(var x=0;x<t.length;x++){var W=t[x];N<=W.from&&W.to<N.addDays(7)&&(W.row=-1,W.rowSpan=1,W.appointment.resourceId==Q&&B[M].push(W))}M++,N=N.addDays(7)}for(var x=0;x<B.length;x++)if(B[x].length>0){var U=this.getMaxMonthAppointments(B[x]);X.push(U*(D+3)+22)}else X.push("auto");return X}},_renderUIMonthAppointments:function(e){var i=this._views[this._view],t=e;this.getViewStart(),this.getViewEnd();var r=1,o=this;r=this.getMaxMonthAppointments(e);var n=o.appointmentsMinHeight;o.isTouchDevice()&&(n=o.touchAppointmentsMinHeight),i.appointmentHeight&&(n=i.appointmentHeight);var l=this._sortAppointmentsByFrom;this.rtl&&(l=this._sortAppointmentsByTo);for(var c=0;c<e.length;c++){var d=e[c];d.row=-1;var m=this.getCollisionAppointments(d,e);m.sort(l);var u=m.indexOf(d);if(u>=0)for(var s=u;s<m.length;s++)m[s].row=-1;for(var f=0;f<r;f++){var w=f;for(var b in m){if(b=="indexOf")break;var q=m[b];if(q.row==-1&&!this.isBusyRow(w,m)){q.row=w;var p=r,j=this.getMaxMonthAppointments(m);p>j&&(p=j),q.rowsCount=p}}}}for(var f=0;f<t.length;f++){var d=t[f],m=this.getCollisionAppointments(d,t);m.sort(l);var x=1;for(var b in m){if(b=="indexOf")break;var A=m[b];x=Math.max(x,A.rowsCount)}for(var b in m){if(b=="indexOf")break;var A=m[b];A.rowsCount=x}if(m.length==1)d.rowSpan=x;else{for(var T=0,h=!0,s=d.row;s<x;s++){for(var b in m){if(b=="indexOf")break;var q=m[b];q!=d&&q.row==s&&(h=!1)}if(!h)break;T++}d.rowSpan=T}}for(var v=0;v<t.length;v++){var y=n,d=t[v];d.height=y;var D=2+(3+y)*d.row;if(d.y=d.y+D,d.x+=1,d.width-=5,d.appointment.from.hour()!=0||d.appointment.to.hour()!=23)if(o.rtl){var g=parseFloat(o.cellWidth/24)*d.appointment.to.hour()+parseFloat(o.cellWidth/48)*(d.appointment.to.minute()/30),C=parseFloat(o.cellWidth/24)*d.appointment.from.hour()+parseFloat(o.cellWidth/48)*(d.appointment.from.minute()/30);d.appointment.elements.length>1?d==d.appointment.elements[0]?C>0?i.appointmentsRenderMode=="exactTime"?(d.width-=o.cellWidth-g,d.width-=C):d.timewidth=d.width-o.cellWidth+g-C:(d.timewidth=d.width,d.timex=0):d==d.appointment.elements[d.appointment.elements.length-1]&&(i.appointmentsRenderMode=="exactTime"&&(d.x+=o.cellWidth,d.x-=g,d.width+=g,d.width-=o.cellWidth),d.timewidth=d.width-o.cellWidth+g,d.timex=o.cellWidth-g):(i.appointmentsRenderMode=="exactTime"&&(d.x+=o.cellWidth,d.x-=g,d.width-=o.cellWidth-g,d.width-=C),d.appointment.duration().days()<1&&d.width<15&&(d.width=15),d.timewidth=d.width-o.cellWidth+g-C,d.timex=o.cellWidth-g)}else{var g=parseFloat(o.cellWidth/24)*d.appointment.from.hour()+parseFloat(o.cellWidth/48)*(d.appointment.from.minute()/30);d.timewidth=d.width,d.from.clearTime().toString()==d.appointment.from.clearTime().toString()?d.timex=g:g=0,d.appointment.elements.length>1&&d.appointment.elements[0]!=d&&(g=0);var C=parseFloat(o.cellWidth/24)*d.appointment.to.hour()+parseFloat(o.cellWidth/48)*(d.appointment.to.minute()/30);if(d.appointment.elements.length>1&&d.appointment.elements[d.appointment.elements.length-1]!=d&&(C=0),d.timewidth-=g,C>0&&(d.timewidth-=o.cellWidth,d.timewidth+=C),i.appointmentsRenderMode=="exactTime"&&(d.from.clearTime().toString()==d.appointment.from.clearTime().toString()&&(d.x+=g),d.width=d.timewidth,d.appointment.duration().days()<1&&d.width<15&&(d.width=15,g+15>o.cellWidth))){var H=o.cellWidth-g-15;d.x+=H}}}for(var v=0;v<t.length;v++){var S=t[v],k="",O="auto",i=this._views[this._view],P=S.appointment.from,F=S.appointment.to,O="auto",i=this._views[this._view],P=S.appointment.from,F=S.appointment.to;i.timeRuler&&i.timeRuler.formatString&&(O=i.timeRuler.formatString);var z=O,B=O;if(O==="auto"){if(P.hour()==0&&P.minute()==0||P.hour()==12&&P.minute()==0)var z="hh tt";else var z="hh:mm";if(F.hour()==0&&F.minute()==0||F.hour()==12&&F.minute()==0)var B="hh tt";else var B="hh:mm"}var N=P.toString(z),M=F.toString(B),W=S.appointment.duration(),X=S.appointment.allDay||W.hours===23&&W.minutes===59&&W.seconds===59,U=S.appointment.background,Q=S.appointment.subject?S.appointment.subject:"(No Title)",te=S.appointment.color,Y=S.appointment.resourceId,G=o.getColors(o._resources.indexOf(Y)),K=" data-resourceId='"+Y+"' ",ee=S.appointment.borderColor,Z=S.appointment.location;Z&&Z.length>1&&(Z=", "+Z),U||(U=G.background),ee||(ee=G.border),te||(te=G.color);var ne=S.appointment.isRecurrentAppointment(),fe=S.appointment.isException(),$="",ae=o.toTP("jqx-scheduler-appointment-status"),ce="",me=o.statuses[S.appointment.status],ve=!1;me&&(me=="transparent"?ve=!1:(ce="<div style='background: "+me+"; border-right-color: "+ee+"' class='"+ae+"'></div>",me=="tentative"&&(ae=o.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),ce="<div style='background-color: "+ee+"; border-right-color: "+ee+"' class='"+ae+"'></div>"),ve=!0));var he=o.toTP("jqx-scheduler-appointment-duration-status"),pe="<div style='width: "+S.timewidth+"px; left: "+S.timex+"px;' class='"+he+"'></div>";X&&(pe=""),i.appointmentsRenderMode!="exactTimeStatus"&&(pe="");var we="";if(o.rtl){var ae=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");ce="<div style='background: "+me+"; border-left-color: "+ee+"' class='"+ae+"'></div>",me=="tentative"&&(ae=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),ce="<div style='background-color: "+ee+"; border-left-color: "+ee+"' class='"+ae+"'></div>"),we=ce,ce=""}var je="",xe=Q+Z;if(X||(xe=Q+Z+pe),o.renderAppointment){var ie=o.renderAppointment({appointment:S.appointment.boundAppointment,textColor:te,background:U,borderColor:ee,html:xe,cssClass:"",style:"",width:S.width,height:S.height,view:o._views[o._view].type});if(ie){var k=ie.html;if(k!=xe&&(xe=k),te=ie.textColor,U=ie.background,ee=ie.borderColor,ie.cssClass&&(je=ie.cssClass+" "),ie.style!=""){var G=o.getAppointmentColors(ie.style);U=G.background,ee=G.border,te=G.color}}}if($==="")if(ve)var $="<div style='white-space:nowrap;' class='"+o.toTP("jqx-scheduler-appointment-content")+"'>"+ce+"<div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+xe+"</div>"+we+"</div>";else var $="<div style='white-space:nowrap;' class='"+o.toTP("jqx-scheduler-appointment-content")+"'><div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+xe+"</div></div>";var re="";if(o.rtl&&(re=o.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),fe){var I=te.toLowerCase()=="white"?o.toTP("jqx-icon-recurrence-exception-white"):o.toTP("jqx-icon-recurrence-exception");k="<div data-key='"+S.appointment.id+"'"+K+"class='"+re+je+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+S.x+"px; top: "+S.y+"px; width: "+S.width+"px; line-height: "+S.height+"px; height: "+S.height+"px; border-color:"+ee+"; color:"+te+"; background:"+U+";'><div class='"+I+"'></div>"+$+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(ne){var le=te.toLowerCase()=="white"?o.toTP("jqx-icon-recurrence-white"):o.toTP("jqx-icon-recurrence");k="<div data-key='"+S.appointment.id+"'"+K+"class='"+re+je+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+S.x+"px; top: "+S.y+"px; width: "+S.width+"px; line-height: "+S.height+"px; height: "+S.height+"px; border-color:"+ee+"; color:"+te+"; background:"+U+";'><div class='"+le+"'></div>"+$+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else k="<div data-key='"+S.appointment.id+"'"+K+"class='"+re+je+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+S.x+"px; top: "+S.y+"px; width: "+S.width+"px; line-height: "+S.height+"px; height: "+S.height+"px; border-color:"+ee+"; color:"+te+"; background:"+U+";'>"+$+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var De=a(k);De.appendTo(this.table),S.element=De;var _e=new Date,ue=P.toDate(),Se=F.toDate();if(ue<=_e&&_e<=Se&&this.showCurrentAppointment&&S.element[0].classList.add("current-appointment"),this.appointmentTooltips)if(S.appointment.tooltip)De[0].setAttribute("title",S.appointment.tooltip);else{var qe=S.appointment.subject;if(N&&!X&&(qe=N+" - "+M+" "+qe),qe){var Z=S.appointment.location;Z&&(qe+=`
`+Z),De[0].setAttribute("title",qe)}}a.each(S.cells,function(){var oe=a(this.cell),Pe=oe.position();if(oe[0].appointments||(oe[0].appointments=new Array),oe[0].appointments.push({ui:De,appointment:S}),S.y+S.height+2>=Pe.top+oe.height()){De.css("visibility","hidden");var be=oe.find(".jqx-icon-arrow-down");be.show(),be[0]&&(be[0].mousedown=function(){o.openedMonthCellPopup&&o.openedMonthCellPopup.remove();var ge=a("<div></div>"),Ie=oe.find("div").clone(!0);Ie.find("span").removeClass().addClass(o.toTP("jqx-icon-close")),Ie.find("span")[0].mousedown=function(){ge.remove()},Ie.addClass(o.toTP("jqx-widget-header")),ge.addClass(o.toTP("jqx-widget")),ge.addClass(o.toTP("jqx-window")),ge.addClass(o.toTP("jqx-scheduler-month-cell-popup")),ge.addClass(o.toTP("jqx-popup"));var Be=a("<div></div>");ge.append(Ie),ge.append(Be),Be.addClass(o.toTP("jqx-widget-content jqx-disableselect"));for(var He=oe.width(),Ce=5+oe.find("div").outerHeight(),de=0;de<oe[0].appointments.length;de++){var E=oe[0].appointments[de].ui.clone(!0);E.css("left","3px"),E.css("top","0px"),E.css("margin-top","2px"),E.css("position","relative"),E.css("visibility","visible"),E.width(He-6),Ce+=E.outerHeight()+4,Be.append(E),E.click(function(R){var J=o.getJQXAppointmentByElement(o.getAppointmentElement(R.target));J&&o._raiseEvent("appointmentClick",{appointment:J.boundAppointment})}),E.dblclick(function(R){var J=o.getJQXAppointmentByElement(o.getAppointmentElement(R.target));if(!J.readOnly&&!o.editRecurrenceDialog.jqxWindow("isOpen")&&(!o._editDialog||o._editDialog&&!o._editDialog.jqxWindow("isOpen"))){var V=o._initDialog(J);V!==!1&&o._openDialog()}o._raiseEvent("appointmentDoubleClick",{appointment:J.boundAppointment})})}ge.css("overflow","hidden"),ge.css("position","absolute"),ge.height(Ce),ge.width(He),ge.css("z-index","9999"),ge.css("top",Pe.top),ge.css("left",Pe.left),ge.css("max-height",200),Pe.top+Ce>o.host.offset().top+o.host.height()&&ge.css("top",Pe.top-Ce),o.table.append(ge),o.openedMonthCellPopup=ge})}})}},_sortByDate:function(e,i){var t=e.getAttribute("data-date");t=this._getDateByString(t);var r=i.getAttribute("data-date");if(r=this._getDateByString(r),t<r)return-1;if(t>r)return 1;if(t==r)return 0},_sortAppointmentsByFrom:function(e,i){if(e.from.dateData===i.from.dateData){var r=e.to.dateData-e.from.dateData,t=r*1e4,r=i.to.dateData-i.from.dateData,o=r*1e4;if(t>o)return-1}if(e.from.dateData<i.from.dateData)return-1;if(e.from.dateData>i.from.dateData)return 1;if(e.from.dateData==i.from.dateData)return 0},_sortAppointmentsByTo:function(e,i){if(e.to.equals(i.to)){var r=e.to-e.from,t=r*1e4,r=i.to-i.from,o=r*1e4;if(t>o)return-1}if(e.to<i.to)return-1;if(e.to>i.to)return 1;if(e.to==i.to)return 0},_sortAppointmentsByResourceId:function(e,i,t){var r=t._resources.indexOf(e.resourceId),o=t._resources.indexOf(i.resourceId);if(r==o)return 0;if(r<o||r>o)return-1},isBusyRow:function(e,i){for(var t=0;t<i.length;t++){var r=i[t];if(r.row==e)return!0}return!1},isBusyColumn:function(e,i){for(var t=0;t<i.length;t++){var r=i[t];if(r.column==e)return!0}return!1},getMaxTimelineAppointments:function(e,i,t,r){if(e.length==0)return 1;var o=this,n=o._views[o._view].type;o._views[o._view];var l=1,w=t,c=this.getMinutesPerScale(),d=null,m=null,u="";for(var s in e){if(s=="indexOf")break;var f=e[s];d||(d=f.from.dateData),m||(m=f.to.dateData),f.from.dateData<d&&(d=f.from.dateData),f.to.dateData>m&&(m=f.to.dateData),u+=f.appointment.id}if(u+=d,u+=m,i[u])return i[u];d=new a.jqx.date(d,o.timeZone),m=new a.jqx.date(m,o.timeZone);for(var w=d;d<m;){var b=w;if(n==="timelineMonthView")var q=b.addDays(1);else var q=b.addMinutes(c);var p=0;for(var s in e){if(s=="indexOf")break;var f=e[s],j=f.from,x=f.to,A=a.jqx.scheduler.utilities.rangeIntersection(b,q,j,x);A&&p++}l=Math.max(p,l),n==="timelineMonthView"?w=w.addDays(1,!1):w=w.addMinutes(c,!1)}return i[u]=l,l},getMaxMonthAppointments:function(e){if(this._views[this._view].type,this._views[this._view],e.length==0)return 1;for(var i=1,t=this.getViewStart().clone(),r=this.getViewEnd();t<r;){var o=t,n=a.jqx.scheduler.utilities.getEndOfDay(o),l=0;for(var c in e){if(c=="indexOf")break;var d=e[c],m=d.from,u=d.to,s=a.jqx.scheduler.utilities.rangeIntersection(o,n,m,u);s&&l++}i=Math.max(l,i),t=t.addDays(1,!1)}return i},getMaxAllDayAppointments:function(e){this._views[this._view].type,this._views[this._view];var i=this;if(e.length==0)return 1;var t=function(m){for(var u=1,s=i.getViewStart(),f=i.getViewEnd();s<f;){var w=s,b=a.jqx.scheduler.utilities.getEndOfDay(w),q=0;for(var p in m){if(p=="indexOf")break;var j=m[p],x=j;if(j.appointment&&(x=j.appointment),x.hidden!=!0&&x.duration&&(x.allDay||x.duration().days()>=1)){var A=j.from,T=j.to,h=a.jqx.scheduler.utilities.rangeIntersection(w,b,A,T);h&&q++}}u=Math.max(q,u),s=s.addDays(1,!1)}return u};if(this._resources.length<2||!this.resources.orientation||this.resources.orientation=="none")var r=t(e);else{for(var o=1,n=0;n<this._resources.length;n++){for(var l=this._resources[n],c=new Array,d=0;d<e.length;d++)(e[d].appointment&&e[d].appointment.resourceId==l||e[d].resourceId!=null&&e[d].resourceId==l)&&c.push(e[d]);var r=t(c);o=Math.max(o,r)}r=o}return r},getMinutesPerScale:function(){this._views[this._view].type;var e=this._views[this._view],i=30,t="halfHour";switch(e.timeRuler&&e.timeRuler.scale&&(t=e.timeRuler.scale),t){case"sixtyMinutes":case"hour":i=60;break;case"thirtyMinutes":case"halfHour":i=30;break;case"fifteenMinutes":case"quarterHour":i=15;break;case"tenMinutes":i=10;break;case"fiveMinutes":i=5;break}return i},getMaxColumnsInADay:function(e){this._views[this._view].type;var i=this._views[this._view],t=30,r="halfHour";switch(i.timeRuler&&i.timeRuler.scale&&(r=i.timeRuler.scale),r){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5;break}if(e.length==0)return 1;for(var o=1,n=e[0].from.clone(),l=n.addMinutes(t),c=a.jqx.scheduler.utilities.getEndOfDay(n);n<c;){var d=n,m=l,u=0;for(var s in e){if(s=="indexOf")break;var f=e[s];if(!(!f.from&&!f.to)){var w=f.from,b=f.to,q=a.jqx.scheduler.utilities.rangeIntersection(d,m,w,b);q&&u++}}o=Math.max(u,o),n=n.addMinutes(t,!1),l=l.addMinutes(t,!1)}return o},getTouches:function(e){return a.jqx.mobile.getTouches(e)},_updatecolumnwidths:function(){var r=this,e=this._hostWidth,i=e;this.vScrollBar.css("visibility")!=="hidden"&&this.scrollBarSize>0&&(e-=parseInt(this.scrollBarSize)+6,this.rtl&&(e+=3),i=e);var t="";if(!(this.columns==null||this.columns.records==null)){var r=this,o=!1,n=new Array;a.each(this.columns.records,function(m,u){if(!this.hidden){if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=null){var u=0;r.vScrollBar[0].style.visibility=="hidden"||r.scrollBarSize+5,r.scrollBarSize==0,u=parseFloat(this.width)*i/100,this._percentagewidth!=null&&(u=parseFloat(this._percentagewidth)*i/100),u<this.minwidth&&this.minwidth!="auto"&&(u=this.minwidth),u>this.maxwidth&&this.maxwidth!="auto"&&(u=this.maxwidth),e-=Math.round(u)}else this.width!="auto"&&!this._width?e-=this.width:t+=this.text;this._width=="auto"&&(n[n.length]=this)}});var l=this.columnsheader.find("#columntable"+this.element.id);if(l.length!=0){var c=0;l.find(".jqx-grid-column-header");var d=0;a.each(this.columns.records,function(m,u){var s=this.element,f=!1,w=this.width,b=this.width;if((this.width.toString().indexOf("%")!=-1||this._percentagewidth!=null)&&(this._percentagewidth!=null?w=parseFloat(this._percentagewidth)*i/100:w=parseFloat(this.width)*i/100,w=Math.round(w),f=!0),this.width!="auto"&&!this._width&&!f)parseInt(s[0].style.width)!=this.width&&s.width(this.width);else if(f)w<this.minwidth&&this.minwidth!="auto"&&(w=this.minwidth,this.width=w),w>this.maxwidth&&this.maxwidth!="auto"&&(w=this.maxwidth,this.width=w),parseInt(s[0].style.width)!=w&&(s.width(w),this.width=w);else{var q=r.columns.records.length,p=r._views[r._view].type;if(p==="dayView"||p==="weekView"){var j=r._views[r._view];j.timeRuler&&j.timeRuler.timeZones&&(q-=j.timeRuler.timeZones.length),q--}else p==="monthView"&&r._views[r._view].showWeekNumbers&&q--;var x=Math.floor(e*(1/q));r.resources&&r.resources.resourceColumnWidth&&r.resources.resourceColumnWidth!="auto"?x=r.resources.resourceColumnWidth:r.resources&&r.resources.resourceColumnWidth&&r.resources.resourceColumnWidth=="auto"&&r.resources.orientation=="horizontal"&&(x=Math.round((2+e)*(1/r._getColumnsLengthPerView())));var A=e*(1/q)-x;if(c+=A,c>=1&&(c-=1,x++),c>=.5&&m==r.columns.records.length-1&&x++,p=="agendaView"&&(x=e/n.length,x++),x<0){var T=a("<span>"+this.text+"</span>");a(document.body).append(T),x=10+T.width(),T.remove()}x<this.minwidth&&(x=this.minwidth),x>this.maxwidth&&(x=this.maxwidth),this._width="auto",this.width=parseInt(x),s.width(this.width)}parseInt(s[0].style.left)!=d&&s.css("left",d),this.hidden||(d+=this.width),this._requirewidthupdate=!0,b!==this.width&&(o=!0)}),this.columnsheader.width(2+d),l.width(this.columnsheader.width()),this._resizecolumnGroups(),o&&(this._renderrows(),r._arrange())}}},_rendercolumnheaders:function(){var e=this;if(!this._updating){var i=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var t=a('<div role="row" id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');t[0].cells=new Array;var r=0,o="",n=this._hostWidth;n||(this._hostWidth=this.host.width());var l=this._hostWidth,c=l,d=this.getRows().length,m=this.rowsHeight;this.isTouchDevice()&&(m=this.touchRowsHeight),d*m>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),this.vScrollBar.css("visibility")!=="hidden"&&this.scrollBarSize>0&&(l-=parseInt(this.scrollBarSize)+6,this.rtl&&(l+=3),c=l);var u=new Array,s=new Array;if(a.each(this.columns.records,function(x,A){if(!this.hidden)if(this.width!="auto"&&!this._width)if(this.width<this.minwidth&&this.minwidth!="auto")l-=this.minwidth;else if(this.width>this.maxwidth&&this.maxwidth!="auto")l-=this.maxwidth;else if(this.width.toString().indexOf("%")!=-1){var A=0;A=parseFloat(this.width)*c/100,A<this.minwidth&&this.minwidth!="auto"&&(A=this.minwidth),A>this.maxwidth&&this.maxwidth!="auto"&&(A=this.maxwidth),l-=A}else typeof this.width=="string"&&(this.width=parseInt(this.width)),l-=this.width;else o+=this.text;(this.width==null||this.width=="auto")&&(s[s.length]=this),u[u.length]=this}),this.rtl)for(var f=0;f<u.length;f++)this.columns.replace(f,u[f]);var w=this.headerZIndex,b=e.columnsHeight,q=function(x,A){var T=e.columnGroupslevel*e.columnsHeight;return T=T-A.level*e.columnsHeight,T},p=0,j=document.createDocumentFragment();a.each(this.columns.records,function(x,A){this.height=e.columnsHeight,e.columnGroups&&e.columnGroups.length&&(this.height=q(this.datafield,this),b=this.height);var T=e.toTP("jqx-grid-column-header")+" "+e.toTP("jqx-widget-header");e.rtl&&(T+=" "+e.toTP("jqx-grid-column-header-rtl")),e.enableBrowserSelection||(T+=" "+e.toTP("jqx-disableselect"));var h=e.rtl?w++:w--,v=document.createElement("div");v.setAttribute("role","columnheader"),v.style.position="absolute",v.style.zIndex=h,v.style.height="100%",v.className=T;var y=a(v);e.rtl&&x===0&&(y[0].style.borderLeftColor="transparent"),e.columnGroups?(y[0].style.height=b+"px",y[0].style.bottom="0px"):this.timeColumn||(y[0].style.height=-1+b+"px"),this.uielement=y,this.element=y,this.classname!=""&&this.classname&&y.addClass(this.classname);var D=this.width,g=!1;if(this.width===null&&(this.width="auto"),(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=null)&&(this._percentagewidth!=null?D=parseFloat(this._percentagewidth)*c/100:D=parseFloat(this.width)*c/100,D=Math.round(D),g=!0),this.width!="auto"&&!this._width&&!g)D<this.minwidth&&this.minwidth!="auto"&&(D=this.minwidth),D>this.maxwidth&&this.maxwidth!="auto"&&(D=this.maxwidth),y[0].style.width=parseInt(D)+"px";else if(g)D<this.minwidth&&this.minwidth!="auto"&&(D=this.minwidth),D>this.maxwidth&&this.maxwidth!="auto"&&(D=this.maxwidth),(this._percentagewidth==null||this.width.toString().indexOf("%")!=-1)&&(this._percentagewidth=this.width),y.width(D),this.width=D;else{var C=e.columns.records.length,H=e._views[e._view].type;if(H==="dayView"||H==="weekView"){var S=e._views[e._view];S.timeRuler&&S.timeRuler.timeZones&&(C-=S.timeRuler.timeZones.length),C--}else H==="monthView"&&e._views[e._view].showWeekNumbers&&C--;var k=Math.floor(l*(1/C));e.resources&&e.resources.resourceColumnWidth&&e.resources.resourceColumnWidth!="auto"?k=e.resources.resourceColumnWidth:e.resources&&e.resources.resourceColumnWidth&&e.resources.resourceColumnWidth=="auto"&&e.resources.orientation=="horizontal"&&(k=Math.round((2+l)*(1/e._getColumnsLengthPerView())));var O=l*(1/C)-k;if(p+=O,p>=1&&(p-=1,k++),p>=.5&&x==e.columns.records.length-1&&k++,isNaN(k)&&(k=this.minwidth),H=="agendaView"&&(k=l/s.length,k++),k<0){var P=a("<span>"+this.text+"</span>");a(document.body).append(P),k=10+P.width(),P.remove()}k<this.minwidth&&(k=this.minwidth),k>this.maxwidth&&(k=this.maxwidth),this._width="auto",this.width=parseInt(k),D=this.width,y.width(this.width)}this.timeColumn&&(y.css("border-bottom-color","transparent"),i.timeRuler&&i.timeRuler.timeZones&&x<i.timeRuler.timeZones.length&&y.css("border-right-color","transparent"),this.tableRows==1&&y.addClass(e.toTP("jqx-scheduler-time-column"))),this.hidden&&y.css("display","none"),a(y.children()[0]),t[0].cells[x]=y[0];var F=e._rendercolumnheader(this.text,this.align,b,e);y[0].innerHTML=F,j.appendChild(y[0]),y[0].style.left=r+"px",this.hidden||(r+=D)}),t[0].appendChild(j),r>0?this.columnsheader[0].style.width=2+r+"px":this.columnsheader[0].style.width=r+"px",this._columnswidth=r,this.columnsrow=t,e.columnsheader.append(t),t[0].style.width=r+"px",this.columnGroups&&this._rendercolumnGroups(),this.showCurrent&&this._refreshColumnTitles()}},_rendercolumnGroups:function(){if(this.columnGroups){var e=this.headerZIndex+this.columns.records.length,i=this,t=i.toTP("jqx-grid-column-header")+" "+i.toTP("jqx-grid-columngroup-header")+" "+i.toTP("jqx-widget-header");i.rtl&&(t+=" "+i.toTP("jqx-grid-columngroup-header-rtl"));var r=this.columnsheader.find("#columntable"+this.element.id);r.find("jqx-grid-columngroup-header").remove();for(var o=0;o<this.columnGroupslevel-1;o++)for(var n=0;n<this.columnGroups.length;n++){var l=this.columnGroups[n],c=l.level;if(c===o){var d=c*this.columnsHeight,m=99999;if(l.groups){var u=function(q){for(var p=0,j=0;j<q.groups.length;j++){var x=q.groups[j];x.groups?p+=u(x):x.hidden||(p+=x.width,m=Math.min(parseInt(x.element[0].style.left),m))}return p};l.width=u(l),l.left=m;var s=this.columnsHeight,f=e--,w=a('<div role="columnheader" style="z-index: '+f+';position: absolute;" class="'+t+'"></div>'),b=a(this._rendercolumnheader(l.text,l.align,this.columnsHeight,this));l.renderer&&l.renderer(w,l.text),w.append(b),w[0].style.left=m+"px",m===0&&(w[0].style.borderLeftColor="transparent"),w[0].style.top=d+"px",w[0].style.height=s+"px",w[0].style.width=-1+l.width+"px",r.append(w),l.element=w}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var i=this.columnGroups[e],t=i.level,r=t*this.columnsHeight,o=99999;if(i.groups){var n=function(d){for(var m=0,u=0;u<d.groups.length;u++){var s=d.groups[u];s.groups?m+=n(s):(m+=s.width,o=Math.min(parseInt(s.element[0].style.left),o))}return m};i.width=n(i),i.left=o;var l=this.columnsHeight,c=i.element;c[0].style.left=o+"px",c[0].style.top=r+"px",c[0].style.height=l+"px",c[0].style.width=-1+i.width+"px"}}},_removecolumnhandlers:function(e){var i=this,t=a(e.element);if(t.length>0){i.removeHandler(t,"mouseenter"),i.removeHandler(t,"mouseleave");var r=a(e.filtericon);i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(t,"click")}},destroy:function(){var e=this;e._removeHandlers(),e._editDialog&&e._editDialog.jqxWindow("destroy"),e.menu&&e.menu.jqxMenu("destroy"),e.editRecurrenceDialog&&e.editRecurrenceDialog.jqxWindow("destroy"),e.vScrollBar.jqxScrollBar("destroy"),e.hScrollBar.jqxScrollBar("destroy"),delete e.vScrollBar,delete e.hScrollBar,delete e._mousewheelfunc,a.jqx.utilities.resize(e.host,null,!0),e.host.remove()},propertiesChangedHandler:function(e,i,t){t&&t.width&&t.height&&Object.keys(t).length==2&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},filterAppointments:function(e){for(var i=this,t=0;t<i.uiappointments.length;t++){var r=i.uiappointments[t];r.subject.includes(e)?r.hidden=!1:r.hidden=!0}i._renderrows()},propertyChangedHandler:function(e,i,t,r){if(!(this.isInitialized==null||this.isInitialized==!1)&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&Object.keys(e.batchUpdate).length==2)&&r!==t)if(i=="filterable")e._render();else if(i=="view")e.setView(r);else if(i=="views"){e._columns=null,e._views=new Array,e._view=e.view;for(var o=0;o<e.views.length;o++)a.type(e.views[o])==="string"?e._views.push({type:e.views[o]}):e._views.push(e.views[o]);for(var o=0;o<e._views.length;o++)if(e._views[o].type==e.view){e._view=o;break}e._render()}else if(i==="height")e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0);else if(i==="width")e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!0,!1);else if(i==="source"){var r=e.vScrollBar.jqxScrollBar("value");e.updateBoundData("dataBind",function(){e.scrolltop(0),e.vScrollBar.jqxScrollBar({value:r})})}else if(i=="resources"){var r=e.vScrollBar.jqxScrollBar("value");e.updateBoundData("dataBind",function(){e.scrolltop(0),e.vScrollBar.jqxScrollBar({value:r})})}else if(i==="columns"||i==="columnGroups")e._columns=null,e._render();else if(i==="selectionMode")e.selectionMode=r.toLowerCase();else if(i=="touchMode")e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:r}),e.hScrollBar.jqxScrollBar({touchMode:r}),e.refresh(),e._addHandlers();else{if(i=="enableHover")return;i=="showLegend"?(e.legendbartop.show(),e.legendbarbottom.show(),e.refresh()):i=="disabled"?(r?e.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),e.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer")):i=="columnsHeight"?e._render():i=="localization"?(e._render(),e.editRecurrenceDialog&&(e.editRecurrenceDialog.jqxWindow("destroy"),e.createEditRecurrenceDialog())):i=="theme"?(a.jqx.utilities.setTheme(t,r,e.host),e._editDialog&&a.jqx.utilities.setTheme(t,r,e._editDialog),e.editRecurrenceDialog&&a.jqx.utilities.setTheme(t,r,e.editRecurrenceDialog),e.menu&&e.menu.jqxMenu({theme:e.theme}),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.hScrollBar.jqxScrollBar({theme:e.theme}),e.refresh()):i==="date"?e.navigateTo(r):e.refresh()}},_rendercolumnheader:function(e,i,t,r){var o="4px";r.columnGroups?(o=t/2-this._columnheight/2,o<0&&(o=4),o+="px"):this.columnsHeight!=25&&(o=this.columnsHeight/2-this._columnheight/2,o<0&&(o=4),o+="px");var n='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+i+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+o+"; margin-top: "+o+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(this.columnRenderer){var l=this.columnRenderer(e,i,t,n);if(l!=null)return l}return n}})})(jqxBaseFramework)})()),ft}_t();(function(){typeof document>"u"||((function(a){a.jqx.scheduler||(a.jqx.scheduler={}),a.jqx.scheduler.utilities={weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},guid:function(){function e(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return e()+e()},areWeekDaysIncluded:function(e,i){var t=!1;return a.each(e,function(r,o){if(o===i)return t=!0,!1}),t},getStartOfDay:function(e){var i=new a.jqx.date(e.year(),e.month(),e.day(),0,0,0);return i.timeZone=e.timeZone,i},getEndOfDay:function(e){var i=new a.jqx.date(e.year(),e.month(),e.day(),23,59,59);return i.timeZone=e.timeZone,i},getDaysCount:function(e,i){for(var t=1;e<i;)e.day()!=i.day()&&t++,e=e.addDays(1);return t},getStartOfWeek:function(e,i){var t=e.dayOfWeek(),r=i.firstDay;t<r&&(t+=7);var o=t-r,n=e.addDays(-o);return n.date()},getEndOfWeek:function(e,i,t){var r=this,o=7,n=r.getStartOfWeek(e,i,t);return n.addDays(o)},getEndOfMonth:function(e,i){var t=e.daysInMonth(),r=new a.jqx.date(e.year(),e.month(),t,23,59,59);return r.timeZone=e.timeZone,r},rangeIntersection:function(e,i,t,r){var o=e.dateData,n=t.dateData,l=i.dateData,c=r.dateData;if(n>=o&&n<l||n<o&&c>o||o==n||l==c)return!0;if(o<n){if(l>n&&l<c||l>c)return!0}else if(c>o&&c<l||c>l)return!0;return!1},rangeContains:function(e,i,t,r){return e<=t&&r<=i},monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],msPerDay:1e3*60*60*24,maxYear:9999,ORDINAL_BASE:new Date(1970,0,1),getYearDay:function(e){var i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.ceil((i-new Date(e.getFullYear(),0,1))/a.jqx.scheduler.utilities.msPerDay)+1},isLeapYear:function(e){return e instanceof Date&&(e=e.getFullYear()),e%4===0&&e%100!==0||e%400===0},tzOffset:function(e){return e.getTimezoneOffset()*60*1e3},monthRange:function(e,i){var t=new Date(e,i,1);return[a.jqx.scheduler.utilities.getWeekday(t),a.jqx.scheduler.utilities.getMonthDays(t)]},getMonthDays:function(e){var i=e.getMonth();return i==1&&a.jqx.scheduler.utilities.isLeapYear(e)?29:a.jqx.scheduler.utilities.monthDays[i]},getWeekday:function(e){var i=[6,0,1,2,3,4,5];return i[e.getDay()]},combine:function(e,i){return i=i||e,new Date(e.getFullYear(),e.getMonth(),e.getDate(),i.getHours(),i.getMinutes(),i.getSeconds())},sort:function(e){e.sort(function(i,t){return i.getTime()-t.getTime()})},timeToUntilString:function(e){for(var i=new Date(e),t,r=[i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate(),"T",i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),"Z"],o=0;o<r.length;o++)t=r[o],!/[TZ]/.test(t)&&t<10&&(r[o]="0"+String(t));return r.join("")},untilStringToDate:function(e){var i=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,t=i.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},Time:function(e,i,t){this.hour=e,this.minute=i,this.second=t,this.that=this;var r=this;this.getHours=function(){return r.hour},this.getMinutes=function(){return r.minute},this.getSeconds=function(){return r.second},this.getTime=function(){return(r.hour*60*60+r.minute*60+r.second)*1e3}}},a.jqx.scheduler.appointment=function(){var e=this;if(e.from=new a.jqx.date,e.to=new a.jqx.date().addHours(1),e.subject="",e.description="",e.location="",e.tooltip="",e.hidden=!1,e.resourceId=null,e.id="",e.background=null,e.color=null,e.borderColor=null,e.status="busy",e.style=null,e.exceptions=new Array,e.exceptionDates=new Array,e.recurrencePattern=null,e.recurrenceException=new Array,e.occurrenceEnumerator=null,e.rootAppointment=null,e.hiddenByResourceId=!1,e.draggable=!0,e.resizable=!0,e.recurrentAppointment=!1,e.allDay=!1,e.readOnly=!1,e.showStatus=!0,e.timeZone=null,e.scheduler=null,e.elements=new Array,e.appointmentObject=!0,e.duration=function(){var r=e.to-e.from,o=r*1e4;return new a.jqx.timeSpan(o)},e.toJSON=function(r){var o=function(d){return(d<10?"0":"")+d},n=function(d,m){return d?m?""+d.getUTCFullYear()+"-"+o(d.getUTCMonth()+1)+"-"+o(d.getUTCDate())+"T"+o(d.getUTCHours())+":"+o(d.getUTCMinutes())+":"+o(d.getUTCSeconds())+"Z":""+d.getFullYear()+"-"+o(d.getMonth()+1)+"-"+o(d.getDate())+"T"+o(d.getHours())+":"+o(d.getMinutes())+":"+o(d.getSeconds())+"Z":""},l=function(){for(var d="",m=0;m<e.recurrenceException.length;m++)d+=e.recurrenceException[m].toString(),m<e.recurrenceException.length-1&&(d+=",");return d},c={};return c.id=e.id,c.from=n(e.from.toDate(),r),c.to=n(e.to.toDate(),r),c.subject=e.subject,c.status=e.status,c.location=e.location,c.description=e.description,c.title=e.title,c.resourceId=e.resourceId,e.recurrencePattern?c.recurrencePattern=e.recurrencePattern.toString():c.recurrencePattern="",e.recurrenceException&&e.recurrenceException.length>0?c.recurrenceException=l():c.recurrenceException="",c.dtstamp=n(new Date,r),JSON.stringify(c)},e.toString=function(r){var o=function(m){for(var u="";m.length>75;)u+=m.substr(0,75)+`
`,m=" "+m.substr(75);return u+=m,u},n=function(m){return(m<10?"0":"")+m},l=function(m,u){return m?u?""+m.getFullYear()+n(m.getMonth()+1)+n(m.getDate())+"T"+n(m.getHours())+n(m.getMinutes())+n(m.getSeconds()):""+m.getUTCFullYear()+n(m.getUTCMonth()+1)+n(m.getUTCDate())+"T"+n(m.getUTCHours())+n(m.getUTCMinutes())+n(m.getUTCSeconds())+"Z":""},c=function(){for(var m="",u=0;u<e.recurrenceException.length;u++)m+=l(e.recurrenceException[u].toDate(),r),u<e.recurrenceException.length-1&&(m+=",");return m},d=e.status;return d||(d="CONFIRMED"),d.toLowerCase()=="busy"&&(d="CONFIRMED"),d.toLowerCase()=="tentative"&&(d="TENTATIVE"),d.toLowerCase()=="free"&&(d="CANCELLED"),d.toLowerCase()=="outOfOffice"&&(d="CANCELLED"),`BEGIN:VEVENT
UID:`+e.id+`
DTSTAMP:`+l(new Date,r)+`
`+o("TITLE:"+e.subject)+`
DTSTART:`+l(e.from.toDate(),r)+`
DTEND:`+l(e.to.toDate(),r)+`
`+(e.recurrencePattern?"RRULE:"+e.recurrencePattern.toString()+`
`:"")+(e.recurrenceException&&e.recurrenceException.length>0?"EXDATE:"+c()+`
`:"")+(e.subject?o("SUMMARY:"+e.subject)+`
`:"")+`TRANSP:OPAQUE
`+(e.status?o("STATUS:"+d)+`
`:"")+(e.description?o("DESCRIPTION:"+e.description)+`
`:"")+(e.location?o("LOCATION:"+e.location)+`
`:"")+"END:VEVENT"},e.range=function(){return e.allDay?{from:a.jqx.scheduler.utilities.getStartOfDay(e.from),to:a.jqx.scheduler.utilities.getEndOfDay(e.to)}:{from:e.from,to:e.to}},e.clearRecurrence=function(){e.recurrencePattern&&(e.exceptions=new Array,e.exceptionDates=new Array,e.recurrencePattern=null,e.recurrenceException=new Array,e.hidden=!1)},e.isAllDayAppointment=function(){return this.duration().days()>=1||this.allDay},e.cloneAppointmentAttributes=function(r){r.subject=e.subject,r.description=e.description,r.location=e.location,r.tooltip=e.tooltip,r.resourceId=e.resourceId,r.category=e.category,r.status=e.status,r.rootAppointment=e,r.color=e.color,r.borderColor=e.borderColor,r.background=e.background,r.hidden=e.hidden,r.timezone=e.timeZone,r.style=e.style,r.hiddenByResourceId=e.hiddenByResourceId},e.createOccurrence=function(r){if(r==null)return null;var o=new a.jqx.scheduler.appointment;o.allDay=e.allDay;var n=e.duration();return e.allDay&&(n=new a.jqx.timeSpan(1e4*(e.to-e.from))),o.from=r,o.to=r.add(n),o.occurrenceFrom=r.clone(),o.subject=e.subject,o.description=e.description,o.location=e.location,o.tooltip=e.tooltip,o.resourceId=e.resourceId,o.category=e.category,o.status=e.status,o.rootAppointment=e,o.color=e.color,o.draggable=e.draggable,o.resizable=e.resizable,o.borderColor=e.borderColor,o.background=e.background,o.recurrentAppointment=!0,o.timeZone=e.timeZone,o.style=e.style,o.hiddenByResourceId=e.hiddenByResourceId,o.boundAppointment=e.boundAppointment,e.hiddenByResourceId&&(o.hidden=!0),o.id=e.id+"."+a.jqx.scheduler.utilities.guid(),e.hidden=!0,e.occurrenceIndex++,o},e.clone=function(){var r=new a.jqx.scheduler.appointment;return r.allDay=e.allDay,r.from=e.from.clone(),r.to=e.to.clone(),r.subject=e.subject,r.description=e.description,r.location=e.location,r.tooltip=e.tooltip,r.resourceId=e.resourceId,r.category=e.category,r.status=e.status,r.color=e.color,r.borderColor=e.borderColor,r.background=e.background,r.style=e.style,r.timeZone=e.timeZone,r.hiddenByResourceId=e.hiddenByResourceId,e.hiddenByResourceId&&(r.hidden=!0),r.id=e.id+"."+a.jqx.scheduler.utilities.guid(),r},e.isRecurrentAppointment=function(){return e.recurrentAppointment||e.recurrencePattern!=null},e.anyExceptions=function(){return e.exceptions!=null&&e.exceptions.length>0},e.anyOccurrences=function(){return e.occurrenceEnumerator!=null&&e.occurrenceEnumerator.getNextAppointment()},e.isException=function(){var r=e.rootAppointment||this;if(!r.recurrenceException)return!1;for(var o=0;o<r.recurrenceException.length;o++){var n=r.recurrenceException[o];if(e.occurrenceFrom&&n.equals(e.occurrenceFrom))return!0}return!1},e.getOccurrences=function(r,o){e.occurrenceIndex=0;var n=r!==null?r:e.from,l=new a.jqx.scheduler.recurrentAppointmentsList(e,e.calendar,n,o,e.scheduler);return e.occurrences=l.list,l.list},arguments.length===1)if(a.type(arguments[0])=="object")for(var i in arguments[0]){var t=arguments[0][i];this[i]!==void 0&&(this[i]=t)}else e.from=arguments[0],e.to=new a.jqx.date(e.from).addHours(1);else arguments.length===2?(e.from=arguments[0],e.to=arguments[1]):arguments.length===3?(e.from=arguments[0],e.to=arguments[1],e.subject=arguments[2]):arguments.length===3&&(e.from=arguments[0],e.to=arguments[1],e.subject=arguments[2],e.description=arguments[3]);e.recurrencePattern!=null&&e.recurrencePattern.setFrom(e.from)},a.jqx.scheduler.recurrentAppointmentsList=function(){var e=this;return e.recurrentAppointment=null,e.currentTime=null,e.calendar=a.jqx.scheduler.calendar,e.from=new a.jqx.date(0),e.to=new a.jqx.date(9999,12,31),e.foundItems=0,e.list=new Array,e.scheduler=null,e.getOccurrences=function(i,t,r){return i==null?e.list:new a.jqx.scheduler.recurrentAppointmentsList(i,e.calendar,t,r).list},e.current=function(){return e.recurrentAppointment.createOccurrence(e.currentTime)},e.fillList=function(){e.currentTime=null,e.foundItems=0,e.list=new Array;var i=e.recurrentAppointment.recurrencePattern;if(i.step=0,i.current=0,i.currentYearDay=0,i==null)return!1;for(;e.getNextAppointment(i);){var t=e.current();t&&e.list.push(t)}},e.getNextAppointment=function(i){if(e.recurrentAppointment==null)return!1;var t=4294967295;this.scheduler._views[this.scheduler._view].type;var r=this.scheduler._views[this.scheduler._view],o=0;switch(i.freq){case"weekly":o=7;break;case"monthly":o=31;break;case"yearly":o=365;break}for(var n=0;n<t;n++){var l=i.getNewOccurenceDate();if(l){if(i.currentTime=l,i.to<l&&i.to.addDays(o)>=l||e.to<l&&e.to.addDays(o)>=l)return e.currentTime=null,!0;if(a.jqx.scheduler.utilities.getEndOfDay(i.to).addDays(o)<l||a.jqx.scheduler.utilities.getEndOfDay(e.to).addDays(o)<l)return e.currentTime=null,!1;var c=!0;if(c=e.getCanSetTime(i,l,c),i.canCreateNewOccurence(l,e.calendar)){var d=!0;r.showWeekends===!1&&(l.dayOfWeek()==6||l.dayOfWeek()==0)&&(d=!1),d&&e.foundItems++}if(c)return e.currentTime=l,!(e.foundItems>i.count)}}return!1},e.getCanSetTime=function(i,t,r){return i.canCreateNewOccurence(t,e.calendar)||(r=!1),t<e.from&&t.add(e.recurrentAppointment.duration())<=e.from&&(r=!1),e.to<=t&&(r=!1),r},e.isException=function(i,t,r){for(var o=e.recurrentAppointment.exceptions,n=0;n<o.length;n++)if(r.isDateInExceptionAppointment(i,t,o[n])&&r.newExceptions.indexOf(o[n])===-1)return!0;return!1},arguments&&arguments.length>0&&(e.recurrentAppointment=arguments[0],arguments[1]&&(e.calendar=arguments[1]),arguments[2]&&(e.from=arguments[2]),arguments[3]&&(e.to=arguments[3]),arguments[4]&&(e.scheduler=arguments[4]),arguments[2]===void 0&&(e.from=new a.jqx.date(0),e.to=new a.jqx.date(9999,12,31)),e.scheduler&&e.scheduler.localization&&(e.calendar.firstDay=e.scheduler.localization.firstDay),e.fillList()),e},a.jqx.scheduler.recurrencePattern=function(){var e=this,i={from:new a.jqx.date(0),to:new a.jqx.date(9999,12,31),count:1e3,interval:1,exceptions:new Array,newExceptions:new Array,month:1,day:1,current:0,currentYearDay:0,step:0,days:[],bynweekday:[],isEveryWeekDay:!0,timeZone:null,weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},freq:"daily",bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null};return a.extend(!0,e,i),e.getNewOccurenceDate=function(){var t=function(D,g){var C=0,H=[];if(D instanceof Array)for(;C<g;C++)H[C]=[].concat(D);else for(;C<g;C++)H[C]=D;return H},r=function(D,g){var C=D%g;return C*g<0?C+g:C},o=function(D,g){arguments.length===1&&(g=D,D=0);for(var C=[],H=D;H<g;H++)C.push(H);return C},n=[0,31,60,91,121,152,182,213,244,274,305,335,366],l=[0,31,59,90,120,151,181,212,243,273,304,334,365],c=e.from.year(),d=[6,0,1,2,3,4,5],m=function(D){e.yearlen=D%4==0&&(D%100!=0||D%400==0)?366:365,e.nextyearlen=(1+D)%4==0&&((1+D)%100!=0||(1+D)%400==0)?366:365;var g=d[new Date(D,0,1).getDay()],C=(function(){for(var H=[],S=0;S<55;S++)H=H.concat(o(7));return H})();e.yearlen==365?(e.wdaymask=C.slice(g),e.mrange=[].concat(l)):(e.wdaymask=C.slice(g),e.mrange=[].concat(n))};switch(m(c),e.freq){case"daily":default:var u=e.from.add(new a.jqx.timeSpan(e.step*e.interval,0,0,0));return e.step++,u;case"weekly":if(e.byweekday){var u=new a.jqx.date(e.from,e.timeZone),s=d[e.from.dayOfWeek()];u=u.addDays(7*e.step),u=u.addDays(e.byweekday[e.current]),u=u.addDays(-s),u<e.from&&(u=null),e.current++,e.byweekday[e.current]==null&&(e.current=0,e.step++)}return u;case"monthly":if(e.bynweekday.length>0){var u=new a.jqx.date(e.from.year(),e.from.month(),1,e.from.hour(),e.from.minute(),e.from.second());u.timeZone=e.timeZone,u=u.addMonths(e.step*e.interval),m(u.year());var f=u.month(),w=[e.mrange.slice(f-1,f+1)][0],b=w[0],q=w[1];q-=1,e.nwdaymask=t(0,e.yearlen),e.step++;for(var p=0;p<e.bynweekday.length;p++){var j=e.bynweekday[p][0],x=e.bynweekday[p][1];x<0?(y=q+(x+1)*7,y-=r(e.wdaymask[y]-j,7)):(y=b+(x-1)*7,y+=r(7-e.wdaymask[y]+j,7)),b<=y&&y<=q&&(e.nwdaymask[y]=1)}var A=y+1,T=A-b,u=new a.jqx.date(e.from.year(),e.from.month(),T,e.from.hour(),e.from.minute(),e.from.second());u.timeZone=e.timeZone,u=u.addMonths((e.step-1)*e.interval)}else if(e.bymonthday.length>0){var u=new a.jqx.date(e.from.year(),e.from.month(),e.bymonthday[e.current],e.from.hour(),e.from.minute(),e.from.second());u.timeZone=e.timeZone,u=u.addMonths(e.step*e.interval),e.current++,e.bymonthday[e.current]||(e.current=0,e.step++)}else{var u=new a.jqx.date(e.from.year(),e.from.month(),e.day,e.from.hour(),e.from.minute(),e.from.second());u.timeZone=e.timeZone,u=u.addMonths(e.step*e.interval),e.step++}return u;case"yearly":if(e.bymonth&&e.bymonth.length>0)if(e.bynweekday.length>0){var u=new a.jqx.date(e.from.year(),e.bymonth[e.current],1,e.from.hour(),e.from.minute(),e.from.second());u.timeZone=e.timeZone,u=u.addYears(e.step*e.interval),m(u.year());var f=u.month(),w=[e.mrange.slice(f-1,f+1)][0],b=w[0],q=w[1];q-=1,e.nwdaymask=t(0,e.yearlen);for(var p=0;p<e.bynweekday.length;p++){var j=e.bynweekday[p][0],x=e.bynweekday[p][1];x<0?(y=q+(x+1)*7,y-=r(e.wdaymask[y]-j,7)):(y=b+(x-1)*7,y+=r(7-e.wdaymask[y]+j,7)),b<=y&&y<=q&&(e.nwdaymask[y]=1)}var A=y+1,T=A-b;u=new a.jqx.date(u.year(),e.bymonth[e.current],T,e.from.hour(),e.from.minute(),e.from.second()),u.timeZone=e.timeZone,e.step++}else if(e.byyearday&&e.byyearday.length>0){var u=new a.jqx.date(e.from.year(),e.bymonth[e.current],e.byyearday[e.currentYearDay],e.from.hour(),e.from.minute(),e.from.second());u.timeZone=e.timeZone,u=u.addYears(e.step*e.interval),e.currentYearDay++,e.byyearday[e.currentYearDay]||(e.currentYearDay=0,e.current++,e.bymonth[e.current]||(e.current=0,e.step++))}else{var u=new a.jqx.date(e.from.year(),e.bymonth[e.current],e.from.day(),e.from.hour(),e.from.minute(),e.from.second());u.timeZone=e.timeZone,u=u.addYears(e.step*e.interval),e.current++,e.bymonth[e.current]||(e.current=0,e.step++)}else if(e.byyearday&&e.byyearday.length>0){var u=new a.jqx.date(e.from.year(),e.from.month(),e.byyearday[e.current],e.from.hour(),e.from.minute(),e.from.second());u.timeZone=e.timeZone,u=u.addYears(e.step*e.interval),e.current++,e.byyearday[e.current]||(e.current=0,e.step++)}else if(e.byweekno!=null){var h=function(g,C){var H=1,S=new a.jqx.date(C.year(),1,1,C.hour(),C.minute(),C.second());for(S.timeZone=e.timeZone;H!=g&&(S=S.addDays(7),H++,!(H>53)););for(;a.jqx.scheduler.utilities.getWeekday(S.toDate())!=e.wkst;)S=S.addDays(1);return S},u=e.from.addYears(e.step*e.interval);if(u=h(e.byweekno[e.current],u),e.byweekday){for(var v=u,y=0;y<7&&d[v.dayOfWeek()]!==e.byweekday[e.currentYearDay];y++)v=v.addDays(1);u=v,e.currentYearDay++,e.byweekday[e.currentYearDay]||(e.currentYearDay=0,e.current++,e.byweekno[e.current]||(e.current=0,e.step++))}else e.current++,e.byweekno[e.current]||(e.current=0,e.step++)}else{var u=new a.jqx.date(e.from.year(),e.month,e.day,e.from.hour(),e.from.minute(),e.from.second());u.timeZone=e.timeZone,u=u.addYears(e.step*e.interval),e.step++}return u}},e.isDateInExceptionAppointment=function(t,r,o){switch(e.freq){case"daily":case"weekly":default:return t.year()==o.from.year()&&t.dayOfYear()==o.from.dayOfYear()}},e.createNewPattern=function(){if(e.ical){var t=new a.jqx.scheduler.recurrencePattern(e.ical);return t}else{var t=new a.jqx.scheduler.recurrencePattern;return t.from=e.from,t.to=e.to,t.count=e.count,t.interval=e.interval,t.exceptions=e.exceptions,t.newExceptions=e.newExceptions,t.weekDays=e.weekDays,t.isEveryWeekDay=e.isEveryWeekDay,t.month=e.month,t.day=e.day,t.current=e.current,t.currentYearDay=e.currentYearDay,t.step=e.step,t.days=e.days,t.bynweekday=e.bynweekday,t.bymonth=e.bymonth,t.bymonthday=e.bymonthday,t.byyearday=e.byyearday,t.byweekno=e.byweekno,t.byweekday=e.byweekday,t.freq=t.freq,t.timeZone=t.timeZone,t}},e.equals=function(t){var r=e.from==t.from&&e.to==t.to&&e.count===t.count&&e.interval===t.interval&&e.day===t.day&&e.month===t.month;return r},e.isDayOfWeekIncluded=function(t){var r=t.dayOfWeek();return a.jqx.scheduler.utilities.areWeekDaysIncluded(e.weekDays,r)},e.getWeekIndexFromDate=function(t,r){r.firstDay===void 0&&(r.firstDay=0);var o=r.firstDay,n=a.jqx.scheduler.utilities.getStartOfWeek(e.from,r,o),l=new a.jqx.timeSpan(t.subtract(n));return parseInt(l.days()/7)},e.canCreateNewOccurence=function(t,r){switch(t.toDate(),e.freq){case"daily":default:return e.bymonth&&e.bymonth.indexOf(t.month())==-1?!1:e.isEveryWeekDay?!!e.isDayOfWeekIncluded(t,r):!0;case"weekly":var o=e.getWeekIndexFromDate(t,r);if(e.bymonth&&e.bymonth.indexOf(t.month())==-1||o%e.interval!=0)return!1;if(e.weekDays=={}){var n=t;if(e.from.dayOfWeek()!=n.dayOfWeek())return!1}else if(!e.isDayOfWeekIncluded(t,r))return!1;break;case"monthly":case"yearly":if(e.bymonth&&e.bymonth.indexOf(t.month())==-1||t<e.from)return!1;break}return!0},e.toString=function(){var t={};t.dtstart=this.from.toDate(),t.until=this.to?this.to.toDate():null,t.count=this.count;var r={};r.YEARLY=0,r.MONTHLY=1,r.WEEKLY=2,r.DAILY=3,r.HOURLY=4,r.MINUTELY=5,r.SECONDLY=6,t.freq=r[this.freq.toUpperCase()],t.freq=="YEARLY"&&(t.bymonth=this.bymonth?this.bymonth:new Array().push(this.month)),t.byweekday=new Array;var o=["MO","TU","WE","TH","FR","SA","SU"];a.each(this.weekDays,function(){var l=this;l--,l<0&&(l=6),t.byweekday.push(l)}),this.byyearday!=null&&(t.byyearday=this.byyearday),this.byweekno!=null&&(t.byweekno=this.byweekno),t.bymonthday=this.bymonthday,t.wkst=o[this.wkst],t.interval=this.interval;var n=new a.jqx.ICalRule(t);return n.toString()},e.init=function(t){var r=new a.jqx.ICalRule(e.ical,t),o=r.options;if(e.from=o.dtstart?new a.jqx.date(o.dtstart,e.timeZone):e.from,e.count=o.count!=null?o.count:e.count,e.freq=r.FREQUENCIES[o.freq].toLowerCase(),e.interval=o.interval!=null?o.interval:e.interval,e.to=o.until?new a.jqx.date(o.until,e.timeZone):e.to,e.wkst=o.wkst,e.bymonth=o.bymonth,e.bymonth&&e.bymonth.length>0?e.month=e.bymonth[0]:e.month=e.from.month(),e.day=e.from.day(),o.byweekday!=null){e.weekDays={};for(var n=0;n<o.byweekday.length;n++){var l=o.byweekday[n];switch(l){case 0:e.weekDays.Monday=1;break;case 1:e.weekDays.Tuesday=2;break;case 2:e.weekDays.Wednesday=3;break;case 3:e.weekDays.Thursday=4;break;case 4:e.weekDays.Friday=5;break;case 5:e.weekDays.Saturday=6;break;case 6:e.weekDays.Sunday=0;break}}e.byweekday=o.byweekday}return e.byweekno=o.byweekno,o.bynweekday&&(e.bynweekday=o.bynweekday),o.bymonthday!=null&&(e.bymonthday=o.bymonthday.sort(),e.bymonthday[0]&&(e.day=e.bymonthday[0])),o.byyearday!=null&&(e.day=o.byyearday[0],e.byyearday=o.byyearday.sort()),o},e.setFrom=function(t){e.from=t.clone(),e.ical&&e.init(t)},arguments.length==1&&(e.ical=arguments[0],e.init()),e},a.jqx.scheduler.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},a.jqx.ICalRule=function(f,i){var t=this,r=function(k,O){arguments.length===1&&(O=k,k=0);for(var P=[],F=k;F<O;F++)P.push(F);return P},o=function(k){return k instanceof Array&&k.length==0?!1:!!k},n=function(k,O){return k.indexOf(O)!=-1},l=r(1,29),c=r(1,30),d=r(1,31),m=r(1,32);[].concat(m,c,m,d,m,d,m,m,d,m,d,m,m.slice(0,7)),[].concat(m,l,m,d,m,d,m,m,d,m,d,m,m.slice(0,7)),l=r(-28,0),c=r(-29,0),d=r(-30,0),m=r(-31,0),[].concat(m,c,m,d,m,d,m,m,d,m,d,m,m.slice(0,7)),[].concat(m,l,m,d,m,d,m,m,d,m,d,m,m.slice(0,7)),(function(){for(var k=[],O=0;O<55;O++)k=k.concat(r(7));return k})();var u=function(k,O){var P=this;if(O===0)throw new Error("Can't create weekday with n == 0");this.weekday=k,this.n=O,this.nth=function(F){return P.n==F?P:new u(P.weekday,F)},this.equals=function(F){return P.weekday==F.weekday&&P.n==F.n},this.toString=function(){var F=["MO","TU","WE","TH","FR","SA","SU"][P.weekday];return this.n&&(F=(P.n>0?"+":"")+String(P.n)+F),F},this.getJsWeekday=function(){return P.weekday==6?0:P.weekday+1}};this.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],this.YEARLY=0,this.MONTHLY=1,this.WEEKLY=2,this.DAILY=3,this.HOURLY=4,this.MINUTELY=5,this.SECONDLY=6,this.MO=new u(0),this.TU=new u(1),this.WE=new u(2),this.TH=new u(3),this.FR=new u(4),this.SA=new u(5),this.SU=new u(6);var s={freq:null,dtstart:null,interval:1,wkst:t.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null};this._string=null,this.toString=function(){var k=this.origOptions,O,P,F,z,B,N=[];P=Object.keys(k),F=Object.keys(s);for(var M=0;M<P.length;M++)if(n(F,P[M])&&(O=P[M].toUpperCase(),z=k[P[M]],B=[],!(z===null||z instanceof Array&&!z.length))){switch(O){case"FREQ":z=t.FREQUENCIES[k.freq];break;case"WKST":z||(z=0),z=z.toString();break;case"BYWEEKDAY":O="BYDAY",z instanceof Array||(z=[z]);for(var W,X=0;X<z.length;X++)W=z[X],W instanceof u||(W instanceof Array?W=new u(W[0],W[1]):W=new u(W)),B[X]=W.toString();z=B;break;case"DTSTART":case"UNTIL":z=a.jqx.scheduler.utilities.timeToUntilString(z);break;default:if(z instanceof Array){for(var X=0;X<z.length;X++)B[X]=String(z[X]);z=B}else z=String(z)}N.push([O,z])}for(var U=[],M=0;M<N.length;M++){var Q=N[M];U.push(Q[0]+"="+Q[1].toString())}return U.join(";")},this.parseString=function(k){if(k=k.replace(/^\s+|\s+$/,""),!k.length)return null;var O,P,F,z,B,N=k.split(";"),M={};for(O=0;O<N.length;O++)if(B=N[O].split("="),F=B[0],z=B[1],F!="")switch(F){case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(z.indexOf(",")!=-1)for(z=z.split(","),P=0;P<z.length;P++)/^[+-]?\d+$/.test(z[P])&&(z[P]=Number(z[P]));else/^[+-]?\d+$/.test(z)&&(z=Number(z));F=F.toLowerCase(),M[F]=z;break;case"BYDAY":var W,X,U,Q=z.split(",");for(M.byweekday=[],P=0;P<Q.length;P++)U=Q[P],U.length==2?(X=t[U],M.byweekday.push(X)):(U=U.match(/^([+-]?\d)([A-Z]{2})$/),W=Number(U[1]),X=U[2],X=t[X].weekday,M.byweekday.push(new u(X,W)));break;case"FREQ":M.freq=t[z];break;case"WKST":M.wkst=t[z];break;case"DTSTART":M.dtstart=a.jqx.scheduler.utilities.untilStringToDate(z);break;case"UNTIL":M.until=a.jqx.scheduler.utilities.untilStringToDate(z);break;case"BYEASTER":M.byeaster=Number(z);break;default:throw new Error("Unknown ICalRule property '"+F+"'")}return t.options=M,M},a.type(f)==="string"?this.options=this.parseString(f):this.options=f||{};var f=this.options;Array.prototype.forEach||(Array.prototype.forEach=function(k,O){var P,F;if(this==null)throw new TypeError(" this is null or not defined");var z=Object(this),B=z.length>>>0;if(typeof k!="function")throw new TypeError(k+" is not a function");for(arguments.length>1&&(P=O),F=0;F<B;){var N;F in z&&(N=z[F],k.call(P,N,F,z)),F++}}),Object.keys||(Object.keys=(function(){var k=Object.prototype.hasOwnProperty,O=!{toString:null}.propertyIsEnumerable("toString"),P=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],F=P.length;return function(z){if(typeof z!="object"&&(typeof z!="function"||z===null))throw new TypeError("Object.keys called on non-object");var B=[],N,M;for(N in z)k.call(z,N)&&B.push(N);if(O)for(M=0;M<F;M++)k.call(z,P[M])&&B.push(P[M]);return B}})()),this.origOptions={};var w=[],b=Object.keys(this.options),q=Object.keys(s);if(b.forEach(function(k){this.origOptions[k]=this.options[k],n(q,k)||w.push(k)},this),w.length)throw new Error("Invalid options: "+w.join(", "));if(!t.FREQUENCIES[this.options.freq]&&f.byeaster===null)throw new Error("Invalid Frequency: "+String(f.freq));q.forEach(function(k){n(b,k)||(f[k]=s[k])});var p=this.options;if(p.byeaster!==null&&(p.freq=this.YEARLY),p.dtstart||(p.dtstart=new Date,p.dtstart.setMilliseconds(0)),i&&(p.dtstart=i.toDate()),p.wkst===null?p.wkst=this.MO.weekday:typeof p.wkst=="number"||(p.wkst==null?p.wkst=this.MO.weekday:p.wkst=p.wkst.weekday),p.bysetpos!==null){typeof p.bysetpos=="number"&&(p.bysetpos=[p.bysetpos]);for(var j=0;j<p.bysetpos.length;j++){var x=p.bysetpos[j];if(x==0||!(-366<=x&&x<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(o(p.byweekno)||o(p.byyearday)||o(p.bymonthday)||p.byweekday!==null||p.byeaster!==null))switch(p.freq){case this.YEARLY:p.bymonth||(p.bymonth=p.dtstart.getMonth()+1),p.bymonthday=p.dtstart.getDate();break;case this.MONTHLY:p.bymonthday=p.dtstart.getDate();break;case this.WEEKLY:p.byweekday=a.jqx.scheduler.utilities.getWeekday(p.dtstart);break}if(p.bymonth!==null&&!(p.bymonth instanceof Array)&&(p.bymonth=[p.bymonth]),p.byyearday!==null&&!(p.byyearday instanceof Array)&&(p.byyearday=[p.byyearday]),p.bymonthday===null)p.bymonthday=[],p.bynmonthday=[];else if(p.bymonthday instanceof Array){var A=[],T=[];for(j=0;j<p.bymonthday.length;j++){var x=p.bymonthday[j];x>0?A.push(x):x<0&&T.push(x)}p.bymonthday=A,p.bynmonthday=T}else p.bymonthday<0?(p.bynmonthday=[p.bymonthday],p.bymonthday=[]):(p.bynmonthday=[],p.bymonthday=[p.bymonthday]);if(p.byweekno!==null&&!(p.byweekno instanceof Array)&&(p.byweekno=[p.byweekno]),p.byweekday===null)p.bynweekday=null;else if(typeof p.byweekday=="number")p.byweekday=[p.byweekday],p.bynweekday=null;else if(p.byweekday instanceof u)!p.byweekday.n||p.freq>this.MONTHLY?(p.byweekday=[p.byweekday.weekday],p.bynweekday=null):(p.bynweekday=[[p.byweekday.weekday,p.byweekday.n]],p.byweekday=null);else{var h=[],v=[];for(j=0;j<p.byweekday.length;j++){var y=p.byweekday[j];typeof y=="number"?h.push(y):!y.n||p.freq>this.MONTHLY?h.push(y.weekday):v.push([y.weekday,y.n])}p.byweekday=o(h)?h:null,p.bynweekday=o(v)?v:null}if(p.byhour===null?p.byhour=p.freq<this.HOURLY?[p.dtstart.getHours()]:null:typeof p.byhour=="number"&&(p.byhour=[p.byhour]),p.byminute===null?p.byminute=p.freq<this.MINUTELY?[p.dtstart.getMinutes()]:null:typeof p.byminute=="number"&&(p.byminute=[p.byminute]),p.bysecond===null?p.bysecond=p.freq<this.SECONDLY?[p.dtstart.getSeconds()]:null:typeof p.bysecond=="number"&&(p.bysecond=[p.bysecond]),p.freq>=this.HOURLY)this.timeset=null;else{if(this.timeset=[],p.byhour)for(j=0;j<p.byhour.length;j++)for(var D=p.byhour[j],g=0;g<p.byminute.length;g++)for(var C=p.byminute[g],H=0;H<p.bysecond.length;H++){var S=p.bysecond[H];this.timeset.push(new a.jqx.scheduler.utilities.Time(D,C,S))}a.jqx.scheduler.utilities.sort(this.timeset)}return this}})(jqxBaseFramework),(function(a){a.extend(a.jqx._jqxScheduler.prototype,{_getexportcolor:function(e){var i=e;if(e=="transparent"&&(i="#FFFFFF"),(!i||!i.toString())&&(i="#FFFFFF"),i.toString().indexOf("rgb")!=-1){var t=i.split(",");if(i.toString().indexOf("rgba")!=-1){var o=parseInt(t[0].substring(5)),n=parseInt(t[1]),l=parseInt(t[2]),r=parseFloat(t[3].substring(1,4)),c={r:o,g:n,b:l},d=this._rgbToHex(c);return o==0&&n==0&&l==0&&r==0?"#ffffff":"#"+d}var o=parseInt(t[0].substring(4)),n=parseInt(t[1]),l=parseInt(t[2].substring(1,4)),c={r:o,g:n,b:l},d=this._rgbToHex(c);return"#"+d}else if(i.toString().indexOf("#")!=-1&&i.toString().length==4){var m=i.toString().substring(1,4);i+=m}return i},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var i=parseInt(e).toString(16);return i.length==1&&(i="0"+i),i.toUpperCase()},exportData:function(e){var l=this;if(!a.jqx.dataAdapter.ArrayExporter)throw"jqxScheduler: Missing reference to jqxdata.export.js!";var i=this.exportSettings.serverURL,t=this.exportSettings.characterSet,r=this.exportSettings.fileName,o=this.exportSettings.ICSXWRCALNAME,n=this.exportSettings.ICSXWRCALDESC;r===void 0&&(r="jqxScheduler");var l=this;if(e=="ical"||e=="ics"){if(l._resources.length>1&&r&&l.resourcesInMultipleICSFiles)for(var x=this.getAppointments(),c=0;c<l._resources.length;c++){for(var d=l._resources[c],m=new Array,u=0;u<x.length;u++){var s=x[u];s.resourceId==d&&m.push(s)}var f=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:jqxScheduler
METHOD:PUBLISH
`;o&&(f+="X-WR-CALNAME:"+o+`
`),n&&(f+="X-WR-CALDESC:"+n+`
`);for(var w=0;w<m.length;w++)f+=m[w].jqxAppointment.toString(),w<m.length-1&&(f+=`
`);f+=`
END:VCALENDAR`;for(var b=f.length,q=new Uint8Array(new ArrayBuffer(b)),w=0;w<b;w++)q[w]=f.charCodeAt(w);var p=new Blob([q],{type:"application/calendar"}),j;j?j(p,r+"_"+d+".ics"):window.jqxSaveAs&&window.jqxSaveAs(p,r+"_"+d+".ics")}else{for(var x=this.getAppointments(),f=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:jqxScheduler
METHOD:PUBLISH
`,c=0;c<x.length;c++)f+=x[c].jqxAppointment.toString(),c<x.length-1&&(f+=`
`);f+=`
END:VCALENDAR`;var b=f.length,q=new Uint8Array(new ArrayBuffer(b));for(c=0;c<b;c++)q[c]=f.charCodeAt(c);var p=new Blob([q],{type:"application/calendar"});if(!r)return f;j?j(p,r+".ics"):window.jqxSaveAs&&window.jqxSaveAs(p,r+".ics")}return}var x=this.getDataAppointments(),A=new Array,T={},h={},v=this.host.find(".jqx-grid-cell:first");v.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),v.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),v.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),v.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var y="cell",D=1,g="column",C=1,H=a(this.columns.records[0].element),S=0;a.each(this.appointmentDataFields,function(P,F){if(T[F]={},T[F].text=F,T[F].width=100,T[F].formatString="",T[F].localization=l.schedulerLocalization,P=="from"||P=="to"?(T[F].type="date",T[F].formatString=l.exportSettings.dateTimeFormatString):T[F].type="string",T[F].cellsAlign="left",A.push(T[F]),y="cell"+D,g="column"+C,e=="html"||e=="xls"||e=="pdf"){var z=function(B,N,M,W,X,U,Q,te,Y){h[B]={},N!=null&&(h[B]["font-size"]=N.css("font-size"),h[B]["font-weight"]=N.css("font-weight"),h[B]["font-style"]=N.css("font-style"),h[B]["background-color"]=l._getexportcolor(N.css("background-color")),h[B].color=l._getexportcolor(N.css("color")),h[B]["border-color"]=l._getexportcolor(N.css("border-top-color")),M?h[B]["text-align"]="left":(h[B]["text-align"]="left",h[B].formatString="",h[B].dataType="string",(Q=="from"||Q=="to")&&(h[B].dataType="date",h[B].formatString=l.exportSettings.dateTimeFormatString)),(e=="html"||e=="pdf")&&(h[B]["border-top-width"]=N.css("border-top-width"),h[B]["border-left-width"]=N.css("border-left-width"),h[B]["border-right-width"]=N.css("border-right-width"),h[B]["border-bottom-width"]=N.css("border-bottom-width"),h[B]["border-top-style"]=N.css("border-top-style"),h[B]["border-left-style"]=N.css("border-left-style"),h[B]["border-right-style"]=N.css("border-right-style"),h[B]["border-bottom-style"]=N.css("border-bottom-style"),M?(S==0&&(h[B]["border-left-width"]=N.css("border-right-width")),h[B]["border-top-width"]=N.css("border-right-width"),h[B]["border-bottom-width"]=N.css("border-bottom-width")):(S==0&&(h[B]["border-left-width"]="1px"),h[B]["border-right-width"]="1px")),M&&(T[F].style=B),T[F].cellStyle=B)};z(g,H,!0,!1,this,l,P),C++,z(y,v,!1,!1,this,l,P),D++}S++});var k=a.jqx.dataAdapter.ArrayExporter(x,T,h,i);if(r==null){this._renderrows();var O=k.exportTo(e);return setTimeout(function(){l.exporting=!1},50),O}else k.exportToFile(e,r,i,t);this._renderrows(),setTimeout(function(){l.exporting=!1},50)},shadeColor:function(e,i){var t=parseInt(e.slice(1),16),r=i<0?0:255,o=i<0?i*-1:i,n=t>>16,l=t>>8&255,c=t&255;return"#"+(16777216+(Math.round((r-n)*o)+n)*65536+(Math.round((r-l)*o)+l)*256+(Math.round((r-c)*o)+c)).toString(16).slice(1)},hexToRgba:function(e,i){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r=function(){var o=a.jqx.browser.msie&&a.jqx.browser.version<10;return this.alpha==null||o?"rgb("+this.r+", "+this.g+", "+this.b+")":(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")")};return i==null?t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),toString:r}:null:(i>1?i=1:i<0&&(i=0),t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),alpha:i,toString:r}:null)},getAppointmentColors:function(e){var i="",t="",r="";i=this.hexToRgba(e,this.appointmentOpacity).toString(),t=e;var o=function(n){var l=105,c=n.r*.299+n.g*.587+n.b*.114,d=255-c<l?"Black":"White";return d};return r=o(this.hexToRgba(e,.7)),{background:i,color:r,border:t}},getColors:function(e){e==-1&&(e=0);var i="",t="",r="",o=this.resources?this.resources.colorScheme:null;o||(o="scheme01");for(var n=new Array,l=0;l<this.colorSchemes.length;l++)if(this.colorSchemes[l].name==o){n=this.colorSchemes[l].colors;break}for(;e>n.length-1;){var c=parseInt(o.substring(6));c>=27&&(c=0),n=n.concat(this.colorSchemes[c].colors),c++}i=n[e],i=this.hexToRgba(n[e],this.appointmentOpacity).toString(),t=n[e];var d=function(m){var u=105,s=m.r*.299+m.g*.587+m.b*.114,f=255-s<u?"Black":"White";return f};return r=d(this.hexToRgba(n[e],.7)),{background:i,color:r,border:t}},getAppointments:function(){for(var e=this.uiappointments,i=new Array,t=0;t<e.length;t++){var r=e[t].boundAppointment;r.toString=r.jqxAppointment.toString,i.push(r)}return i},getDataAppointments:function(){for(var e=this.uiappointments,i=new Array,t=0;t<e.length;t++){var r=e[t].boundAppointment,o={};a.each(this.appointmentDataFields,function(n,l){if(o[l]=r[n],(n=="from"||n=="to")&&a.type(r[n])!="date"&&(o[l]=r[n].toDate()),n=="recurrencePattern"&&r[n]&&(o[l]=r[n].toString()),n=="recurrenceException"&&r[n]){o[l]="";for(var c=0;c<r[n].length;c++)o[l]+=r[n][c].toString(),c<r[n].length-1&&(o[l]+=",")}try{JSON&&(o.toString=function(){return JSON.stringify(o)})}catch{}}),i.push(o)}return i},_refreshColumns:function(){this._initializeColumns(),this.columnsheader=this.columnsheader||a('<div style="overflow: hidden;"></div>'),this.columnsheader.children().remove();var e=this.columnsHeight;e=this._preparecolumnGroups(),this.columnsheader.height(e),this._rendercolumnheaders()},_refreshColumnTitles:function(){var e=this._views[this._view].type,i=this._views[this._view],t=this,r=new Array;if(t.columns.records[0].timeColumn&&r.push({}),i.timeRuler&&i.timeRuler.timeZones)for(var o=0;o<i.timeRuler.timeZones.length;o++)r.push({});var n=function(T,h,v){i.timeRuler&&i.timeRuler.scale&&i.timeRuler.scale;var y=24,D=0,g=23;if(i.timeRuler){if(i.timeRuler.scaleStartHour!=null)var D=parseInt(i.timeRuler.scaleStartHour);if(i.timeRuler.scaleEndHour!=null)var g=parseInt(i.timeRuler.scaleEndHour);D<0&&(D=0),g<0&&(g=23),D>23&&(D=0),g>23&&(g=23),y=g-D+1}var C=60;new Array;var H="auto";i.timeRuler&&i.timeRuler.formatString&&(H=i.timeRuler.formatString);var S=D,k=y,O=T.addHours(S);if(t.rtl)var O=T.addHours(g);for(var P=0;P<k;P++){var F=O.toDate();if(H==="auto")if(F.getHours()==0&&F.getMinutes()==0||F.getHours()==12&&F.getMinutes()==0)var z="hh tt";else var z="hh:mm";else if(a.isFunction(H))var z=H(F);else z=H;var B=new Date,N=F.getFullYear()===B.getFullYear()&&F.getMonth()===B.getMonth()&&F.getDate()===B.getDate();a.jqx.dataFormat.isDate(F)&&(F=a.jqx.dataFormat.formatdate(F,z,t.schedulerLocalization)),t.rtl?O=O.addMinutes(-C):O=O.addMinutes(C),r.push({}),t.columns.records[r.length-1].text=F,t.columns.records[r.length-1].today=N}};this.tableColumns;for(var l=0;l<this.tableColumns;l++)switch(e){case"dayView":var c=this.getViewStart();i.showWeekends===!1&&((c.dayOfWeek()===0||c.dayOfWeek()===6)&&(c=c.addDays(1)),(c.dayOfWeek()===0||c.dayOfWeek()===6)&&(c=c.addDays(1))),r.push({});var c=this.getViewStart(),d=c.addDays(o);this.columns.records[r.length-1].today=c.isToday(),this.columns.records[r.length-1].text=this._getDayName(c.dayOfWeek());break;case"weekView":case"monthView":for(var o=0;o<7;o++){var m=this.schedulerLocalization.firstDay+o;if(!(i.showWeekends===!1&&(o===0||o===6))){r.push({}),t.rtl&&(m=6-m);var c=this.getViewStart(),d=c.addDays(o);this.columns.records[r.length-1].today=d.isToday(),this.columns.records[r.length-1].text=this._getDayName(m)}}break;case"timelineDayView":t._resources[l]?t._resources[l]:""+l,n(t.getViewStart());break;case"timelineWeekView":for(var o=0;o<7;o++){var m=this.schedulerLocalization.firstDay+o;i.showWeekends===!1&&(o===0||o===6)||(t.rtl&&(m=6-m),n(t.getViewStart().addDays(o),this._getDayName(m)))}break;case"timelineMonthView":var u=t.getViewStart(),s="auto";i.timeRuler&&i.timeRuler.formatString&&(s=i.timeRuler.formatString);for(var o=0;o<41;o++){var m=u.dayOfWeek();if(!(i.showWeekends===!1&&(m===0||m===6))){t.rtl&&(m=6-m);var f=u.toDate(),w=new Date,b=f.getFullYear()===w.getFullYear()&&f.getMonth()===w.getMonth()&&f.getDate()===w.getDate();if(s==="auto"){var q="dd";f=u.toDate(),f.getDate()===1&&(q="MMM dd")}else if(a.isFunction(s))var q=s(f);else q=s;a.jqx.dataFormat.isDate(f)&&(f=a.jqx.dataFormat.formatdate(f,q,t.schedulerLocalization)),u=u.addDays(1),r.push({}),t.columns.records[r.length-1].text=f,t.columns.records[r.length-1].today=b}}break}for(var p=t.columnsHeight,j=function(T,h){var v=t.columnGroupslevel*t.columnsHeight;return v=v-h.level*t.columnsHeight,v},o=0;o<this.columns.records.length;o++){var x=this.columns.records[o];if(!x.timeColumn){t.columnGroups&&t.columnGroups.length&&(p=j(x.datafield,x));var A=x.renderer!=null?x.renderer(t.escape_HTML(x.text),x.align,p):t._rendercolumnheader(x.text,x.align,p,x);A==null&&(A=t._rendercolumnheader(t.escape_HTML(x.text),x.align,p,t)),x.renderer!=null&&(A=a(A)),a(x.element).html(A),a(x.element).removeClass("today"),x.today&&a(x.element).addClass("today")}}},_editDialogLabel:function(){return this.theme?"jqx-scheduler-edit-dialog-label jqx-scheduler-edit-dialog-label-"+this.theme:"jqx-scheduler-edit-dialog-label"},_editDialogField:function(){return this.theme?"jqx-scheduler-edit-dialog-field jqx-scheduler-edit-dialog-field-"+this.theme:"jqx-scheduler-edit-dialog-field"},initRepeatPanels:function(e,i,t){var r=this,o=a("<div></div>");i.append(o);var n=a("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatString+"</div>").appendTo(o),l=a("<div class='"+r._editDialogField()+"'></div>").appendTo(o),c=a("<div></div>").appendTo(l),d=a("<div></div>");i.append(d);var m=a("<div></div>");d.append(m);var u=function(j,x){var A=a("<div></div>").appendTo(j),T=a("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatEndString+"</div>").appendTo(A),h=a("<div class='"+r._editDialogField()+"'></div>").appendTo(A),v=a("<div style='top: 3px; position:relative; float:left;'><span style='margin-left:2px;'>"+r.schedulerLocalization.editDialogRepeatNeverString+"</span></div>").appendTo(h);v.jqxRadioButton({rtl:r.rtl,groupName:"end"+x,theme:r.theme,width:200,checked:!0}),r.editDialogFields[x].repeatEndNever=v,r.editDialogFields[x].repeatEndNeverLabel=T;var y=a("<div class='"+r._editDialogLabel()+"'></div>").appendTo(A),D=a("<div class='"+r._editDialogField()+"'></div>").appendTo(A),g=a("<div style='top: 3px;  position:relative;  float:left;'><span style='margin-left:2px;'>"+r.schedulerLocalization.editDialogRepeatAfterString+"</span></div>").appendTo(D);g.jqxRadioButton({rtl:r.rtl,groupName:"end"+x,theme:r.theme,width:60,checked:!1});var C=a("<div style='margin-left: 3px; float:left;'></div>").appendTo(D);C.jqxNumberInput({rtl:r.rtl,decimal:10,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme}),a("<div style='float: left; top: 3px;  margin-left: 5px; line-height:25px;'>"+r.schedulerLocalization.editDialogRepeatOccurrencesString+"</div>").appendTo(D),r.editDialogFields[x].repeatEndAfter=g,r.editDialogFields[x].repeatEndAfterValue=C,r.editDialogFields[x].repeatEndAfterLabel=y;var H=a("<div class='"+r._editDialogLabel()+"'></div>").appendTo(A),S=a("<div class='"+r._editDialogField()+"'></div>").appendTo(A),k=a("<div style='top: 3px; position:relative; float:left;'><span style='margin-left:2px;'>"+r.schedulerLocalization.editDialogRepeatOnString+"</span></div>").appendTo(S);k.jqxRadioButton({rtl:r.rtl,groupName:"end"+x,theme:r.theme,width:60,checked:!1});var O=a("<div style='margin-left: 3px; float:left;'></div>").appendTo(S);return O.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:r.rtl,localization:r._getDateTimeInputLocalization(),firstDayOfWeek:r.schedulerLocalization.firstDay,todayString:r.schedulerLocalization.todayString,clearString:r.schedulerLocalization.clearString,value:t,formatString:r.editDialogDateFormatString,width:150,theme:r.theme}),O.jqxDateTimeInput("getInstance"),r.editDialogFields[x].repeatEndOn=k,r.editDialogFields[x].repeatEndOnValue=O,r.editDialogFields[x].repeatEndOnLabel=H,A};m.detach(),r.editDialogFields.repeatEndPanel={},r.editDialogFields.repeatEndPanelContainer=m,u(m,"repeatEndPanel");var s=function(){var j=a("<div style='visibility: hidden;'></div>").appendTo(a(document.body)),x=a("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(j),A=a("<div class='"+r._editDialogField()+"'></div>").appendTo(j),T=a("<div style='float:left;'></div>").appendTo(A);T.jqxNumberInput({rtl:r.rtl,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme}),a("<div style='float: left; margin-left: 5px; line-height:25px;'>"+r.schedulerLocalization.editDialogRepeatEveryDayString+"</div>").appendTo(A),r.editDialogFields.daily={},r.editDialogFields.daily.repeatDayInterval=T,r.editDialogFields.daily.repeatDayLabel=x,r.editDialogFields.daily.panel=j,j.detach(),r.editDialogFields.weekly={};var h=a("<div style='visibility: hidden;'></div>").appendTo(a(document.body)),v=a("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(h),y=a("<div class='"+r._editDialogField()+"'></div>").appendTo(h),D=a("<div style='float:left;'></div>").appendTo(y);D.jqxNumberInput({rtl:r.rtl,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme}),a("<div style='float: left; margin-left: 5px; line-height:25px;'>"+r.schedulerLocalization.editDialogRepeatEveryWeekString+"</div>").appendTo(y),r.editDialogFields.weekly.repeatWeekInterval=D,r.editDialogFields.weekly.repeatWeekIntervalLabel=v;var g=a("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(h),C=a("<div class='"+r._editDialogField()+"'></div>").appendTo(h),H=a("<div style='float:left;'></div>").appendTo(C);r.editDialogFields.weekly.repeatDaysLabel=g,r.editDialogFields.weekly.repeatDays=new Array;for(var S=0;S<7;S++){var k=r._getDayName(S,"firstTwoLetters"),O=a("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+k+"</span></div>");H.append(O);var P=S==1;O.jqxCheckBox({rtl:r.rtl,checked:P,width:50,theme:r.theme}),r.editDialogFields.weekly.repeatDays.push(O)}r.editDialogFields.weekly.panel=h,h.detach(),r.editDialogFields.monthly={};var F=a("<div style='visibility: hidden;'></div>").appendTo(a(document.body)),z=a("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(F),B=a("<div class='"+r._editDialogField()+"'></div>").appendTo(F),N=a("<div style='float:left;'></div>").appendTo(B);N.jqxNumberInput({rtl:r.rtl,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme}),a("<div style='float: left; margin-left: 5px; line-height:25px;'>"+r.schedulerLocalization.editDialogRepeatEveryMonthString+"</div>").appendTo(B),r.editDialogFields.monthly.repeatMonth=N,r.editDialogFields.monthly.repeatMonthLabel=z;var M=a("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(F),W=a("<div class='"+r._editDialogField()+"'></div>").appendTo(F),X=a("<div style='float:left;'></div>").appendTo(W),U=a("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+r.schedulerLocalization.editDialogRepeatEveryMonthDayString+"</span></div>").appendTo(X);U.jqxRadioButton({rtl:r.rtl,groupName:"month",width:60,checked:!0,theme:r.theme});var Q=a("<div style='float:left;'></div>").appendTo(X);Q.jqxNumberInput({rtl:r.rtl,decimal:1,min:1,max:31,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme}),r.editDialogFields.monthly.repeatMonthDay=Q,r.editDialogFields.monthly.repeatMonthDayBool=U,r.editDialogFields.monthly.repeatMonthDayLabel=M;var te=a("<div class='"+r._editDialogLabel()+"'></div>").appendTo(F),Y=a("<div class='"+r._editDialogField()+"'></div>").appendTo(F),G=a("<div style='float:left;'></div>").appendTo(Y),K=a("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(G);K.jqxRadioButton({groupName:"month",width:25,checked:!1,theme:r.theme});var ee=a("<div style='float:left;'></div>").appendTo(G),Z=new Array;Z.push(r.schedulerLocalization.editDialogRepeatFirstString),Z.push(r.schedulerLocalization.editDialogRepeatSecondString),Z.push(r.schedulerLocalization.editDialogRepeatThirdString),Z.push(r.schedulerLocalization.editDialogRepeatFourthString),Z.push(r.schedulerLocalization.editDialogRepeatLastString),ee.jqxDropDownList({height:27,dropDownWidth:150,selectedIndex:0,source:Z,autoDropDownHeight:!0,width:"auto",theme:r.theme});for(var ne=a("<div style='margin-left: 5px; float:left;'></div>").appendTo(G),fe=new Array,S=0;S<7;S++){var k=r._getDayName(S);fe.push(k)}ne.jqxDropDownList({height:27,rtl:r.rtl,dropDownWidth:150,autoDropDownHeight:!0,selectedIndex:1,source:fe,width:"auto",theme:r.theme}),r.editDialogFields.monthly.repeatDayOfWeekBool=K,r.editDialogFields.monthly.repeatDayOfWeek=ne,r.editDialogFields.monthly.repeatDayOfWeekLabel=te,r.editDialogFields.monthly.repeatDayOfWeekType=ee,r.editDialogFields.monthly.panel=F,F.detach(),r.editDialogFields.yearly={};var $=a("<div style='visibility: hidden;'></div>").appendTo(a(document.body)),ae=a("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo($),ce=a("<div class='"+r._editDialogField()+"'></div>").appendTo($),me=a("<div style='float:left;'></div>").appendTo(ce);me.jqxNumberInput({decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme}),a("<div style='float: left; margin-left: 5px; line-height:25px;'>"+r.schedulerLocalization.editDialogRepeatEveryYearString+"</div>").appendTo(ce),r.editDialogFields.yearly.repeatYear=me,r.editDialogFields.yearly.repeatYearLabel=ae;var ve=a("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo($),he=a("<div class='"+r._editDialogField()+"'></div>").appendTo($),pe=a("<div style='float:left;'></div>").appendTo(he),we=a("<div style='position:relative; top: 6px; float:left;'></span></div>").appendTo(pe);we.jqxRadioButton({rtl:r.rtl,groupName:"year",width:25,checked:!0,theme:r.theme}),r.editDialogFields.yearly.repeatYearBool=we,r.editDialogFields.yearly.repeatYearBoolLabel=ve;for(var je=a("<div style='float:left;'></div>").appendTo(pe),Me=new Array,S=0;S<12;S++){var xe=r.schedulerLocalization.months.names[S];Me.push(xe)}je.jqxDropDownList({height:27,selectedIndex:0,dropDownWidth:150,width:"auto",source:Me,theme:r.theme}),r.editDialogFields.yearly.repeatYearMonth=je;var ie=a("<div style='margin-left: 5px; float:left;'></div>").appendTo(pe);ie.jqxNumberInput({height:25,decimal:1,min:1,inputMode:"simple",width:50,spinButtons:!0,decimalDigits:0,theme:r.theme}),r.editDialogFields.yearly.repeatYearDay=ie;var re=a("<div class='"+r._editDialogLabel()+"'></div>").appendTo($),I=a("<div class='"+r._editDialogField()+"'></div>").appendTo($),le=a("<div style='float:left;'></div>").appendTo(I),De=a("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(le);De.jqxRadioButton({rtl:r.rtl,groupName:"year",width:25,checked:!1,theme:r.theme});var _e=a("<div style='float:left;'></div>").appendTo(le);r.editDialogFields.yearly.repeatDayOfWeekBool=De,r.editDialogFields.yearly.repeatDayOfWeekType=_e,r.editDialogFields.yearly.repeatDayOfWeekLabel=re;var ue=new Array;ue.push(r.schedulerLocalization.editDialogRepeatFirstString),ue.push(r.schedulerLocalization.editDialogRepeatSecondString),ue.push(r.schedulerLocalization.editDialogRepeatThirdString),ue.push(r.schedulerLocalization.editDialogRepeatFourthString),ue.push(r.schedulerLocalization.editDialogRepeatLastString),_e.jqxDropDownList({height:27,dropDownWidth:150,selectedIndex:0,source:ue,autoDropDownHeight:!0,width:"auto",theme:r.theme});var Se=a("<div style='margin-left: 5px; float:left;'></div>").appendTo(le);r.editDialogFields.yearly.repeatDayOfWeek=Se;for(var qe=new Array,S=0;S<7;S++){var k=r._getDayName(S);qe.push(k)}Se.jqxDropDownList({height:27,rtl:r.rtl,dropDownWidth:150,selectedIndex:1,autoDropDownHeight:!0,source:qe,width:"auto",theme:r.theme});var Me=new Array;a("<div style='line-height:25px; height: 25px; margin-left: 5px; float:left;'>"+r.schedulerLocalization.editDialogRepeatOfString+"</div>").appendTo(le);for(var Le=a("<div style='margin-left: 5px; float:left;'></div>").appendTo(le),S=0;S<12;S++){var xe=r.schedulerLocalization.months.names[S];Me.push(xe)}r.editDialogFields.yearly.repeatDayOfWeekMonth=Le,Le.jqxDropDownList({height:27,rtl:r.rtl,dropDownWidth:150,selectedIndex:0,source:Me,width:"auto",theme:r.theme}),r.editDialogFields.yearly.panel=$,$.detach()};r.editAppointment&&r.editAppointment.rootAppointment,s();var f=a("<div></div>");i.append(f);var w=a("<div class='"+r._editDialogLabel()+"'>"+r.schedulerLocalization.editDialogExceptionsString+"</div>").appendTo(f),b=a("<div class='"+r._editDialogField()+"'></div>").appendTo(f),q=a("<div style='position:relative; top:2px;'>"+r.schedulerLocalization.editDialogResetExceptionsString+"</div>").appendTo(b);q.jqxCheckBox({width:"100%",theme:r.theme}),f.hide(),r.editDialogFields.resetExceptions=q,r.editDialogFields.resetExceptionsLabel=w,r.editDialogFields.resetExceptionsContainer=f;var p=new Array;p.push(r.schedulerLocalization.editDialogRepeatNeverString),p.push(r.schedulerLocalization.editDialogRepeatDailyString),p.push(r.schedulerLocalization.editDialogRepeatWeeklyString),p.push(r.schedulerLocalization.editDialogRepeatMonthlyString),p.push(r.schedulerLocalization.editDialogRepeatYearlyString),c.jqxDropDownList({rtl:r.rtl,height:27,width:"100%",autoDropDownHeight:!0,theme:r.theme,source:p,selectedIndex:0}),r.editDialogFields.repeat=c,r.editDialogFields.repeatLabel=n,r.editDialogFields.repeatContainer=o,r.editDialogFields.repeatPanel=d,this.addHandler(c,"change",function(j){var x=j.args.item.index;(function(){switch(d.children().detach(),x){case 0:break;case 1:r.editDialogFields.daily.panel.css("visibility","visible"),d.append(r.editDialogFields.daily.panel);break;case 2:r.editDialogFields.weekly.panel.css("visibility","visible"),d.append(r.editDialogFields.weekly.panel);break;case 3:r.editDialogFields.monthly.panel.css("visibility","visible"),d.append(r.editDialogFields.monthly.panel);break;case 4:r.editDialogFields.yearly.panel.css("visibility","visible"),d.append(r.editDialogFields.yearly.panel);break}d.append(m),x==0?r.editDialogFields.repeatEndPanelContainer.hide():r.editDialogFields.repeatEndPanelContainer.show(),r.isTouchDevice()||(e.jqxWindow({height:150}),e.jqxWindow({height:i[0].scrollHeight+40}))})()})},_initMenu:function(){var e=this;if(this.host.jqxMenu){if(this.menu){if(this._hasOpenedMenu)return;this.removeHandler(this.menu,"keydown"),this.removeHandler(this.menu,"closed"),this.removeHandler(this.menu,"itemclick"),this.menu.jqxMenu("destroy"),this.menu.removeData(),this.menu.remove()}this.menuitemsarray=new Array,this.menu=a('<div id="menu.jqxscheduler'+this.element.id+'" style="white-space: nowrap; z-index: 9999999999999;"></div>'),this.host.append(this.menu),this.addHandler(a(window),"orientationchange.jqxscheduler"+this.element.id,function(){e.menu.jqxMenu("close"),e._hasOpenedMenu=!1}),this.addHandler(a(window),"orientationchanged.jqxscheduler"+this.element.id,function(){e.menu.jqxMenu("close"),e._hasOpenedMenu=!1}),this.removeHandler(this.menu,"keydown"),this.addHandler(this.menu,"keydown",function(r){r.keyCode==27&&(e.menu.jqxMenu("close"),e._hasOpenedMenu=!1,e.focus())}),this.addHandler(this.menu,"open",function(r){e.contextMenuOpen&&e.contextMenuOpen(e.menu,e.selectedJQXAppointment?e.selectedJQXAppointment.boundAppointment:null,r),e._raiseEvent("contextMenuOpen",{menu:e.menu,appointment:e.selectedJQXAppointment?e.selectedJQXAppointment.boundAppointment:null}),e._removeFeedbackAndStopResize()}),this.addHandler(this.menu,"close",function(r){e.contextMenuClose&&e.contextMenuClose(e.menu,e.selectedJQXAppointment?e.selectedJQXAppointment.boundAppointment:null,r),e._hasOpenedMenu=!1,document.activeElement&&document.activeElement.className.indexOf("jqx-menu")>=0&&!e.menuOpening&&e.focus(),e._raiseEvent("contextMenuClose",{menu:e.menu,appointment:e.selectedJQXAppointment?e.selectedJQXAppointment.boundAppointment:null})}),this.addHandler(this.host,"contextmenu",function(r){return r.preventDefault(),r.stopPropagation(),!1}),this.addHandler(this.menu,"itemclick",function(r){var o=e.menu.jqxMenu("getItem",r.args.id);if(e._raiseEvent("contextMenuItemClick",{item:o,menu:e.menu,appointment:e.selectedJQXAppointment?e.selectedJQXAppointment.boundAppointment:null}),e.contextMenuItemClick){var n=e.contextMenuItemClick(e.menu,e.selectedJQXAppointment?e.selectedJQXAppointment.boundAppointment:null,r);if(n==!0){new Date-e.renderedTime>500&&e._renderrows(),e.menu.jqxMenu("close"),e._hasOpenedMenu=!1;return}}if(o.id=="createAppointment")e._initDialog(),e._openDialog(),r.args.clickType=="keyboard"&&(e.menu.jqxMenu("close"),e._hasOpenedMenu=!1);else if(o.id=="editAppointment"){var l=e.getJQXAppointmentByElement(e.selectedAppointment);if(!l.readOnly){var n=e._initDialog(l);n!==!1&&e._openDialog()}r.args.clickType=="keyboard"&&(e.menu.jqxMenu("close"),e._hasOpenedMenu=!1)}else return r.args.clickType=="keyboard"&&(e.menu.jqxMenu("close"),e._hasOpenedMenu=!1),!0});var i=new Array;i.push({label:this.schedulerLocalization.contextMenuEditAppointmentString,id:"editAppointment"}),i.push({label:this.schedulerLocalization.contextMenuCreateAppointmentString,id:"createAppointment"});var t={rtl:this.rtl,keyboardNavigation:!0,source:i,popupZIndex:999999,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0};e.contextMenuCreate&&e.contextMenuCreate(e.menu,t),e._raiseEvent("contextMenuCreate",{menu:e.menu,settings:t}),this.menu.jqxMenu(t)}},_initDialog:function(e,i){var t=this,r=null;if(e&&e.isRecurrentAppointment()&&!t.editRecurrenceDialog.jqxWindow("isOpen")){var l=t.host.coord(),o=l.top+t.host.height()/2-t.editRecurrenceDialog.height()/2,n=l.left+t.host.width()/2-t.editRecurrenceDialog.width()/2;t.editRecurrenceDialog.find("button:first").focus(),setTimeout(function(){t.editRecurrenceDialog.find("button:first").focus()},25),t.editRecurrenceDialog.jqxWindow("move",n,o),t.editRecurrenceDialog.jqxWindow("open"),t.editSeries=function(p){p?(t._initDialog(e.rootAppointment),t._openDialog()):(t._initDialog(e),t._openDialog())},t.overlay.show(),t.overlay.width(t.host.width()),t.overlay.height(t.host.height());var l=t.host.coord();return t.overlay.offset(l),t._editDialog||t._initDialog(),!1}if(t.editAppointment=e,e||(r=t.getSelection(),r||(t.focus(),t.focusedCell||t._updateFocusedCell(),t.focusedCell&&(t.focusedCell.setAttribute("data-selected","true"),t._lastSelectedCell=t.focusedCell,t._updateCellsSelection(t.focusedCell),r=t.getSelection()))),r||e){var c=r?r.from:e.from,d=r?r.to:e.to,m=t.getSelectedCells();if(m.length>0){var u=m[m.length-1].getAttribute("data-end-date");u&&(d=a.jqx.scheduler.utilities.getEndOfDay(d))}t._editStart=c,t._editEnd=d}if(t.editDialogFields&&t.editDialogFields.resourceContainer&&t._resources.length>0){for(var s=new Array,f=0;f<t._resources.length;f++)s.push(t._resources[f]);var w=!0;s.length>10&&(w=!1),t.editDialogFields.resource.jqxDropDownList({source:s,selectedIndex:0,autoDropDownHeight:w}),e||t.editDialogFields.resource.val(r.resourceId)}if(t.editDialogFields&&t.editDialogFields.repeatContainer&&(e&&e.rootAppointment?(t.editDialogFields.repeatContainer.hide(),t.editDialogFields.repeatPanel.hide()):(t.editDialogFields.repeatContainer.show(),t.editDialogFields.repeatPanel.show())),t._editDialog==null){t._editDialog=null;var b=e==null?t.schedulerLocalization.editDialogCreateTitleString:t.schedulerLocalization.editDialogTitleString,q=a("<div><div>"+b+"</div><div id='dialog"+this.element.id+"'></div></div>");a(q).jqxWindow({rtl:t.rtl,autoFocus:!1,autoOpen:!1,animationType:"none",theme:t.theme,width:540,maxHeight:800,minHeight:110,resizable:!1,initContent:function(){t.editDialogFields={},c==null&&d==null&&t._editStart&&t._editEnd&&(c=t._editStart,d=t._editEnd),q.jqxWindow("setTitle",b);var p=a(q.children()[1]),j=a("<div></div>");p.append(j);var x=a("<div class='"+t._editDialogLabel()+"'>"+t.schedulerLocalization.editDialogSubjectString+"</div>").appendTo(j),A=a("<div class='"+t._editDialogField()+"'></div>").appendTo(j),T=a("<input type='text'/>").appendTo(A);T.jqxInput({height:25,rtl:t.rtl,width:"100%",theme:t.theme}),T.css("box-sizing","border-box"),t.editDialogFields.subject=T,t.editDialogFields.subjectLabel=x,t.editDialogFields.subjectContainer=j;var h=a("<div></div>");p.append(h);var v=a("<div class='"+t._editDialogLabel()+"'>"+t.schedulerLocalization.editDialogLocationString+"</div>").appendTo(h),y=a("<div class='"+t._editDialogField()+"'></div>").appendTo(h),D=a("<input type='text'/>").appendTo(y);D.jqxInput({height:25,rtl:t.rtl,width:"100%",theme:t.theme}),D.css("box-sizing","border-box"),t.editDialogFields.location=D,t.editDialogFields.locationLabel=v,t.editDialogFields.locationContainer=h;var g=a("<div></div>");p.append(g);var C=a("<div class='"+t._editDialogLabel()+"'>"+t.schedulerLocalization.editDialogFromString+"</div>").appendTo(g),H=a("<div class='"+t._editDialogField()+"'></div>").appendTo(g),S=a("<div></div>").appendTo(H),k=null;if(c)k=c.toDate();else{var O=new Date;O.setHours(9,0,0),k=O,c=new a.jqx.date(O)}S.jqxDateTimeInput({height:27,dropDownWidth:220,dropDownHeight:220,rtl:t.rtl,localization:t._getDateTimeInputLocalization(),firstDayOfWeek:t.schedulerLocalization.firstDay,todayString:t.schedulerLocalization.todayString,clearString:t.schedulerLocalization.clearString,value:k,formatString:t.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,theme:t.theme}),t.editDialogFields.from=S,t.editDialogFields.fromLabel=C,t.editDialogFields.fromContainer=g;var P=a("<div></div>");p.append(P);var F=a("<div class='"+t._editDialogLabel()+"'>"+t.schedulerLocalization.editDialogToString+"</div>").appendTo(P),z=a("<div class='"+t._editDialogField()+"'></div>").appendTo(P),B=a("<div></div>").appendTo(z),N=null;if(d)N=d.toDate();else{var O=new Date;O.setHours(10,0,0),N=O,d=new a.jqx.date(O)}B.jqxDateTimeInput({height:27,dropDownWidth:220,dropDownHeight:220,rtl:t.rtl,localization:t._getDateTimeInputLocalization(),firstDayOfWeek:t.schedulerLocalization.firstDay,todayString:t.schedulerLocalization.todayString,clearString:t.schedulerLocalization.clearString,value:N,formatString:t.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,theme:t.theme}),t.editDialogFields.to=B,t.editDialogFields.toLabel=F,t.editDialogFields.toContainer=P,t._changeFromUser=!0,t.addHandler(S,"change",function(de){if(t._changeFromUser){de.args;var E=de.args.oldValue,R=B.val("date"),J=new a.jqx.date(R)-new a.jqx.date(E);if(J>0){var V=J*1e4,ye=a.jqx.timeSpan(V),Ae=new a.jqx.date(de.args.newValue).add(ye);B.val(Ae.toDate())}}}),t.addHandler(B,"change",function(de){if(t._changeFromUser){de.args;var E=de.args.oldValue,R=B.val("date");S.val("date")>=R&&B.val(E)}});var M=a("<div></div>");p.append(M);var W=a("<div class='"+t._editDialogLabel()+"'>"+t.schedulerLocalization.editDialogAllDayString+"</div>").appendTo(M),X=a("<div class='"+t._editDialogField()+"'></div>").appendTo(M),U=a("<div style='top: 8px; position:relative;'></div>").appendTo(X);U.jqxCheckBox({rtl:t.rtl,width:25,theme:t.theme}),t.editDialogFields.allDay=U,t.editDialogFields.allDayLabel=W,t.editDialogFields.allDayContainer=M,t.addHandler(M,"change",function(de){de.args.checked?(B.jqxDateTimeInput({showTimeButton:!1,formatString:t.editDialogDateFormatString}),S.jqxDateTimeInput({showTimeButton:!1,formatString:t.editDialogDateFormatString})):(B.jqxDateTimeInput({showTimeButton:!0,formatString:t.editDialogDateTimeFormatString}),S.jqxDateTimeInput({showTimeButton:!0,formatString:t.editDialogDateTimeFormatString}))}),a.jqx.scheduler.utilities.getStartOfDay(c).equals(c)&&a.jqx.scheduler.utilities.getEndOfDay(d).equals(d)&&t.editDialogFields.allDay.val(!0),(t._views[t._view].type.indexOf("month")>=0||c&&c.equals(d)||d&&d.equals(a.jqx.scheduler.utilities.getEndOfDay(d))&&c&&c.equals(a.jqx.scheduler.utilities.getStartOfDay(c)))&&t.editDialogFields.allDay.val(!0);var Q=a("<div></div>");p.append(Q);var te=a("<div class='"+t._editDialogLabel()+"'>"+t.schedulerLocalization.editDialogTimeZoneString+"</div>").appendTo(Q),Y=a("<div class='"+t._editDialogField()+"'></div>").appendTo(Q),G=a("<div></div>").appendTo(Y),K=new Array;K.push({displayName:t.schedulerLocalization.editDialogSelectTimeZoneString,id:null}),K=K.concat(t.timeZones);for(var ee=0;ee<K.length;ee++){var Z=K[ee],ne=Z.displayName.indexOf(")");if(ne>=0)var fe=Z.displayName.substring(2+ne);else var fe=Z.displayName;Z.searchName=fe}G.jqxDropDownList({height:27,rtl:t.rtl,placeHolder:t.schedulerLocalization.editDialogSelectTimeZoneString,width:"100%",theme:t.theme,searchMember:"searchName",source:K,displayMember:"displayName",valueMember:"id"}),t.editDialogFields.timeZone=G,t.editDialogFields.timeZoneLabel=te,t.editDialogFields.timeZoneContainer=Q,t.initRepeatPanels(q,p,d.toDate()),t.editDialogFields&&t.editDialogFields.repeatContainer&&(t.editAppointment&&t.editAppointment.rootAppointment?(t.editDialogFields.repeatContainer.hide(),t.editDialogFields.repeatPanel.hide()):(t.editDialogFields.repeatContainer.show(),t.editDialogFields.repeatPanel.show()));var $=a("<div></div>");p.append($);var ae=a("<div class='"+t._editDialogLabel()+"'>"+t.schedulerLocalization.editDialogDescriptionString+"</div>").appendTo($),ce=a("<div class='"+t._editDialogField()+"'></div>").appendTo($),me=a("<textarea type='text' resizable='off' style='position:relative; top: 3px; padding:3px;'></textarea>").appendTo(ce);me.jqxInput({rtl:t.rtl,height:40,width:"100%",theme:t.theme}),me.css("box-sizing","border-box"),t.editDialogFields.description=me,t.editDialogFields.descriptionLabel=ae,t.editDialogFields.descriptionContainer=$;var ve=a("<div></div>");p.append(ve);var he=a("<div class='"+t._editDialogLabel()+"'>"+t.schedulerLocalization.editDialogColorString+"</div>").appendTo(ve),pe=a("<div class='"+t._editDialogField()+"'></div>").appendTo(ve),we=a("<div></div>").appendTo(pe),je=function(de){if(de==-1)return"";var E=t.colors[de],R="",R="";return R+="<div style='margin-top: 1px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+E+"; margin-left: 2%;'></div>",R},xe=function(de,E){if(E<0)return de.css("top","4px"),de.css("position","relative"),de[0].outerHTML;var R=t.colors[E],J="";return J+="<div style='margin-top: 2px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+R+"; margin-left: 2%;'></div>",J};we.jqxDropDownList({height:27,rtl:t.rtl,selectedIndex:-1,placeHolder:t.schedulerLocalization.editDialogColorPlaceHolderString,selectionRenderer:xe,renderer:je,source:t.colors,width:"100%",theme:t.theme}),t.editDialogFields.color=we,t.editDialogFields.colorLabel=he,t.editDialogFields.colorContainer=ve;var ie=a("<div></div>");p.append(ie);var re=a("<div class='"+t._editDialogLabel()+"'>"+t.schedulerLocalization.editDialogStatusString+"</div>").appendTo(ie),I=a("<div class='"+t._editDialogField()+"'></div>").appendTo(ie),le=a("<div></div>").appendTo(I);le.jqxDropDownList({height:27,rtl:t.rtl,selectedIndex:2,autoDropDownHeight:!0,source:t.schedulerLocalization.editDialogStatuses,width:"100%",theme:t.theme}),t.editDialogFields.status=le,t.editDialogFields.statusLabel=re,t.editDialogFields.statusContainer=ie;var De=a("<div></div>");p.append(De);for(var _e=a("<div class='"+t._editDialogLabel()+"'>"+t.schedulerLocalization.editDialogResourceIdString+"</div>").appendTo(De),ue=a("<div class='"+t._editDialogField()+"'></div>").appendTo(De),Se=a("<div></div>").appendTo(ue),qe=new Array,ee=0;ee<t._resources.length;ee++)qe.push(t._resources[ee]);var Me=!0;qe.length>10&&(Me=!1),Se.jqxDropDownList({height:27,rtl:t.rtl,source:qe,selectedIndex:0,autoDropDownHeight:Me,width:"100%",theme:t.theme}),t.editDialogFields.resource=Se,t.editDialogFields.resourceLabel=_e,t.editDialogFields.resourceContainer=De,qe.length==0&&De.hide(),!e&&r&&t.editDialogFields.resource.val(r.resourceId);var Le=a("<div></div>");p.append(Le);var oe=a("<div style='width:100%;' class='"+t._editDialogField()+"'></div>").appendTo(Le),Pe=a("<button style='margin-left: 5px; float:right;'>"+t.schedulerLocalization.editDialogCancelString+"</button>").appendTo(oe),be=a("<button style='margin-left: 5px; float:right;'>"+t.schedulerLocalization.editDialogDeleteString+"</button>").appendTo(oe),ge=a("<button style='display: none; margin-left: 5px; float:right;'>"+t.schedulerLocalization.editDialogRepeatDeleteSeriesString+"</button>").appendTo(oe),Ie=a("<button style='display: none; margin-left: 5px; float:right;'>"+t.schedulerLocalization.editDialogRepeatDeleteString+"</button>").appendTo(oe),Be=a("<button style='margin-left: 5px; float:right;'>"+t.schedulerLocalization.editDialogSaveString+"</button>").appendTo(oe),He=a("<button style='display: none; margin-left: 5px; float:right;'>"+t.schedulerLocalization.editDialogRepeatSaveSeriesString+"</button>").appendTo(oe),Ce=a("<button style='display: none; margin-left: 5px; float:right;'>"+t.schedulerLocalization.editDialogRepeatSaveString+"</button>").appendTo(oe);t.isTouchDevice(),be.jqxButton({rtl:t.rtl,theme:t.theme}),ge.jqxButton({rtl:t.rtl,theme:t.theme}),Ie.jqxButton({rtl:t.rtl,theme:t.theme}),Be.jqxButton({rtl:t.rtl,theme:t.theme}),Pe.jqxButton({rtl:t.rtl,theme:t.theme}),He.jqxButton({rtl:t.rtl,theme:t.theme}),Ce.jqxButton({rtl:t.rtl,theme:t.theme}),He.hide(),Ce.hide(),Be.addClass("primary"),Ce.addClass("primary"),He.addClass("primary"),be.addClass("jqx-danger"),t.editDialogFields.saveOccurrenceButton=Ce,t.editDialogFields.saveSeriesButton=He,t.editDialogFields.saveButton=Be,t.editDialogFields.cancelButton=Pe,t.editDialogFields.deleteButton=be,t.editDialogFields.deleteSeriesButton=ge,t.editDialogFields.deleteExceptionsButton=Ie,t.editDialogFields.buttons=oe,t.addHandler(be,"click",function(){q.jqxWindow("close"),t.overlay.hide(),t._deleteAppointment(t.editAppointment)}),t.addHandler(Pe,"click",function(){q.jqxWindow("close"),t.overlay.hide()}),t.addHandler(Ce,"click",function(){if(!t.editAppointment.isException())t.editAppointment.rootAppointment!=null?(t.editAppointment.rootAppointment.exceptions.push(t.editAppointment),t.editAppointment.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(t.editAppointment.exceptions.push(t.editAppointment),t.editAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom));else for(var de=t.editAppointment.rootAppointment?t.editAppointment.rootAppointment.exceptions:t.editAppointment.exceptions,E=0;E<de.length;E++)if(de[E].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){de[E]=t.editAppointment;break}var R=t._setAppointmentPropertiesFromDialog(t.editAppointment,"occurrence");R&&(t.changedAppointments[t.editAppointment.id]={type:"Update",appointment:t.editAppointment.boundAppointment},t._raiseEvent("appointmentChange",{appointment:t.editAppointment.boundAppointment}),t._renderrows(),q.jqxWindow("close"),t.overlay.hide())}),t.addHandler(He,"click",function(){var de=t.editAppointment;de.rootAppointment&&(de=de.rootAppointment);var E=t._setAppointmentPropertiesFromDialog(de,"series");E&&(t.changedAppointments[de.id]={type:"Update",appointment:de.boundAppointment},t._raiseEvent("appointmentChange",{appointment:de.boundAppointment}),t._renderrows(),q.jqxWindow("close"),t.overlay.hide())}),t.addHandler(Be,"click",function(){var de=!0;if(t.editAppointment==null){var E=new a.jqx.scheduler.appointment;de=t._setAppointmentPropertiesFromDialog(E,"none"),de&&t.addAppointment(E)}else t.editAppointment.rootAppointment?(Ce.trigger("click"),de=!1):t.editAppointment.isRecurrentAppointment()?(He.trigger("click"),de=!1):(de=t._setAppointmentPropertiesFromDialog(t.editAppointment,"none"),de&&(t.changedAppointments[t.editAppointment.id]={type:"Update",appointment:t.editAppointment?t.editAppointment.boundAppointment:null},t._raiseEvent("appointmentChange",{appointment:t.editAppointment.boundAppointment}),t._renderrows()));de&&(q.jqxWindow("close"),t.overlay.hide())}),t.addHandler(q,"close",function(de){t.overlay.hide(),t.focus(),t.editDialogClose&&t.editDialogClose(q,t.editDialogFields,t.editAppointment?t.editAppointment.boundAppointment:null),t._raiseEvent("editDialogClose",{dialog:q,fields:t.editDialogFields,appointment:t.editAppointment?t.editAppointment.boundAppointment:null})}),t.editDialogCreate&&t.editDialogCreate(q,t.editDialogFields,t.editAppointment),t._raiseEvent("editDialogCreate",{dialog:q,fields:t.editDialogFields,appointment:t.editAppointment?t.editAppointment.boundAppointment:null}),q.jqxWindow({height:p[0].scrollHeight+40})}}),t._editDialog=q}t.dialogOpenings||(t.dialogOpenings=0),t.removeHandler(t._editDialog,"open"),t.addHandler(t._editDialog,"open",function(p){if(t.editDialogOpen&&t.editDialogFields){var j=t.editDialogOpen(t._editDialog,t.editDialogFields,t.editAppointment?t.editAppointment.boundAppointment:null);if(j==!0)return}t.rtl&&(t._editDialog.find(".jqx-scheduler-edit-dialog-label").addClass(t.toThemeProperty("jqx-scheduler-edit-dialog-label-rtl")),t._editDialog.find(".jqx-scheduler-edit-dialog-field").addClass(t.toThemeProperty("jqx-scheduler-edit-dialog-field-rtl")),t.editDialogFields.saveOccurrenceButton.css("float","left"),t.editDialogFields.saveSeriesButton.css("float","left"),t.editDialogFields.saveButton.css("float","left"),t.editDialogFields.cancelButton.css("float","left"),t.editDialogFields.deleteButton.css("float","left"),t.editDialogFields.deleteSeriesButton.css("float","left"),t.editDialogFields.deleteExceptionsButton.css("float","left"),t.editDialogFields.buttons.css("width","auto"),t.editDialogFields.allDay.css("float","right")),setTimeout(function(){var T=t.editAppointment?t.editAppointment.boundAppointment:null;t.editAppointment&&t.editAppointment.rootAppointment&&(T=t.editAppointment.rootAppointment.boundAppointment),t._raiseEvent("editDialogOpen",{dialog:t._editDialog,fields:t.editDialogFields,appointment:T})});var x=function(){setTimeout(function(){i?t.editDialogFields.deleteButton.focus():(t.editDialogFields.subject.focus(),t.editDialogFields.subject.select())},1)},A=t.editAppointment==null?t.schedulerLocalization.editDialogCreateTitleString:t.schedulerLocalization.editDialogTitleString;if(t._editDialog.jqxWindow({title:A}),t.dialogOpenings==0&&!e){t.dialogOpenings++,t.isTouchDevice()||(t._editDialog.jqxWindow({height:150}),t._editDialog.jqxWindow({height:a(t._editDialog.children())[1].scrollHeight+40})),t.editDialogFields.deleteButton.hide(),x();return}t.editDialogFields&&(t.editDialogFields.subject.val(""),t.editDialogFields.location.val(""),x(),t.editDialogFields.resetExceptions.val(!1),t.editDialogFields.description.val(""),e||t.editDialogFields.deleteButton.hide(),e?(t.dialogOpenings++,t.editDialogFields.deleteButton.show(),t.editDialogFields.subject.val(e.subject),t.editDialogFields.location.val(e.location),t.editDialogFields.description.val(e.description),t.editDialogFields.timeZone.val(e.timeZone),t.colors.indexOf(e.borderColor)>=0?t.editDialogFields.color.val(e.borderColor):t.editDialogFields.color.jqxDropDownList("clearSelection"),t.editDialogFields.allDay.val(e.allDay),t.editDialogFields.resource.val(e.resourceId),t.editDialogFields.status.val(e.status),e.timeZone&&(e.from=e.from.toTimeZone(e.timeZone),e.to=e.to.toTimeZone(e.timeZone)),c=e.from,d=e.to,a.jqx.scheduler.utilities.getStartOfDay(c).equals(c)&&a.jqx.scheduler.utilities.getEndOfDay(d).equals(d)&&t.editDialogFields.allDay.val(!0),t._setAppointmentPropertiesToDialog(e,c,d,r?r.resourceId:null)):(t.editDialogFields.saveButton.show(),t._setAppointmentPropertiesToDialog(null,c,d,r?r.resourceId:null)),c&&d&&(t._changeFromUser=!1,t.editDialogFields.from.val(c.toDate()),t.editDialogFields.to.val(d.toDate()),t._changeFromUser=!0),t.isTouchDevice()||(t._editDialog.jqxWindow({height:150}),t._editDialog.jqxWindow({height:a(t._editDialog.children())[1].scrollHeight+40})))}),t.removeHandler(t._editDialog,"keydown"),t.addHandler(t._editDialog,"keydown",function(p){if(t.editDialogKeyDown){var j=t.editDialogKeyDown(q,t.editDialogFields,t.editAppointment,p);if(j!=null)return j}if(p.keyCode==13){if(a(document.activeElement).ischildof(t._editDialog)){if(document.activeElement.nodeName.toLowerCase()=="button")return!0;e?e.isException()||e.rootAppointment?t.editDialogFields.saveOccurrenceButton.trigger("click"):e.isRecurrentAppointment()?t.editDialogFields.saveSeriesButton.trigger("click"):t.editDialogFields.saveButton.trigger("click"):t.editDialogFields.saveButton.trigger("click")}}else p.keyCode==27&&t.editDialogFields.cancelButton.trigger("click")})},openMenu:function(e,i){var t=this;if(t.menu||t._initMenu(),t._views[t._view].type,t.contextMenu&&t.menu){if(t.selectedAppointment?t.menu.jqxMenu("showItem","editAppointment"):t.menu.jqxMenu("hideItem","editAppointment"),arguments.length<2){if(t.selectedAppointment){var r=t.selectedAppointment.coord();e=r.left,i=r.top}else if(t.focusedCell)var r=a(t.focusedCell).coord();e=r.left,i=r.top}t.menu.jqxMenu("open",e,i),t._hasOpenedMenu=!0}},closeMenu:function(){var e=this;e.contextMenu&&e.menu&&setTimeout(function(){e.menu.jqxMenu("close")})},closeDialog:function(){var e=this;e._editDialog.jqxWindow("close")},openDialog:function(e,i){var t=this;if(t._views[t._view].type,t.selectedJQXAppointment){var r=t._initDialog(t.selectedJQXAppointment);r!==!1&&t._openDialog(e,i)}else t.getSelection()==null&&(t.focus(),t.focusedCell.setAttribute("data-selected","true"),t._lastSelectedCell=t.focusedCell,t._updateCellsSelection(t.focusedCell)),t._initDialog(),t._openDialog(e,i)},_openDialog:function(e,i){var t=this;if(t._views[t._view].type,!!t.editDialog){var r=t.host.coord();t.overlay.show(),t.overlay.css("z-index",9999999),t.overlay.width(t.host.width()),t.overlay.height(t.host.height()),t.overlay.offset(r);var o=t.isTouchDevice();if(o)t._editDialog.jqxWindow("move",r.left,r.top),t._editDialog.jqxWindow({draggable:!1,maxWidth:t.host.width(),maxHeight:t.host.height()}),t._editDialog.jqxWindow({width:t.host.width(),height:t.host.height()}),t._editDialog.jqxWindow("open"),t._editDialog.jqxWindow("move",r.left,r.top);else if(e!=null&&i!=null)t._editDialog.jqxWindow("move",e,i),t._editDialog.jqxWindow("open");else{var n=t._editDialog.height();n<400&&(n=400);var l=r.top+t.host.height()/2-n/2,c=r.left+t.host.width()/2-t._editDialog.width()/2;t._editDialog.jqxWindow("move",c,l),t._editDialog.jqxWindow("open")}setTimeout(function(){t.overlay.css("z-index",999)},50)}},_setAppointmentPropertiesFromDialog:function(e,i){var t=this,r=(function(o){var n=t._views[t._view].type;t._views[t._view];var l=t.editDialogFields.from.val("date"),c=t.editDialogFields.to.val("date");if(l>c)return t.editDialogFields.from.jqxDateTimeInput("focus"),!1;if(l==c)return n.indexOf("month")>=0;if(o.resourceId=t.editDialogFields.resource.val(),t.editDialogFields.resourceContainer.css("display")=="none"&&(o.resourceId=""),o.description=t.editDialogFields.description.val(),o.allDay=t.editDialogFields.allDay.val(),o.status=t.editDialogFields.status.val(),o.location=t.editDialogFields.location.val(),o.timeZone=t.editDialogFields.timeZone.val(),o.timeZone==""&&t.timeZone!=""&&(o.timeZone=t.timeZone),o.from=new a.jqx.date(l,o.timeZone),o.to=new a.jqx.date(c,o.timeZone),t.timeZone?(o.from=o.from.toTimeZone(t.timeZone),o.to=o.to.toTimeZone(t.timeZone)):(o.from=o.from.toTimeZone(null),o.to=o.to.toTimeZone(null)),o.allDay&&(o.from=a.jqx.scheduler.utilities.getStartOfDay(o.from),o.to=a.jqx.scheduler.utilities.getEndOfDay(o.to)),t.editDialogFields.color.val()){var d=t.getAppointmentColors(t.editDialogFields.color.val());o.color=d.color,o.background=d.background,o.borderColor=d.border}o.subject=t.editDialogFields.subject.val();var m=t.editDialogFields.repeat.jqxDropDownList("selectedIndex"),u=new a.jqx.scheduler.recurrencePattern,s=t.editDialogFields.repeatEndPanel;if(u.timeZone=t.timeZone,u.from=o.from.clone(),i=="occurrence"&&o.rootAppointment&&(u.from=o.rootAppointment.from.clone()),t.editDialogFields.resetExceptions.val()&&(o.exceptions=new Array,o.recurrenceException=new Array),s.repeatEndNever.val())u.count=1e3,u.to=new a.jqx.date(9999,12,31);else if(s.repeatEndAfter.val())u.count=s.repeatEndAfterValue.val(),u.to=new a.jqx.date(9999,12,31);else if(s.repeatEndOn.val()){u.count=1e3;var c=new a.jqx.date(s.repeatEndOnValue.jqxDateTimeInput("getDate"),t.timeZone);u.to=c}switch(m){case 0:default:o.clearRecurrence();break;case 1:var f=t.editDialogFields.daily,g=f.repeatDayInterval.val();u.interval=g,u.freq="daily";break;case 2:var w=t.editDialogFields.weekly,g=w.repeatWeekInterval.val(),b=[{Sunday:0},{Monday:1},{Tuesday:2},{Wednesday:3},{Thursday:4},{Friday:5},{Saturday:6}],q=w.repeatDays,p=new Array;u.weekDays={};for(var j=0;j<7;j++){var x=q[j].val();x&&(j==0?p.push(6):p.push(j-1),a.extend(u.weekDays,b[j]))}u.freq="weekly",u.byweekday=p,u.interval=g;break;case 3:var A=t.editDialogFields.monthly,g=A.repeatMonth.val();if(A.repeatMonthDayBool.val())u.day=A.repeatMonthDay.val(),u.bymonthday=new Array,u.bymonthday.push(u.day);else{var T=A.repeatDayOfWeek.jqxDropDownList("selectedIndex"),h=new Array;T==0?T=6:T--;var v=A.repeatDayOfWeekType.jqxDropDownList("selectedIndex"),y="";switch(v){case 0:y=1;break;case 1:y=2;break;case 2:y=3;break;case 3:y=4;break;case 4:y=-1;break}h.push([T,y]),u.bynweekday=h}u.freq="monthly",u.interval=g;break;case 4:var D=t.editDialogFields.yearly,g=D.repeatYear.val();if(D.repeatYearBool.val())u.day=D.repeatYearDay.val(),u.month=D.repeatYearMonth.jqxDropDownList("selectedIndex"),u.bymonth=new Array,u.bymonth.push(1+u.month),u.byyearday=new Array,u.byyearday.push(u.day);else{u.month=D.repeatDayOfWeekMonth.jqxDropDownList("selectedIndex"),u.bymonth=new Array,u.bymonth.push(1+u.month);var T=D.repeatDayOfWeek.jqxDropDownList("selectedIndex"),h=new Array;T==0?T=6:T--;var v=D.repeatDayOfWeekType.jqxDropDownList("selectedIndex"),y="";switch(v){case 0:y=1;break;case 1:y=2;break;case 2:y=3;break;case 3:y=4;break;case 4:y=-1;break}h.push([T,y]),u.bynweekday=h}u.freq="yearly",u.interval=g;break}o.rootAppointment?o.rootAppointment.recurrencePattern=u:m>0&&(o.recurrencePattern=u);var C={},H={};for(var S in t.appointmentDataFields){var k=t.appointmentDataFields[S],O=o[S];C[S]=O,(S=="from"||S=="to")&&(O=O.toDate()),H[k]=O}return C.originalData=H,C.jqxAppointment=o,o.boundAppointment=C,!0})(e);return r},_setAppointmentPropertiesToDialog:function(e,i,t,r){var o=this,n=function(){var c=o.editDialogFields.repeatEndPanel;c.repeatEndNever.jqxRadioButton({checked:!0}),c.repeatEndAfter.jqxRadioButton({checked:!1}),c.repeatEndAfterValue.val(1),c.repeatEndOnValue.val(d);var d=t.toDate();if(o.editDialogFields.daily){var m=o.editDialogFields.daily;m.repeatDayInterval.val(1)}if(o.editDialogFields.weekly){for(var u=o.editDialogFields.weekly,s=0;s<u.repeatDays.length;s++)s==1?u.repeatDays[s].jqxCheckBox({checked:!0}):u.repeatDays[s].jqxCheckBox({checked:!1});u.repeatWeekInterval.val(1)}if(o.editDialogFields.monthly){var f=o.editDialogFields.monthly;f.repeatDayOfWeek.jqxDropDownList("selectIndex",1),f.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),f.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),f.repeatMonthDayBool.jqxRadioButton({checked:!0}),f.repeatMonthDay.val(1),f.repeatMonth.val(1)}if(o.editDialogFields.yearly){var w=o.editDialogFields.yearly;w.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",0),w.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),w.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),w.repeatDayOfWeek.jqxDropDownList("selectIndex",1),w.repeatYear.val(1),w.repeatYearMonth.jqxDropDownList("selectIndex",0),w.repeatYearDay.val(1),w.repeatYearBool.val(!0)}};if(n(),e&&e.isRecurrentAppointment()?e.rootAppointment?o.editDialogFields.resetExceptionsContainer.hide():o.editDialogFields.resetExceptionsContainer.show():e&&(o.editDialogFields.resetExceptionsContainer.hide(),o.editDialogFields.repeat.jqxDropDownList("selectIndex",0)),!e){o.editDialogFields.timeZone.jqxDropDownList("clearSelection"),r?o.editDialogFields.resource.val(r):o.editDialogFields.resource.jqxDropDownList("selectIndex",0),o.editDialogFields.allDay.val(!1),(o._views[o._view].type.indexOf("month")>=0||i&&i.equals(t)||t&&t.equals(a.jqx.scheduler.utilities.getEndOfDay(t))&&i&&i.equals(a.jqx.scheduler.utilities.getStartOfDay(i)))&&o.editDialogFields.allDay.val(!0),o.editDialogFields.color.jqxDropDownList("clearSelection"),o.editDialogFields.description.val(""),o.editDialogFields.subject.val(""),o.editDialogFields.repeat.jqxDropDownList("selectIndex",0);return}var l=function(c){var d=c.recurrencePattern;if(c.rootAppointment)var d=c.rootAppointment.recurrencePattern;if(d!=null){var m=d.freq,u=0;m=="daily"&&(u=1),m=="weekly"&&(u=2),m=="monthly"&&(u=3),m=="yearly"&&(u=4);var s=o.editDialogFields.repeatEndPanel;switch(d.count!=1e3?(s.repeatEndNever.jqxRadioButton({checked:!1}),s.repeatEndAfter.jqxRadioButton({checked:!0}),s.repeatEndAfterValue.val(d.count)):d.to.year()!=9999?(s.repeatEndOn.jqxRadioButton({checked:!0}),s.repeatEndOnValue.val(d.to.toDate())):s.repeatEndNever.jqxRadioButton({checked:!0}),o.editDialogFields.repeat.jqxDropDownList("selectIndex",u),u){case 1:var w=d.interval,f=o.editDialogFields.daily;f.repeatDayInterval.val(w);break;case 2:var w=d.interval,b=o.editDialogFields.weekly;b.repeatWeekInterval.val(w);for(var q=d.byweekday,p=0;p<7;p++){var j=b.repeatDays[p];j.val(!1)}for(var p=0;p<q.length;p++){var j=q[p];j==6?b.repeatDays[0].val(!0):b.repeatDays[j+1].val(!0)}break;case 3:var x=o.editDialogFields.monthly;if(x.repeatMonth.val(d.interval),d.bymonthday&&d.bymonthday.length>0)x.repeatMonthDayBool.jqxRadioButton({checked:!0}),x.repeatMonthDay.val(d.day);else{x.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var A=d.bynweekday,T=A[0][0];T++,T==7&&(T=0),x.repeatDayOfWeek.jqxDropDownList("selectIndex",T);var h=A[0][1],v="";switch(h){case 1:v=0;break;case 2:v=1;break;case 3:v=2;break;case 4:v=3;break;case-1:v=4;break}x.repeatDayOfWeekType.jqxDropDownList("selectIndex",v)}break;case 4:var y=o.editDialogFields.yearly;if(d.byyearday&&d.byyearday.length>0&&(y.repeatYearDay.val(d.byyearday[0]),y.repeatYearBool.val(!0)),d.bymonth&&d.bymonth.length>0&&(y.repeatYearMonth.jqxDropDownList("selectIndex",d.bymonth[0]-1),y.repeatYearBool.val(!0)),!d.byyearday||d.byyearday&&d.byyearday.length==0){y.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",d.bymonth[0]-1),y.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var A=d.bynweekday,T=A[0][0];T++,T==7&&(T=0),y.repeatDayOfWeek.jqxDropDownList("selectIndex",T);var h=A[0][1],v="";switch(h){case 1:v=0;break;case 2:v=1;break;case 3:v=2;break;case 4:v=3;break;case-1:v=4;break}y.repeatDayOfWeekType.jqxDropDownList("selectIndex",v)}break}}};l(e)}}),a.jqx.scheduler.column=function(e,i){return this.owner=e,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="center",this.cellsalign="center",this.width="auto",this.minwidth=60,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(t,r){if(this[t]){var o=this[t];this[t]=r,this.owner._columnPropertyChanged(this,t,r,o)}else if(this[t.toLowerCase()]){var o=this[t.toLowerCase()];this[t.toLowerCase()]=r,this.owner._columnPropertyChanged(this,t.toLowerCase(),r,o)}},this._initfields=function(t){if(t!=null){var r=this;if(a.jqx.hasProperty(t,"dataField")&&(this.datafield=a.jqx.get(t,"dataField")),a.jqx.hasProperty(t,"displayField")?this.displayfield=a.jqx.get(t,"displayField"):this.displayfield=this.datafield,a.jqx.hasProperty(t,"columnType")&&(this.columntype=a.jqx.get(t,"columnType")),a.jqx.hasProperty(t,"validation")&&(this.validation=a.jqx.get(t,"validation")),a.jqx.hasProperty(t,"autoCellHeight")&&(this.autoCellHeight=a.jqx.get(t,"autoCellHeight")),a.jqx.hasProperty(t,"text")?this.text=a.jqx.get(t,"text"):this.text=this.displayfield,a.jqx.hasProperty(t,"sortable")&&(this.sortable=a.jqx.get(t,"sortable")),a.jqx.hasProperty(t,"hidden")&&(this.hidden=a.jqx.get(t,"hidden")),a.jqx.hasProperty(t,"groupable")&&(this.groupable=a.jqx.get(t,"groupable")),a.jqx.hasProperty(t,"renderer")&&(this.renderer=a.jqx.get(t,"renderer")),a.jqx.hasProperty(t,"align")&&(this.align=a.jqx.get(t,"align")),a.jqx.hasProperty(t,"cellsAlign")&&(this.cellsalign=a.jqx.get(t,"cellsAlign")),a.jqx.hasProperty(t,"cellsFormat")&&(this.cellsFormat=a.jqx.get(t,"cellsFormat")),a.jqx.hasProperty(t,"width")&&(this.width=a.jqx.get(t,"width")),a.jqx.hasProperty(t,"minWidth")&&(this.minwidth=a.jqx.get(t,"minWidth")),a.jqx.hasProperty(t,"maxWidth")&&(this.maxwidth=a.jqx.get(t,"maxWidth")),a.jqx.hasProperty(t,"cellsRenderer")&&(this.cellsRenderer=a.jqx.get(t,"cellsRenderer")),a.jqx.hasProperty(t,"columnType")&&(this.columntype=a.jqx.get(t,"columnType")),a.jqx.hasProperty(t,"pinned")&&(this.pinned=a.jqx.get(t,"pinned")),a.jqx.hasProperty(t,"filterable")&&(this.filterable=a.jqx.get(t,"filterable")),a.jqx.hasProperty(t,"filter")&&(this.filter=a.jqx.get(t,"filter")),a.jqx.hasProperty(t,"resizable")&&(this.resizable=a.jqx.get(t,"resizable")),a.jqx.hasProperty(t,"draggable")&&(this.draggable=a.jqx.get(t,"draggable")),a.jqx.hasProperty(t,"editable")&&(this.editable=a.jqx.get(t,"editable")),a.jqx.hasProperty(t,"initEditor")&&(this.initeditor=a.jqx.get(t,"initEditor")),a.jqx.hasProperty(t,"createEditor")&&(this.createeditor=a.jqx.get(t,"createEditor")),a.jqx.hasProperty(t,"destroyEditor")&&(this.destroyeditor=a.jqx.get(t,"destroyEditor")),a.jqx.hasProperty(t,"getEditorValue")&&(this.geteditorvalue=a.jqx.get(t,"getEditorValue")),a.jqx.hasProperty(t,"className")&&(this.classname=a.jqx.get(t,"className")),a.jqx.hasProperty(t,"cellClassName")&&(this.cellclassname=a.jqx.get(t,"cellClassName")),a.jqx.hasProperty(t,"rendered")&&(this.rendered=a.jqx.get(t,"rendered")),a.jqx.hasProperty(t,"exportable")&&(this.exportable=a.jqx.get(t,"exportable")),a.jqx.hasProperty(t,"nullable")&&(this.nullable=a.jqx.get(t,"nullable")),a.jqx.hasProperty(t,"columnGroup")&&(this.columngroup=a.jqx.get(t,"columnGroup")),!t instanceof String&&typeof t!="string"){for(var o in t)if(!r.hasOwnProperty(o)&&!r.hasOwnProperty(o.toLowerCase()))throw e.host.remove(),new Error("jqxScheduler: Invalid property name - "+o+".")}}},this._initfields(i),this},a.jqx.schedulerDataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(i,t){this.records[i]=t},this.isempty=function(i){return this.records[i]==null},this.initialize=function(i){i<1&&(i=1),this.records[i-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(i){return this.records.indexOf(i)},this.add=function(i){return i==null?!1:(this.records[this.records.length]=i,!0)},this.insertAt=function(i,t){return i==null||i==null||t==null?!1:i>=0?i<this.records.length?(this.records.splice(i,0,t),!0):this.add(t):!1},this.remove=function(i){if(i==null||i==null)return!1;var t=this.records.indexOf(i);return t!=-1?(this.records.splice(t,1),!0):!1},this.removeAt=function(i){return i==null||i==null||i<0?!1:i<this.records.length?(this.records[i],this.records.splice(i,1),!0):!1},this},a.jqx.scheduler.dataView=function(e){return this.that=this,this.scheduler=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(i,t){var c=this;if(a.isArray(i)){c.update(i);return}var r=!!i._source,o=null;this._sortData=null,this._sortHierarchyData=null,r?(o=i,i=i._source):o=new a.jqx.dataAdapter(i,{autoBind:!1});var n=function(s){o.recordids=[],o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o._options.totalrecords=s.totalrecords,o._options.originaldata=s.originaldata,o._options.recordids=s.recordids,o._options.cachedrecords=new Array,o._options.pagenum=s.pagenum,o._options.pageable=s.pageable,i.type!=null&&(o._options.type=i.type),i.formatdata!=null&&(o._options.formatData=i.formatdata),i.contenttype!=null&&(o._options.contentType=i.contenttype),i.async!=null&&(o._options.async=i.async),i.updaterow!=null&&(o._options.updaterow=i.updaterow),i.addrow!=null&&(o._options.addrow=i.addrow),i.deleterow!=null&&(o._options.deleterow=i.deleterow),s.pagesize==0&&(s.pagesize=10),o._options.pagesize=s.pagesize},l=function(s){s.originaldata=o.originaldata,s.records=o.records,s.hierarchy=o.hierarchy,s.scheduler.serverProcessing||(s._sortData=null,s._sortfield=null,s._filteredData=null,s._sortHierarchyData=null),s.hierarchy||(s.hierarchy=new Array,o.hierarchy=new Array),o._source.totalrecords?s.totalrecords=o._source.totalrecords:o._source.totalRecords?s.totalrecords=o._source.totalRecords:s.hierarchy.length!==0?s.totalrecords=s.hierarchy.length:s.totalrecords=s.records.length,s.cachedrecords=o.cachedrecords};n(this),this.source=i;var c=this;switch(i.datatype){case"local":case"array":default:if(i.localdata==null&&(i.localdata=[]),i.localdata!=null){o.unbindBindingUpdate(e+c.scheduler.element.id),(!c.scheduler.autoBind&&c.scheduler.isInitialized||c.scheduler.autoBind)&&o.dataBind();var u=function(){l(c),c.update(o.records)};u(),o.bindBindingUpdate(e+c.scheduler.element.id,u)}break;case"ics":case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(i.localdata!=null){o.unbindBindingUpdate(e+c.scheduler.element.id),(!c.scheduler.autoBind&&c.scheduler.isInitialized||c.scheduler.autoBind)&&o.dataBind();var u=function(f){l(c),c.update(o.records)};u(),o.bindBindingUpdate(e+c.scheduler.element.id,u);return}var d={},m=o._options.data;o._options.data?a.extend(o._options.data,d):(i.data&&a.extend(d,i.data),o._options.data=d);var u=function(){var s=a.jqx.browser.msie&&a.jqx.browser.version<9,f=function(){l(c),c.update(o.records)};if(s)try{f()}catch{}else f()};o.unbindDownloadComplete(e+c.scheduler.element.id),o.bindDownloadComplete(e+c.scheduler.element.id,u),o._source.loaderror=function(s,f,w){u()},(!c.scheduler.autoBind&&c.scheduler.isInitialized||c.scheduler.autoBind)&&o.dataBind(),o._options.data=m}},this.addFilter=function(i,t){this._sortData=null,this._sortHierarchyData=null;for(var r=-1,o=0;o<this.filters.length;o++)if(this.filters[o].datafield==i){r=o;break}r==-1?this.filters[this.filters.length]={filter:t,datafield:i}:this.filters[r]={filter:t,datafield:i}},this.removeFilter=function(i){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==i){this.filters.splice(t,1);break}},this._compare=function(o,n,r){var o=o,n=n;if(o===void 0&&(o=null),n===void 0&&(n=null),o===null&&n===null)return 0;if(o===null&&n!==null||o!==null&&n===null)return 1;if(o=o.toString(),n=n.toString(),a.jqx.dataFormat)if(r&&r!="")switch(r){case"number":case"int":case"float":return o<n?-1:o>n?1:0;case"date":case"time":return o<n?-1:o>n?1:0;case"string":case"text":o=String(o).toLowerCase(),n=String(n).toLowerCase();break}else{if(a.jqx.dataFormat.isNumber(o)&&a.jqx.dataFormat.isNumber(n))return o<n?-1:o>n?1:0;if(a.jqx.dataFormat.isDate(o)&&a.jqx.dataFormat.isDate(n))return o<n?-1:o>n?1:0;!a.jqx.dataFormat.isNumber(o)&&!a.jqx.dataFormat.isNumber(n)&&(o=String(o).toLowerCase(),n=String(n).toLowerCase())}try{if(o<n)return-1;if(o>n)return 1}catch{}return 0},this._equals=function(i,t){return this._compare(i,t)===0},this.evaluate=function(i){if(this.scheduler.serverProcessing)return i;var t=new Array;if(this.filters.length){var r=new Array,o=function(u,s){for(var f=0;f<u.length;f++){var w=u[f];w._visible=!0;for(var b=void 0,q=0;q<this.filters.length;q++){var p=this.filters[q].filter,j=w[this.filters[q].datafield],x=p.evaluate(j);b==null?b=x:p.operator=="or"?b=b||x:b=b&&x}w._visible=!1,(b||w.aggregate)&&(w._visible=!0,s.push(w),r[w.uid]=w)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.scheduler.source.hierarchy&&this.scheduler.source.hierarchy.length>0){var n=new Array,l=function(u,s){for(var f=0;f<s.length;f++){var w=s[f];n.push(w),w.records&&w.records.length>0&&l(w,w.records)}};l(null,i),o.call(this,n,t);for(var c=0;c<t.length;c++)for(var d=t[c];d.parent;){var m=d.parent;r[m.uid]||(m._visible=!0,r[m.uid]=m),d=m}t=i}else o.call(this,i,t);this._filteredData=t,this.rows=t}}else this.rows=i;return this.rows},this.getid=function(i,t,r){if(a(i,t).length>0)return a(i,t).text();if(this.rows&&i!=""&&i!=null&&this.rows.length>0){var o=this.rows[this.rows.length-1][i];o==null&&(o=null);for(var n=1;n<=100;n++){var l=this.scheduler.appointmentsByKey[n+o];if(!l){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var l=this.scheduler.appointmentsByKey["jqx"+o+n];if(l)continue;return"jqx"+o+n}return o+n}}}if(i!=null&&i.toString().length>0){var c=a(t).attr(i);if(c!=null&&c.toString().length>0)return this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords?"jqx"+c:c}if(this.rows&&this.rows.length>0){var l=this.scheduler.appointmentsByKey[r];if(l){var o=this.rows[this.rows.length-1][i];o==null&&(o="");for(var n=1;n<=1e3;n++){var l=this.scheduler.appointmentsByKey[n+o];if(!l){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var l=this.scheduler.appointmentsByKey["jqx"+o+n];if(l)continue;return"jqx"+o+n}return o+n}}}}if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var l=this.scheduler.appointmentsByKey["jqx"+r];if(l)for(var n=r+1;n<=100;n++){var l=this.scheduler.appointmentsByKey["jqx"+n];if(!l){var l=this.scheduler.appointmentsByKey["jqx"+n];if(l)continue;return"jqx"+n}}else return"jqx"+r}return r},this.generatekey=function(){var i=function(){return(1+Math.random())*16|0};return""+i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()},this}})(jqxBaseFramework))})();const jt={props:{appointmentOpacity:Number,appointmentsMinHeight:Number,appointmentDataFields:Object,appointmentTooltips:{default:!0,type:Boolean},columnsHeight:Number,contextMenu:{default:!0,type:Boolean},contextMenuOpen:Function,contextMenuClose:Function,contextMenuItemClick:Function,contextMenuCreate:Function,changedAppointments:Array,disabled:{default:!1,type:Boolean},date:[Object,Date],dayNameFormat:String,enableHover:{default:!0,type:Boolean},editDialog:{default:!0,type:Boolean},editDialogDateTimeFormatString:String,editDialogDateFormatString:String,editDialogOpen:Function,editDialogCreate:Function,editDialogKeyDown:Function,editDialogClose:Function,exportSettings:Object,height:[Number,String],legendPosition:String,legendHeight:Number,localization:Object,min:[Object,Date],max:[Object,Date],ready:Function,renderAppointment:Function,rendering:Function,rendered:Function,rtl:{default:!1,type:Boolean},resources:Object,rowsHeight:Number,showToolbar:{default:!0,type:Boolean},showLegend:{default:!1,type:Boolean},showCurrent:{default:!0,type:Boolean},showCurrentAppointment:{default:!0,type:Boolean},scrollBarSize:Number,source:Object,statuses:Object,touchRowsHeight:Number,theme:String,touchAppointmentsMinHeight:Number,touchScrollBarSize:Number,timeZone:String,touchDayNameFormat:String,toolBarRangeFormat:String,toolBarRangeFormatAbbr:String,toolbarHeight:Number,views:Array,view:[Number,String],width:[Number,String],autoCreate:{default:!0,type:Boolean}},emits:["appointmentChange","appointmentClick","appointmentDoubleClick","appointmentDelete","appointmentAdd","bindingComplete","cellClick","cellDoubleClick","contextMenuOpen","contextMenuClose","contextMenuItemClick","contextMenuCreate","dateChange","editRecurrenceDialogOpen","editRecurrenceDialogClose","editDialogCreate","editDialogOpen","editDialogClose","viewChange"],setup(a,e){const i="jqxScheduler"+JQXLite.generateID(),t="#"+i;function r(_){a.autoCreate?console.warn('Component is already created! If you want to use createComponent, please set "autoCreate" property to "false".'):Re(_)}function o(_){JQXLite(t).jqxScheduler(_)}function n(){const _=Object.keys(Xe()),se={};for(let Fe=0;Fe<_.length;Fe++)se[_[Fe]]=JQXLite(t).jqxScheduler(_[Fe]);return se}function l(_){JQXLite(t).jqxScheduler("addAppointment",_)}function c(){JQXLite(t).jqxScheduler("beginAppointmentsUpdate")}function d(){JQXLite(t).jqxScheduler("clearAppointmentsSelection")}function m(){JQXLite(t).jqxScheduler("clearSelection")}function u(){JQXLite(t).jqxScheduler("closeMenu")}function s(){JQXLite(t).jqxScheduler("closeDialog")}function f(_){JQXLite(t).jqxScheduler("deleteAppointment",_)}function w(){JQXLite(t).jqxScheduler("destroy")}function b(){JQXLite(t).jqxScheduler("endAppointmentsUpdate")}function q(_){JQXLite(t).jqxScheduler("ensureAppointmentVisible",_)}function p(_,se){JQXLite(t).jqxScheduler("ensureVisible",_,se)}function j(_){JQXLite(t).jqxScheduler("exportData",_)}function x(){JQXLite(t).jqxScheduler("focus")}function A(_,se){return JQXLite(t).jqxScheduler("getAppointmentProperty",_,se)}function T(){return JQXLite(t).jqxScheduler("getSelection")}function h(){return JQXLite(t).jqxScheduler("getAppointments")}function v(){return JQXLite(t).jqxScheduler("getDataAppointments")}function y(_){JQXLite(t).jqxScheduler("hideAppointmentsByResource",_)}function D(_,se){JQXLite(t).jqxScheduler("openMenu",_,se)}function g(_,se){JQXLite(t).jqxScheduler("openDialog",_,se)}function C(_){JQXLite(t).jqxScheduler("selectAppointment",_)}function H(_,se,Fe){JQXLite(t).jqxScheduler("setAppointmentProperty",_,se,Fe)}function S(_,se,Fe){JQXLite(t).jqxScheduler("selectCell",_,se,Fe)}function k(_){JQXLite(t).jqxScheduler("showAppointmentsByResource",_)}function O(){return JQXLite(t).jqxScheduler("scrollWidth")}function P(){return JQXLite(t).jqxScheduler("scrollHeight")}function F(_){JQXLite(t).jqxScheduler("scrollLeft",_)}function z(_){JQXLite(t).jqxScheduler("scrollTop",_)}function B(_){if(_!==void 0)JQXLite(t).jqxScheduler("appointmentOpacity",_);else return JQXLite(t).jqxScheduler("appointmentOpacity")}function N(_){if(_!==void 0)JQXLite(t).jqxScheduler("appointmentsMinHeight",_);else return JQXLite(t).jqxScheduler("appointmentsMinHeight")}function M(_){if(_!==void 0)JQXLite(t).jqxScheduler("appointmentDataFields",_);else return JQXLite(t).jqxScheduler("appointmentDataFields")}function W(_){if(_!==void 0)JQXLite(t).jqxScheduler("appointmentTooltips",_);else return JQXLite(t).jqxScheduler("appointmentTooltips")}function X(_){if(_!==void 0)JQXLite(t).jqxScheduler("columnsHeight",_);else return JQXLite(t).jqxScheduler("columnsHeight")}function U(_){if(_!==void 0)JQXLite(t).jqxScheduler("contextMenu",_);else return JQXLite(t).jqxScheduler("contextMenu")}function Q(_){if(_!==void 0)JQXLite(t).jqxScheduler("contextMenuOpen",_);else return JQXLite(t).jqxScheduler("contextMenuOpen")}function te(_){if(_!==void 0)JQXLite(t).jqxScheduler("contextMenuClose",_);else return JQXLite(t).jqxScheduler("contextMenuClose")}function Y(_){if(_!==void 0)JQXLite(t).jqxScheduler("contextMenuItemClick",_);else return JQXLite(t).jqxScheduler("contextMenuItemClick")}function G(_){if(_!==void 0)JQXLite(t).jqxScheduler("contextMenuCreate",_);else return JQXLite(t).jqxScheduler("contextMenuCreate")}function K(_){if(_!==void 0)JQXLite(t).jqxScheduler("changedAppointments",_);else return JQXLite(t).jqxScheduler("changedAppointments")}function ee(_){if(_!==void 0)JQXLite(t).jqxScheduler("disabled",_);else return JQXLite(t).jqxScheduler("disabled")}function Z(_){if(_!==void 0)JQXLite(t).jqxScheduler("date",_);else return JQXLite(t).jqxScheduler("date")}function ne(_){if(_!==void 0)JQXLite(t).jqxScheduler("dayNameFormat",_);else return JQXLite(t).jqxScheduler("dayNameFormat")}function fe(_){if(_!==void 0)JQXLite(t).jqxScheduler("enableHover",_);else return JQXLite(t).jqxScheduler("enableHover")}function $(_){if(_!==void 0)JQXLite(t).jqxScheduler("editDialog",_);else return JQXLite(t).jqxScheduler("editDialog")}function ae(_){if(_!==void 0)JQXLite(t).jqxScheduler("editDialogDateTimeFormatString",_);else return JQXLite(t).jqxScheduler("editDialogDateTimeFormatString")}function ce(_){if(_!==void 0)JQXLite(t).jqxScheduler("editDialogDateFormatString",_);else return JQXLite(t).jqxScheduler("editDialogDateFormatString")}function me(_){if(_!==void 0)JQXLite(t).jqxScheduler("editDialogOpen",_);else return JQXLite(t).jqxScheduler("editDialogOpen")}function ve(_){if(_!==void 0)JQXLite(t).jqxScheduler("editDialogCreate",_);else return JQXLite(t).jqxScheduler("editDialogCreate")}function he(_){if(_!==void 0)JQXLite(t).jqxScheduler("editDialogKeyDown",_);else return JQXLite(t).jqxScheduler("editDialogKeyDown")}function pe(_){if(_!==void 0)JQXLite(t).jqxScheduler("editDialogClose",_);else return JQXLite(t).jqxScheduler("editDialogClose")}function we(_){if(_!==void 0)JQXLite(t).jqxScheduler("exportSettings",_);else return JQXLite(t).jqxScheduler("exportSettings")}function je(_){if(_!==void 0)JQXLite(t).jqxScheduler("height",_);else return JQXLite(t).jqxScheduler("height")}function xe(_){if(_!==void 0)JQXLite(t).jqxScheduler("legendPosition",_);else return JQXLite(t).jqxScheduler("legendPosition")}function ie(_){if(_!==void 0)JQXLite(t).jqxScheduler("legendHeight",_);else return JQXLite(t).jqxScheduler("legendHeight")}function re(_){if(_!==void 0)JQXLite(t).jqxScheduler("localization",_);else return JQXLite(t).jqxScheduler("localization")}function I(_){if(_!==void 0)JQXLite(t).jqxScheduler("min",_);else return JQXLite(t).jqxScheduler("min")}function le(_){if(_!==void 0)JQXLite(t).jqxScheduler("max",_);else return JQXLite(t).jqxScheduler("max")}function De(_){if(_!==void 0)JQXLite(t).jqxScheduler("ready",_);else return JQXLite(t).jqxScheduler("ready")}function _e(_){if(_!==void 0)JQXLite(t).jqxScheduler("renderAppointment",_);else return JQXLite(t).jqxScheduler("renderAppointment")}function ue(_){if(_!==void 0)JQXLite(t).jqxScheduler("rendering",_);else return JQXLite(t).jqxScheduler("rendering")}function Se(_){if(_!==void 0)JQXLite(t).jqxScheduler("rendered",_);else return JQXLite(t).jqxScheduler("rendered")}function qe(_){if(_!==void 0)JQXLite(t).jqxScheduler("rtl",_);else return JQXLite(t).jqxScheduler("rtl")}function Me(_){if(_!==void 0)JQXLite(t).jqxScheduler("resources",_);else return JQXLite(t).jqxScheduler("resources")}function Le(_){if(_!==void 0)JQXLite(t).jqxScheduler("rowsHeight",_);else return JQXLite(t).jqxScheduler("rowsHeight")}function oe(_){if(_!==void 0)JQXLite(t).jqxScheduler("showToolbar",_);else return JQXLite(t).jqxScheduler("showToolbar")}function Pe(_){if(_!==void 0)JQXLite(t).jqxScheduler("showLegend",_);else return JQXLite(t).jqxScheduler("showLegend")}function be(_){if(_!==void 0)JQXLite(t).jqxScheduler("showCurrent",_);else return JQXLite(t).jqxScheduler("showCurrent")}function ge(_){if(_!==void 0)JQXLite(t).jqxScheduler("showCurrentAppointment",_);else return JQXLite(t).jqxScheduler("showCurrentAppointment")}function Ie(_){if(_!==void 0)JQXLite(t).jqxScheduler("scrollBarSize",_);else return JQXLite(t).jqxScheduler("scrollBarSize")}function Be(_){if(_!==void 0)JQXLite(t).jqxScheduler("source",_);else return JQXLite(t).jqxScheduler("source")}function He(_){if(_!==void 0)JQXLite(t).jqxScheduler("statuses",_);else return JQXLite(t).jqxScheduler("statuses")}function Ce(_){if(_!==void 0)JQXLite(t).jqxScheduler("touchRowsHeight",_);else return JQXLite(t).jqxScheduler("touchRowsHeight")}function de(_){if(_!==void 0)JQXLite(t).jqxScheduler("theme",_);else return JQXLite(t).jqxScheduler("theme")}function E(_){if(_!==void 0)JQXLite(t).jqxScheduler("touchAppointmentsMinHeight",_);else return JQXLite(t).jqxScheduler("touchAppointmentsMinHeight")}function R(_){if(_!==void 0)JQXLite(t).jqxScheduler("touchScrollBarSize",_);else return JQXLite(t).jqxScheduler("touchScrollBarSize")}function J(_){if(_!==void 0)JQXLite(t).jqxScheduler("timeZone",_);else return JQXLite(t).jqxScheduler("timeZone")}function V(_){if(_!==void 0)JQXLite(t).jqxScheduler("touchDayNameFormat",_);else return JQXLite(t).jqxScheduler("touchDayNameFormat")}function ye(_){if(_!==void 0)JQXLite(t).jqxScheduler("toolBarRangeFormat",_);else return JQXLite(t).jqxScheduler("toolBarRangeFormat")}function Ae(_){if(_!==void 0)JQXLite(t).jqxScheduler("toolBarRangeFormatAbbr",_);else return JQXLite(t).jqxScheduler("toolBarRangeFormatAbbr")}function Oe(_){if(_!==void 0)JQXLite(t).jqxScheduler("toolbarHeight",_);else return JQXLite(t).jqxScheduler("toolbarHeight")}function Ee(_){if(_!==void 0)JQXLite(t).jqxScheduler("views",_);else return JQXLite(t).jqxScheduler("views")}function L(_){if(_!==void 0)JQXLite(t).jqxScheduler("view",_);else return JQXLite(t).jqxScheduler("view")}function Te(_){if(_!==void 0)JQXLite(t).jqxScheduler("width",_);else return JQXLite(t).jqxScheduler("width")}function Re(_){let se;_?se=_:se=Xe(),JQXLite(t).jqxScheduler(se),Ge()}function Xe(){const _=["appointmentOpacity","appointmentsMinHeight","appointmentDataFields","appointmentTooltips","columnsHeight","contextMenu","contextMenuOpen","contextMenuClose","contextMenuItemClick","contextMenuCreate","changedAppointments","disabled","date","dayNameFormat","enableHover","editDialog","editDialogDateTimeFormatString","editDialogDateFormatString","editDialogOpen","editDialogCreate","editDialogKeyDown","editDialogClose","exportSettings","height","legendPosition","legendHeight","localization","min","max","ready","renderAppointment","rendering","rendered","rtl","resources","rowsHeight","showToolbar","showLegend","showCurrent","showCurrentAppointment","scrollBarSize","source","statuses","touchRowsHeight","theme","touchAppointmentsMinHeight","touchScrollBarSize","timeZone","touchDayNameFormat","toolBarRangeFormat","toolBarRangeFormatAbbr","toolbarHeight","views","view","width"],se=a;let Fe={};for(let We in se)_.indexOf(We)!==-1&&se[We]!==void 0&&(Fe[We]=se[We]);return Fe}const rt={get appointmentOpacity(){return B()},set appointmentOpacity(_){B(_)},get appointmentsMinHeight(){return N()},set appointmentsMinHeight(_){N(_)},get appointmentDataFields(){return M()},set appointmentDataFields(_){M(_)},get appointmentTooltips(){return W()},set appointmentTooltips(_){W(_)},get columnsHeight(){return X()},set columnsHeight(_){X(_)},get contextMenu(){return U()},set contextMenu(_){U(_)},get contextMenuOpen(){return Q()},set contextMenuOpen(_){Q(_)},get contextMenuClose(){return te()},set contextMenuClose(_){te(_)},get contextMenuItemClick(){return Y()},set contextMenuItemClick(_){Y(_)},get contextMenuCreate(){return G()},set contextMenuCreate(_){G(_)},get changedAppointments(){return K()},set changedAppointments(_){K(_)},get disabled(){return ee()},set disabled(_){ee(_)},get date(){return Z()},set date(_){Z(_)},get dayNameFormat(){return ne()},set dayNameFormat(_){ne(_)},get enableHover(){return fe()},set enableHover(_){fe(_)},get editDialog(){return $()},set editDialog(_){$(_)},get editDialogDateTimeFormatString(){return ae()},set editDialogDateTimeFormatString(_){ae(_)},get editDialogDateFormatString(){return ce()},set editDialogDateFormatString(_){ce(_)},get editDialogOpen(){return me()},set editDialogOpen(_){me(_)},get editDialogCreate(){return ve()},set editDialogCreate(_){ve(_)},get editDialogKeyDown(){return he()},set editDialogKeyDown(_){he(_)},get editDialogClose(){return pe()},set editDialogClose(_){pe(_)},get exportSettings(){return we()},set exportSettings(_){we(_)},get height(){return je()},set height(_){je(_)},get legendPosition(){return xe()},set legendPosition(_){xe(_)},get legendHeight(){return ie()},set legendHeight(_){ie(_)},get localization(){return re()},set localization(_){re(_)},get min(){return I()},set min(_){I(_)},get max(){return le()},set max(_){le(_)},get ready(){return De()},set ready(_){De(_)},get renderAppointment(){return _e()},set renderAppointment(_){_e(_)},get rendering(){return ue()},set rendering(_){ue(_)},get rendered(){return Se()},set rendered(_){Se(_)},get rtl(){return qe()},set rtl(_){qe(_)},get resources(){return Me()},set resources(_){Me(_)},get rowsHeight(){return Le()},set rowsHeight(_){Le(_)},get showToolbar(){return oe()},set showToolbar(_){oe(_)},get showLegend(){return Pe()},set showLegend(_){Pe(_)},get showCurrent(){return be()},set showCurrent(_){be(_)},get showCurrentAppointment(){return ge()},set showCurrentAppointment(_){ge(_)},get scrollBarSize(){return Ie()},set scrollBarSize(_){Ie(_)},get source(){return Be()},set source(_){Be(_)},get statuses(){return He()},set statuses(_){He(_)},get touchRowsHeight(){return Ce()},set touchRowsHeight(_){Ce(_)},get theme(){return de()},set theme(_){de(_)},get touchAppointmentsMinHeight(){return E()},set touchAppointmentsMinHeight(_){E(_)},get touchScrollBarSize(){return R()},set touchScrollBarSize(_){R(_)},get timeZone(){return J()},set timeZone(_){J(_)},get touchDayNameFormat(){return V()},set touchDayNameFormat(_){V(_)},get toolBarRangeFormat(){return ye()},set toolBarRangeFormat(_){ye(_)},get toolBarRangeFormatAbbr(){return Ae()},set toolBarRangeFormatAbbr(_){Ae(_)},get toolbarHeight(){return Oe()},set toolbarHeight(_){Oe(_)},get views(){return Ee()},set views(_){Ee(_)},get view(){return L()},set view(_){L(_)},get width(){return Te()},set width(_){Te(_)}};function Ge(){const _=e;JQXLite(t).on("appointmentChange",function(se){_.emit("appointmentChange",se)}),JQXLite(t).on("appointmentClick",function(se){_.emit("appointmentClick",se)}),JQXLite(t).on("appointmentDoubleClick",function(se){_.emit("appointmentDoubleClick",se)}),JQXLite(t).on("appointmentDelete",function(se){_.emit("appointmentDelete",se)}),JQXLite(t).on("appointmentAdd",function(se){_.emit("appointmentAdd",se)}),JQXLite(t).on("bindingComplete",function(se){_.emit("bindingComplete",se)}),JQXLite(t).on("cellClick",function(se){_.emit("cellClick",se)}),JQXLite(t).on("cellDoubleClick",function(se){_.emit("cellDoubleClick",se)}),JQXLite(t).on("contextMenuOpen",function(se){_.emit("contextMenuOpen",se)}),JQXLite(t).on("contextMenuClose",function(se){_.emit("contextMenuClose",se)}),JQXLite(t).on("contextMenuItemClick",function(se){_.emit("contextMenuItemClick",se)}),JQXLite(t).on("contextMenuCreate",function(se){_.emit("contextMenuCreate",se)}),JQXLite(t).on("dateChange",function(se){_.emit("dateChange",se)}),JQXLite(t).on("editRecurrenceDialogOpen",function(se){_.emit("editRecurrenceDialogOpen",se)}),JQXLite(t).on("editRecurrenceDialogClose",function(se){_.emit("editRecurrenceDialogClose",se)}),JQXLite(t).on("editDialogCreate",function(se){_.emit("editDialogCreate",se)}),JQXLite(t).on("editDialogOpen",function(se){_.emit("editDialogOpen",se)}),JQXLite(t).on("editDialogClose",function(se){_.emit("editDialogClose",se)}),JQXLite(t).on("viewChange",function(se){_.emit("viewChange",se)})}return $e(()=>{a.autoCreate&&Re()}),it(()=>{const _=Xe();JQXLite(t).jqxScheduler(_)}),{id:i,componentSelector:t,addAppointment:l,beginAppointmentsUpdate:c,clearAppointmentsSelection:d,clearSelection:m,closeMenu:u,closeDialog:s,deleteAppointment:f,destroy:w,endAppointmentsUpdate:b,ensureAppointmentVisible:q,ensureVisible:p,exportData:j,focus:x,getAppointmentProperty:A,getSelection:T,getAppointments:h,getDataAppointments:v,hideAppointmentsByResource:y,openMenu:D,openDialog:g,selectAppointment:C,setAppointmentProperty:H,selectCell:S,showAppointmentsByResource:k,scrollWidth:O,scrollHeight:P,scrollLeft:F,scrollTop:z,setOptions:o,options:rt,getOptions:n,createComponent:r}}},qt=["id"];function At(a,e,i,t,r,o){return Qe(),Ze("div",{id:t.id},[st(a.$slots,"default")],8,qt)}const Ct=tt(jt,[["render",At]]),kt={props:{modelValue:String,autoOpen:{default:!1,type:Boolean},autoDropDownHeight:{default:!1,type:Boolean},animationType:String,checkboxes:{default:!1,type:Boolean},closeDelay:Number,disabled:{default:!1,type:Boolean},displayMember:String,dropDownHorizontalAlignment:String,dropDownVerticalAlignment:String,dropDownHeight:Number,dropDownWidth:Number,enableSelection:{default:!0,type:Boolean},enableBrowserBoundsDetection:{default:!1,type:Boolean},enableHover:{default:!0,type:Boolean},filterable:{default:!1,type:Boolean},filterHeight:Number,filterDelay:Number,filterPlaceHolder:String,height:[Number,String],incrementalSearch:{default:!0,type:Boolean},incrementalSearchDelay:Number,itemHeight:Number,openDelay:Number,placeHolder:String,popupZIndex:Number,rtl:{default:!1,type:Boolean},renderer:Function,selectionRenderer:Function,searchMode:String,source:[Array,Object],selectedIndex:Number,scrollBarSize:Number,theme:String,template:String,valueMember:String,width:[Number,String],autoCreate:{default:!0,type:Boolean}},emits:["update:modelValue","bindingComplete","close","checkChange","change","open","select","unselect"],setup(a,e){const i="jqxDropDownList"+JQXLite.generateID(),t="#"+i;function r(L){a.autoCreate?console.warn('Component is already created! If you want to use createComponent, please set "autoCreate" property to "false".'):V(L)}function o(L){JQXLite(t).jqxDropDownList(L)}function n(){const L=Object.keys(ye()),Te={};for(let Re=0;Re<L.length;Re++)Te[L[Re]]=JQXLite(t).jqxDropDownList(L[Re]);return Te}function l(L){JQXLite(t).jqxDropDownList("addItem",L)}function c(){JQXLite(t).jqxDropDownList("clearSelection")}function d(){JQXLite(t).jqxDropDownList("clear")}function m(){JQXLite(t).jqxDropDownList("close")}function u(L){JQXLite(t).jqxDropDownList("checkIndex",L)}function s(L){JQXLite(t).jqxDropDownList("checkItem",L)}function f(){JQXLite(t).jqxDropDownList("checkAll")}function w(){JQXLite(t).jqxDropDownList("clearFilter")}function b(){JQXLite(t).jqxDropDownList("destroy")}function q(L){JQXLite(t).jqxDropDownList("disableItem",L)}function p(L){JQXLite(t).jqxDropDownList("disableAt",L)}function j(L){JQXLite(t).jqxDropDownList("enableItem",L)}function x(L){JQXLite(t).jqxDropDownList("enableAt",L)}function A(L){JQXLite(t).jqxDropDownList("ensureVisible",L)}function T(){JQXLite(t).jqxDropDownList("focus")}function h(L){return JQXLite(t).jqxDropDownList("getItem",L)}function v(L){return JQXLite(t).jqxDropDownList("getItemByValue",L)}function y(){return JQXLite(t).jqxDropDownList("getItems")}function D(){return JQXLite(t).jqxDropDownList("getCheckedItems")}function g(){return JQXLite(t).jqxDropDownList("getSelectedItem")}function C(){return JQXLite(t).jqxDropDownList("getSelectedIndex")}function H(L,Te){JQXLite(t).jqxDropDownList("insertAt",L,Te)}function S(){return JQXLite(t).jqxDropDownList("isOpened")}function k(L){JQXLite(t).jqxDropDownList("indeterminateIndex",L)}function O(L){JQXLite(t).jqxDropDownList("indeterminateItem",L)}function P(L){JQXLite(t).jqxDropDownList("loadFromSelect",L)}function F(){JQXLite(t).jqxDropDownList("open")}function z(L){JQXLite(t).jqxDropDownList("removeItem",L)}function B(L){JQXLite(t).jqxDropDownList("removeAt",L)}function N(L){JQXLite(t).jqxDropDownList("selectIndex",L)}function M(L){JQXLite(t).jqxDropDownList("selectItem",L)}function W(L){JQXLite(t).jqxDropDownList("setContent",L)}function X(L,Te){JQXLite(t).jqxDropDownList("updateItem",L,Te)}function U(L,Te){JQXLite(t).jqxDropDownList("updateAt",L,Te)}function Q(L){JQXLite(t).jqxDropDownList("unselectIndex",L)}function te(L){JQXLite(t).jqxDropDownList("unselectItem",L)}function Y(L){JQXLite(t).jqxDropDownList("uncheckIndex",L)}function G(L){JQXLite(t).jqxDropDownList("uncheckItem",L)}function K(){JQXLite(t).jqxDropDownList("uncheckAll")}function ee(L){if(L!==void 0)JQXLite(t).jqxDropDownList("val",L);else return JQXLite(t).jqxDropDownList("val")}function Z(L){if(L!==void 0)JQXLite(t).jqxDropDownList("autoOpen",L);else return JQXLite(t).jqxDropDownList("autoOpen")}function ne(L){if(L!==void 0)JQXLite(t).jqxDropDownList("autoDropDownHeight",L);else return JQXLite(t).jqxDropDownList("autoDropDownHeight")}function fe(L){if(L!==void 0)JQXLite(t).jqxDropDownList("animationType",L);else return JQXLite(t).jqxDropDownList("animationType")}function $(L){if(L!==void 0)JQXLite(t).jqxDropDownList("checkboxes",L);else return JQXLite(t).jqxDropDownList("checkboxes")}function ae(L){if(L!==void 0)JQXLite(t).jqxDropDownList("closeDelay",L);else return JQXLite(t).jqxDropDownList("closeDelay")}function ce(L){if(L!==void 0)JQXLite(t).jqxDropDownList("disabled",L);else return JQXLite(t).jqxDropDownList("disabled")}function me(L){if(L!==void 0)JQXLite(t).jqxDropDownList("displayMember",L);else return JQXLite(t).jqxDropDownList("displayMember")}function ve(L){if(L!==void 0)JQXLite(t).jqxDropDownList("dropDownHorizontalAlignment",L);else return JQXLite(t).jqxDropDownList("dropDownHorizontalAlignment")}function he(L){if(L!==void 0)JQXLite(t).jqxDropDownList("dropDownVerticalAlignment",L);else return JQXLite(t).jqxDropDownList("dropDownVerticalAlignment")}function pe(L){if(L!==void 0)JQXLite(t).jqxDropDownList("dropDownHeight",L);else return JQXLite(t).jqxDropDownList("dropDownHeight")}function we(L){if(L!==void 0)JQXLite(t).jqxDropDownList("dropDownWidth",L);else return JQXLite(t).jqxDropDownList("dropDownWidth")}function je(L){if(L!==void 0)JQXLite(t).jqxDropDownList("enableSelection",L);else return JQXLite(t).jqxDropDownList("enableSelection")}function xe(L){if(L!==void 0)JQXLite(t).jqxDropDownList("enableBrowserBoundsDetection",L);else return JQXLite(t).jqxDropDownList("enableBrowserBoundsDetection")}function ie(L){if(L!==void 0)JQXLite(t).jqxDropDownList("enableHover",L);else return JQXLite(t).jqxDropDownList("enableHover")}function re(L){if(L!==void 0)JQXLite(t).jqxDropDownList("filterable",L);else return JQXLite(t).jqxDropDownList("filterable")}function I(L){if(L!==void 0)JQXLite(t).jqxDropDownList("filterHeight",L);else return JQXLite(t).jqxDropDownList("filterHeight")}function le(L){if(L!==void 0)JQXLite(t).jqxDropDownList("filterDelay",L);else return JQXLite(t).jqxDropDownList("filterDelay")}function De(L){if(L!==void 0)JQXLite(t).jqxDropDownList("filterPlaceHolder",L);else return JQXLite(t).jqxDropDownList("filterPlaceHolder")}function _e(L){if(L!==void 0)JQXLite(t).jqxDropDownList("height",L);else return JQXLite(t).jqxDropDownList("height")}function ue(L){if(L!==void 0)JQXLite(t).jqxDropDownList("incrementalSearch",L);else return JQXLite(t).jqxDropDownList("incrementalSearch")}function Se(L){if(L!==void 0)JQXLite(t).jqxDropDownList("incrementalSearchDelay",L);else return JQXLite(t).jqxDropDownList("incrementalSearchDelay")}function qe(L){if(L!==void 0)JQXLite(t).jqxDropDownList("itemHeight",L);else return JQXLite(t).jqxDropDownList("itemHeight")}function Me(L){if(L!==void 0)JQXLite(t).jqxDropDownList("openDelay",L);else return JQXLite(t).jqxDropDownList("openDelay")}function Le(L){if(L!==void 0)JQXLite(t).jqxDropDownList("placeHolder",L);else return JQXLite(t).jqxDropDownList("placeHolder")}function oe(L){if(L!==void 0)JQXLite(t).jqxDropDownList("popupZIndex",L);else return JQXLite(t).jqxDropDownList("popupZIndex")}function Pe(L){if(L!==void 0)JQXLite(t).jqxDropDownList("rtl",L);else return JQXLite(t).jqxDropDownList("rtl")}function be(L){if(L!==void 0)JQXLite(t).jqxDropDownList("renderer",L);else return JQXLite(t).jqxDropDownList("renderer")}function ge(L){if(L!==void 0)JQXLite(t).jqxDropDownList("selectionRenderer",L);else return JQXLite(t).jqxDropDownList("selectionRenderer")}function Ie(L){if(L!==void 0)JQXLite(t).jqxDropDownList("searchMode",L);else return JQXLite(t).jqxDropDownList("searchMode")}function Be(L){if(L!==void 0)JQXLite(t).jqxDropDownList("source",L);else return JQXLite(t).jqxDropDownList("source")}function He(L){if(L!==void 0)JQXLite(t).jqxDropDownList("selectedIndex",L);else return JQXLite(t).jqxDropDownList("selectedIndex")}function Ce(L){if(L!==void 0)JQXLite(t).jqxDropDownList("scrollBarSize",L);else return JQXLite(t).jqxDropDownList("scrollBarSize")}function de(L){if(L!==void 0)JQXLite(t).jqxDropDownList("theme",L);else return JQXLite(t).jqxDropDownList("theme")}function E(L){if(L!==void 0)JQXLite(t).jqxDropDownList("template",L);else return JQXLite(t).jqxDropDownList("template")}function R(L){if(L!==void 0)JQXLite(t).jqxDropDownList("valueMember",L);else return JQXLite(t).jqxDropDownList("valueMember")}function J(L){if(L!==void 0)JQXLite(t).jqxDropDownList("width",L);else return JQXLite(t).jqxDropDownList("width")}function V(L){let Te;L?Te=L:Te=ye(),JQXLite(t).jqxDropDownList(Te),Ee()}function ye(){const L=["autoOpen","autoDropDownHeight","animationType","checkboxes","closeDelay","disabled","displayMember","dropDownHorizontalAlignment","dropDownVerticalAlignment","dropDownHeight","dropDownWidth","enableSelection","enableBrowserBoundsDetection","enableHover","filterable","filterHeight","filterDelay","filterPlaceHolder","height","incrementalSearch","incrementalSearchDelay","itemHeight","openDelay","placeHolder","popupZIndex","rtl","renderer","selectionRenderer","searchMode","source","selectedIndex","scrollBarSize","theme","template","valueMember","width"],Te=a;let Re={};for(let Xe in Te)L.indexOf(Xe)!==-1&&Te[Xe]!==void 0&&(Re[Xe]=Te[Xe]);return Re}const Ae={get autoOpen(){return Z()},set autoOpen(L){Z(L)},get autoDropDownHeight(){return ne()},set autoDropDownHeight(L){ne(L)},get animationType(){return fe()},set animationType(L){fe(L)},get checkboxes(){return $()},set checkboxes(L){$(L)},get closeDelay(){return ae()},set closeDelay(L){ae(L)},get disabled(){return ce()},set disabled(L){ce(L)},get displayMember(){return me()},set displayMember(L){me(L)},get dropDownHorizontalAlignment(){return ve()},set dropDownHorizontalAlignment(L){ve(L)},get dropDownVerticalAlignment(){return he()},set dropDownVerticalAlignment(L){he(L)},get dropDownHeight(){return pe()},set dropDownHeight(L){pe(L)},get dropDownWidth(){return we()},set dropDownWidth(L){we(L)},get enableSelection(){return je()},set enableSelection(L){je(L)},get enableBrowserBoundsDetection(){return xe()},set enableBrowserBoundsDetection(L){xe(L)},get enableHover(){return ie()},set enableHover(L){ie(L)},get filterable(){return re()},set filterable(L){re(L)},get filterHeight(){return I()},set filterHeight(L){I(L)},get filterDelay(){return le()},set filterDelay(L){le(L)},get filterPlaceHolder(){return De()},set filterPlaceHolder(L){De(L)},get height(){return _e()},set height(L){_e(L)},get incrementalSearch(){return ue()},set incrementalSearch(L){ue(L)},get incrementalSearchDelay(){return Se()},set incrementalSearchDelay(L){Se(L)},get itemHeight(){return qe()},set itemHeight(L){qe(L)},get openDelay(){return Me()},set openDelay(L){Me(L)},get placeHolder(){return Le()},set placeHolder(L){Le(L)},get popupZIndex(){return oe()},set popupZIndex(L){oe(L)},get rtl(){return Pe()},set rtl(L){Pe(L)},get renderer(){return be()},set renderer(L){be(L)},get selectionRenderer(){return ge()},set selectionRenderer(L){ge(L)},get searchMode(){return Ie()},set searchMode(L){Ie(L)},get source(){return Be()},set source(L){Be(L)},get selectedIndex(){return He()},set selectedIndex(L){He(L)},get scrollBarSize(){return Ce()},set scrollBarSize(L){Ce(L)},get theme(){return de()},set theme(L){de(L)},get template(){return E()},set template(L){E(L)},get valueMember(){return R()},set valueMember(L){R(L)},get width(){return J()},set width(L){J(L)}};function Oe(){const L=JQXLite(t).jqxDropDownList("element"),Te=JQXLite(t).jqxDropDownList("val");e.emit("input",Te),e.emit("update:modelValue",L.value)}function Ee(){const L=e;JQXLite(t).on("bindingComplete",function(Te){L.emit("bindingComplete",Te)}),JQXLite(t).on("close",function(Te){L.emit("close",Te)}),JQXLite(t).on("checkChange",function(Te){L.emit("checkChange",Te)}),JQXLite(t).on("change",function(Te){L.emit("change",Te),Oe()}),JQXLite(t).on("open",function(Te){L.emit("open",Te)}),JQXLite(t).on("select",function(Te){L.emit("select",Te)}),JQXLite(t).on("unselect",function(Te){L.emit("unselect",Te)})}return $e(()=>{a.autoCreate&&V()}),it(()=>{const L=ye();JQXLite(t).jqxDropDownList(L)}),{id:i,componentSelector:t,addItem:l,clearSelection:c,clear:d,close:m,checkIndex:u,checkItem:s,checkAll:f,clearFilter:w,destroy:b,disableItem:q,disableAt:p,enableItem:j,enableAt:x,ensureVisible:A,focus:T,getItem:h,getItemByValue:v,getItems:y,getCheckedItems:D,getSelectedItem:g,getSelectedIndex:C,insertAt:H,isOpened:S,indeterminateIndex:k,indeterminateItem:O,loadFromSelect:P,open:F,removeItem:z,removeAt:B,selectIndex:N,selectItem:M,setContent:W,updateItem:X,updateAt:U,unselectIndex:Q,unselectItem:te,uncheckIndex:Y,uncheckItem:G,uncheckAll:K,val:ee,twoWayBinding:Oe,setOptions:o,options:Ae,getOptions:n,createComponent:r}}},Mt=["id"];function Ht(a,e,i,t,r,o){return Qe(),Ze("div",{id:t.id},[st(a.$slots,"default")],8,Mt)}const at=tt(kt,[["render",Ht]]),Lt={props:{modelValue:String,animationType:String,allowNullDate:{default:!0,type:Boolean},allowKeyboardDelete:{default:!0,type:Boolean},clearString:String,culture:String,closeDelay:Number,closeCalendarAfterSelection:{default:!0,type:Boolean},dropDownHorizontalAlignment:String,dropDownVerticalAlignment:String,disabled:{default:!1,type:Boolean},enableBrowserBoundsDetection:{default:!1,type:Boolean},enableAbsoluteSelection:{default:!1,type:Boolean},editMode:String,firstDayOfWeek:Number,formatString:String,height:[Number,String],min:Date,max:Date,openDelay:Number,placeHolder:String,popupZIndex:Number,rtl:{default:!1,type:Boolean},readonly:{default:!1,type:Boolean},showFooter:{default:!1,type:Boolean},selectionMode:String,showWeekNumbers:{default:!0,type:Boolean},showTimeButton:{default:!1,type:Boolean},showCalendarButton:{default:!0,type:Boolean},showDeleteButton:{default:!1,type:Boolean},theme:String,template:String,textAlign:String,todayString:String,value:[Date,null],width:[Number,String],yearCutoff:Number,autoCreate:{default:!0,type:Boolean}},emits:["update:modelValue","change","close","open","textchanged","valueChanged"],setup(a,e){const i="jqxDateTimeInput"+JQXLite.generateID(),t="#"+i;function r(I){a.autoCreate?console.warn('Component is already created! If you want to use createComponent, please set "autoCreate" property to "false".'):we(I)}function o(I){JQXLite(t).jqxDateTimeInput(I)}function n(){const I=Object.keys(je()),le={};for(let De=0;De<I.length;De++)le[I[De]]=JQXLite(t).jqxDateTimeInput(I[De]);return le}function l(){JQXLite(t).jqxDateTimeInput("close")}function c(){JQXLite(t).jqxDateTimeInput("destroy")}function d(){JQXLite(t).jqxDateTimeInput("focus")}function m(){return JQXLite(t).jqxDateTimeInput("getRange")}function u(){return JQXLite(t).jqxDateTimeInput("getText")}function s(){return JQXLite(t).jqxDateTimeInput("getDate")}function f(){return JQXLite(t).jqxDateTimeInput("getMaxDate")}function w(){return JQXLite(t).jqxDateTimeInput("getMinDate")}function b(){JQXLite(t).jqxDateTimeInput("open")}function q(I,le){JQXLite(t).jqxDateTimeInput("setRange",I,le)}function p(I){JQXLite(t).jqxDateTimeInput("setMinDate",I)}function j(I){JQXLite(t).jqxDateTimeInput("setMaxDate",I)}function x(I){JQXLite(t).jqxDateTimeInput("setDate",I)}function A(I,le){if(I!==void 0)JQXLite(t).jqxDateTimeInput("val",I,le);else return JQXLite(t).jqxDateTimeInput("val")}function T(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("animationType",I);else return JQXLite(t).jqxDateTimeInput("animationType")}function h(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("allowNullDate",I);else return JQXLite(t).jqxDateTimeInput("allowNullDate")}function v(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("allowKeyboardDelete",I);else return JQXLite(t).jqxDateTimeInput("allowKeyboardDelete")}function y(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("clearString",I);else return JQXLite(t).jqxDateTimeInput("clearString")}function D(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("culture",I);else return JQXLite(t).jqxDateTimeInput("culture")}function g(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("closeDelay",I);else return JQXLite(t).jqxDateTimeInput("closeDelay")}function C(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("closeCalendarAfterSelection",I);else return JQXLite(t).jqxDateTimeInput("closeCalendarAfterSelection")}function H(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("dropDownHorizontalAlignment",I);else return JQXLite(t).jqxDateTimeInput("dropDownHorizontalAlignment")}function S(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("dropDownVerticalAlignment",I);else return JQXLite(t).jqxDateTimeInput("dropDownVerticalAlignment")}function k(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("disabled",I);else return JQXLite(t).jqxDateTimeInput("disabled")}function O(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("enableBrowserBoundsDetection",I);else return JQXLite(t).jqxDateTimeInput("enableBrowserBoundsDetection")}function P(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("enableAbsoluteSelection",I);else return JQXLite(t).jqxDateTimeInput("enableAbsoluteSelection")}function F(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("editMode",I);else return JQXLite(t).jqxDateTimeInput("editMode")}function z(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("firstDayOfWeek",I);else return JQXLite(t).jqxDateTimeInput("firstDayOfWeek")}function B(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("formatString",I);else return JQXLite(t).jqxDateTimeInput("formatString")}function N(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("height",I);else return JQXLite(t).jqxDateTimeInput("height")}function M(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("min",I);else return JQXLite(t).jqxDateTimeInput("min")}function W(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("max",I);else return JQXLite(t).jqxDateTimeInput("max")}function X(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("openDelay",I);else return JQXLite(t).jqxDateTimeInput("openDelay")}function U(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("placeHolder",I);else return JQXLite(t).jqxDateTimeInput("placeHolder")}function Q(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("popupZIndex",I);else return JQXLite(t).jqxDateTimeInput("popupZIndex")}function te(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("rtl",I);else return JQXLite(t).jqxDateTimeInput("rtl")}function Y(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("readonly",I);else return JQXLite(t).jqxDateTimeInput("readonly")}function G(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("showFooter",I);else return JQXLite(t).jqxDateTimeInput("showFooter")}function K(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("selectionMode",I);else return JQXLite(t).jqxDateTimeInput("selectionMode")}function ee(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("showWeekNumbers",I);else return JQXLite(t).jqxDateTimeInput("showWeekNumbers")}function Z(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("showTimeButton",I);else return JQXLite(t).jqxDateTimeInput("showTimeButton")}function ne(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("showCalendarButton",I);else return JQXLite(t).jqxDateTimeInput("showCalendarButton")}function fe(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("showDeleteButton",I);else return JQXLite(t).jqxDateTimeInput("showDeleteButton")}function $(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("theme",I);else return JQXLite(t).jqxDateTimeInput("theme")}function ae(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("template",I);else return JQXLite(t).jqxDateTimeInput("template")}function ce(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("textAlign",I);else return JQXLite(t).jqxDateTimeInput("textAlign")}function me(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("todayString",I);else return JQXLite(t).jqxDateTimeInput("todayString")}function ve(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("value",I);else return JQXLite(t).jqxDateTimeInput("value")}function he(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("width",I);else return JQXLite(t).jqxDateTimeInput("width")}function pe(I){if(I!==void 0)JQXLite(t).jqxDateTimeInput("yearCutoff",I);else return JQXLite(t).jqxDateTimeInput("yearCutoff")}function we(I){let le;I?le=I:le=je(),JQXLite(t).jqxDateTimeInput(le),re()}function je(){const I=["animationType","allowNullDate","allowKeyboardDelete","clearString","culture","closeDelay","closeCalendarAfterSelection","dropDownHorizontalAlignment","dropDownVerticalAlignment","disabled","enableBrowserBoundsDetection","enableAbsoluteSelection","editMode","firstDayOfWeek","formatString","height","min","max","openDelay","placeHolder","popupZIndex","rtl","readonly","showFooter","selectionMode","showWeekNumbers","showTimeButton","showCalendarButton","showDeleteButton","theme","template","textAlign","todayString","value","width","yearCutoff"],le=a;let De={};for(let _e in le)I.indexOf(_e)!==-1&&le[_e]!==void 0&&(De[_e]=le[_e]);return De}const xe={get animationType(){return T()},set animationType(I){T(I)},get allowNullDate(){return h()},set allowNullDate(I){h(I)},get allowKeyboardDelete(){return v()},set allowKeyboardDelete(I){v(I)},get clearString(){return y()},set clearString(I){y(I)},get culture(){return D()},set culture(I){D(I)},get closeDelay(){return g()},set closeDelay(I){g(I)},get closeCalendarAfterSelection(){return C()},set closeCalendarAfterSelection(I){C(I)},get dropDownHorizontalAlignment(){return H()},set dropDownHorizontalAlignment(I){H(I)},get dropDownVerticalAlignment(){return S()},set dropDownVerticalAlignment(I){S(I)},get disabled(){return k()},set disabled(I){k(I)},get enableBrowserBoundsDetection(){return O()},set enableBrowserBoundsDetection(I){O(I)},get enableAbsoluteSelection(){return P()},set enableAbsoluteSelection(I){P(I)},get editMode(){return F()},set editMode(I){F(I)},get firstDayOfWeek(){return z()},set firstDayOfWeek(I){z(I)},get formatString(){return B()},set formatString(I){B(I)},get height(){return N()},set height(I){N(I)},get min(){return M()},set min(I){M(I)},get max(){return W()},set max(I){W(I)},get openDelay(){return X()},set openDelay(I){X(I)},get placeHolder(){return U()},set placeHolder(I){U(I)},get popupZIndex(){return Q()},set popupZIndex(I){Q(I)},get rtl(){return te()},set rtl(I){te(I)},get readonly(){return Y()},set readonly(I){Y(I)},get showFooter(){return G()},set showFooter(I){G(I)},get selectionMode(){return K()},set selectionMode(I){K(I)},get showWeekNumbers(){return ee()},set showWeekNumbers(I){ee(I)},get showTimeButton(){return Z()},set showTimeButton(I){Z(I)},get showCalendarButton(){return ne()},set showCalendarButton(I){ne(I)},get showDeleteButton(){return fe()},set showDeleteButton(I){fe(I)},get theme(){return $()},set theme(I){$(I)},get template(){return ae()},set template(I){ae(I)},get textAlign(){return ce()},set textAlign(I){ce(I)},get todayString(){return me()},set todayString(I){me(I)},get value(){return ve()},set value(I){ve(I)},get width(){return he()},set width(I){he(I)},get yearCutoff(){return pe()},set yearCutoff(I){pe(I)}};function ie(){const I=JQXLite(t).jqxDateTimeInput("element"),le=JQXLite(t).jqxDateTimeInput("value");e.emit("input",le),e.emit("update:modelValue",I.value)}function re(){const I=e;JQXLite(t).on("change",function(le){I.emit("change",le),ie()}),JQXLite(t).on("close",function(le){I.emit("close",le)}),JQXLite(t).on("open",function(le){I.emit("open",le)}),JQXLite(t).on("textchanged",function(le){I.emit("textchanged",le)}),JQXLite(t).on("valueChanged",function(le){I.emit("valueChanged",le)})}return $e(()=>{a.autoCreate&&we()}),it(()=>{const I=je();JQXLite(t).jqxDateTimeInput(I)}),{id:i,componentSelector:t,close:l,destroy:c,focus:d,getRange:m,getText:u,getDate:s,getMaxDate:f,getMinDate:w,open:b,setRange:q,setMinDate:p,setMaxDate:j,setDate:x,val:A,twoWayBinding:ie,setOptions:o,options:xe,getOptions:n,createComponent:r}}},It=["id"];function Bt(a,e,i,t,r,o){return Qe(),Ze("div",{id:t.id},[st(a.$slots,"default")],8,It)}const pt=tt(Lt,[["render",Bt]]),Ot={props:{modelValue:String,aiKey:String,disabled:{default:!1,type:Boolean},dropDownWidth:Number,displayMember:String,height:[Number,String],items:Number,inlineAutoComplete:{default:"",type:Boolean},minLength:Number,maxLength:Number,opened:{default:!1,type:Boolean},placeHolder:String,popupZIndex:Number,query:String,renderer:Function,rtl:{default:!1,type:Boolean},searchMode:String,source:[Array,Function,Object],theme:String,valueMember:String,width:[Number,String],value:[Number,String],autoCreate:{default:!0,type:Boolean}},emits:["update:modelValue","change","close","open","select"],setup(a,e){const i="jqxInput"+JQXLite.generateID(),t="#"+i;function r(M){a.autoCreate?console.warn('Component is already created! If you want to use createComponent, please set "autoCreate" property to "false".'):P(M)}function o(M){JQXLite(t).jqxInput(M)}function n(){const M=Object.keys(F()),W={};for(let X=0;X<M.length;X++)W[M[X]]=JQXLite(t).jqxInput(M[X]);return W}function l(){JQXLite(t).jqxInput("destroy")}function c(){JQXLite(t).jqxInput("focus")}function d(){JQXLite(t).jqxInput("selectAll")}function m(M){if(M!==void 0)JQXLite(t).jqxInput("val",M);else return JQXLite(t).jqxInput("val")}function u(M){if(M!==void 0)JQXLite(t).jqxInput("aiKey",M);else return JQXLite(t).jqxInput("aiKey")}function s(M){if(M!==void 0)JQXLite(t).jqxInput("disabled",M);else return JQXLite(t).jqxInput("disabled")}function f(M){if(M!==void 0)JQXLite(t).jqxInput("dropDownWidth",M);else return JQXLite(t).jqxInput("dropDownWidth")}function w(M){if(M!==void 0)JQXLite(t).jqxInput("displayMember",M);else return JQXLite(t).jqxInput("displayMember")}function b(M){if(M!==void 0)JQXLite(t).jqxInput("height",M);else return JQXLite(t).jqxInput("height")}function q(M){if(M!==void 0)JQXLite(t).jqxInput("items",M);else return JQXLite(t).jqxInput("items")}function p(M){if(M!==void 0)JQXLite(t).jqxInput("inlineAutoComplete",M);else return JQXLite(t).jqxInput("inlineAutoComplete")}function j(M){if(M!==void 0)JQXLite(t).jqxInput("minLength",M);else return JQXLite(t).jqxInput("minLength")}function x(M){if(M!==void 0)JQXLite(t).jqxInput("maxLength",M);else return JQXLite(t).jqxInput("maxLength")}function A(M){if(M!==void 0)JQXLite(t).jqxInput("opened",M);else return JQXLite(t).jqxInput("opened")}function T(M){if(M!==void 0)JQXLite(t).jqxInput("placeHolder",M);else return JQXLite(t).jqxInput("placeHolder")}function h(M){if(M!==void 0)JQXLite(t).jqxInput("popupZIndex",M);else return JQXLite(t).jqxInput("popupZIndex")}function v(M){if(M!==void 0)JQXLite(t).jqxInput("query",M);else return JQXLite(t).jqxInput("query")}function y(M){if(M!==void 0)JQXLite(t).jqxInput("renderer",M);else return JQXLite(t).jqxInput("renderer")}function D(M){if(M!==void 0)JQXLite(t).jqxInput("rtl",M);else return JQXLite(t).jqxInput("rtl")}function g(M){if(M!==void 0)JQXLite(t).jqxInput("searchMode",M);else return JQXLite(t).jqxInput("searchMode")}function C(M){if(M!==void 0)JQXLite(t).jqxInput("source",M);else return JQXLite(t).jqxInput("source")}function H(M){if(M!==void 0)JQXLite(t).jqxInput("theme",M);else return JQXLite(t).jqxInput("theme")}function S(M){if(M!==void 0)JQXLite(t).jqxInput("valueMember",M);else return JQXLite(t).jqxInput("valueMember")}function k(M){if(M!==void 0)JQXLite(t).jqxInput("width",M);else return JQXLite(t).jqxInput("width")}function O(M){if(M!==void 0)JQXLite(t).jqxInput("value",M);else return JQXLite(t).jqxInput("value")}function P(M){let W;M?W=M:W=F(),JQXLite(t).jqxInput(W),N()}function F(){const M=["aiKey","disabled","dropDownWidth","displayMember","height","items","inlineAutoComplete","minLength","maxLength","opened","placeHolder","popupZIndex","query","renderer","rtl","searchMode","source","theme","valueMember","width","value"],W=a;let X={};for(let U in W)M.indexOf(U)!==-1&&W[U]!==void 0&&(X[U]=W[U]);return X}const z={get aiKey(){return u()},set aiKey(M){u(M)},get disabled(){return s()},set disabled(M){s(M)},get dropDownWidth(){return f()},set dropDownWidth(M){f(M)},get displayMember(){return w()},set displayMember(M){w(M)},get height(){return b()},set height(M){b(M)},get items(){return q()},set items(M){q(M)},get inlineAutoComplete(){return p()},set inlineAutoComplete(M){p(M)},get minLength(){return j()},set minLength(M){j(M)},get maxLength(){return x()},set maxLength(M){x(M)},get opened(){return A()},set opened(M){A(M)},get placeHolder(){return T()},set placeHolder(M){T(M)},get popupZIndex(){return h()},set popupZIndex(M){h(M)},get query(){return v()},set query(M){v(M)},get renderer(){return y()},set renderer(M){y(M)},get rtl(){return D()},set rtl(M){D(M)},get searchMode(){return g()},set searchMode(M){g(M)},get source(){return C()},set source(M){C(M)},get theme(){return H()},set theme(M){H(M)},get valueMember(){return S()},set valueMember(M){S(M)},get width(){return k()},set width(M){k(M)},get value(){return O()},set value(M){O(M)}};function B(){const M=JQXLite(t).jqxInput("element");e.emit("input",M.value),e.emit("update:modelValue",M.value)}function N(){const M=e;JQXLite(t).on("change",function(W){M.emit("change",W)}),JQXLite(t).on("close",function(W){M.emit("close",W)}),JQXLite(t).on("open",function(W){M.emit("open",W)}),JQXLite(t).on("select",function(W){M.emit("select",W),B()})}return $e(()=>{a.autoCreate&&P()}),it(()=>{const M=F();JQXLite(t).jqxInput(M)}),{id:i,componentSelector:t,destroy:l,focus:c,selectAll:d,val:m,twoWayBinding:B,setOptions:o,options:z,getOptions:n,createComponent:r}}},Ft=["id","value"];function Pt(a,e,i,t,r,o){return Qe(),Ze("input",{type:"text",id:t.id,value:i.modelValue,onInput:e[0]||(e[0]=(...n)=>t.twoWayBinding&&t.twoWayBinding(...n))},null,40,Ft)}const mt=tt(Ot,[["render",Pt]]),Rt={class:"confirm"},zt={class:"confirm__text"},Et={class:"confirm__actions"},Nt=["disabled"],Wt=["disabled"],Xt={class:"editor"},Jt={class:"editor__table"},Vt={class:"editor__control"},Qt={class:"editor__control"},Ut={class:"editor__control"},Zt={class:"editor__control"},Yt={class:"editor__control"},$t={class:"editor__control"},Gt={class:"editor__control"},Kt={key:0,class:"editor__hint"},ei={class:"editor__actions"},ti=["disabled"],Ye="#0078D4",oi=wt({__name:"SchedulerPage",setup(a){const e=()=>{const E=globalThis.Globalize;return typeof E!="function"&&(typeof E!="object"||E===null)||typeof E.culture!="function"?null:E},i=()=>{const E=e();if(E)try{E.culture?.(Ue)}catch(R){console.warn("[scheduler] ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð¿ÑÐ¸Ð¼ÐµÐ½Ð¸ÑÑ ÐºÑÐ»ÑÑÑÑÑ Globalize",R)}},t=xt(),r=`${t.replace(/\/$/,"")}/api/ScheduleEvents`,o=`${t.replace(/\/$/,"")}/api/Location`,n=`${t.replace(/\/$/,"")}/api/Users`,l=bt(),c=l.token,d=Ne(null),m={backString:ze.backString,forwardString:ze.forwardString,todayString:ze.todayString,clearString:ze.clearString,calendar:{name:Ue,"/":".",":":":",firstDay:ze.firstDay,days:ze.days,months:ze.months,AM:null,PM:null,eras:[{name:"Ð½.Ñ.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{...ze.patterns,S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd HH:mm:ss"}}},u=ze,s=["Free","Tentative","Busy","Out of office"],f=Dt({masterId:"",locationId:"",start:null,end:null,subject:"",description:"",status:s[0],color:Ye}),w=E=>{if(E instanceof Date&&!Number.isNaN(E.getTime()))return E;if(typeof E=="string"||typeof E=="number"){const R=new Date(E);return Number.isNaN(R.getTime())?null:R}if(typeof E=="object"&&E!==null&&typeof E.toDate=="function"){const J=E.toDate();return J instanceof Date&&!Number.isNaN(J.getTime())?J:null}return null},b=E=>{if(typeof E!="string")return null;const R=E.trim();if(!R)return null;const J=R.toLowerCase(),V=J.startsWith("#")?J.slice(1):J,ye=V.startsWith("0x")?V.slice(2):V;return/^[0-9a-f]{6}$/.test(ye)?`#${ye}`.toUpperCase():/^[0-9a-f]{8}$/.test(ye)?`#${ye.slice(-6)}`.toUpperCase():null},q=E=>{const R=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(E);if(!R)return"#0f172a";const J=R[1],V=R[2],ye=R[3];if(!J||!V||!ye)return"#0f172a";const Ae=parseInt(J,16),Oe=parseInt(V,16),Ee=parseInt(ye,16);return(Ae*299+Oe*587+Ee*114)/1e3>=160?"#0f172a":"#ffffff"},p=E=>{const R=typeof E.appointment=="object"&&E.appointment!==null?E.appointment:{},J=b(R.color);return J?{...E,background:J,borderColor:J,textColor:q(J)}:E},j={add:"add",edit:"edit",delete:"delete"},x=E=>typeof E!="object"||E===null?!1:typeof E.jqxMenu=="function",A=Ne(null),T=Ne(null),h=Ne(!1),v=Ne(null),y=Ne("add"),D=Ne(null),g=Ne("ÐÐ¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ"),C=Ne(!1),H=Ne(null),S=Ne(null),k=Ne(!1),O=E=>({value:E,width:"100%",height:32,culture:Ue,formatString:"dd.MM.yyyy HH:mm",showTimeButton:!0,firstDayOfWeek:ze.firstDay,todayString:ze.todayString,clearString:ze.clearString,localization:m}),P=()=>{if(k.value)return;const E=O(f.start),R=O(f.end);H.value?.createComponent?.(E),S.value?.createComponent?.(R),k.value=!0},F=()=>{const E={culture:Ue,localization:m,firstDayOfWeek:ze.firstDay,todayString:ze.todayString,clearString:ze.clearString};H.value?.setOptions?.(E),S.value?.setOptions?.(E)},z=()=>{i(),ct().then(()=>{P(),F(),typeof requestAnimationFrame=="function"?requestAnimationFrame(()=>{F()}):setTimeout(()=>{F()},0)})},B=(E,R,J)=>{if(i(),y.value=E,D.value=R??null,g.value=E==="add"?"ÐÐ¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ":"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ",E==="add"){const V=new Date;f.masterId="",f.locationId="",f.start=V,f.end=new Date(V.getTime()+3600*1e3),f.subject="",f.description="",f.status="",f.color=Ye}else{const V=typeof J=="object"&&J!==null?J:{};f.masterId=typeof V.masterId=="string"||typeof V.masterId=="number"?String(V.masterId):"",f.locationId=typeof V.locationId=="string"||typeof V.locationId=="number"?String(V.locationId):"",f.subject=String(V.subject??""),f.description=String(V.description??""),f.status=String(V.status??s[0]);const ye=Number(f.locationId),Ae=Number.isFinite(ye)?b(Se.localdata.find(Re=>Re.id===ye)?.color):null;f.color=Ae??b(V.color)??Ye;const Oe=V.start_event??V.from??V.start??V.startDate??V.dateFrom,Ee=V.finish_event??V.to??V.end??V.endDate??V.dateTo,L=w(Oe)??new Date,Te=w(Ee)??new Date(L.getTime()+3600*1e3);f.start=L,f.end=Te}ct().then(()=>{v.value?.open?.()})},N=()=>{v.value?.close?.()},M=ot(()=>{if(!f.status)return-1;const E=s.findIndex(R=>R===f.status);return E>=0?E:-1}),W=ot(()=>{const E=Number(f.masterId);if(!Number.isFinite(E))return-1;const R=qe.localdata.findIndex(J=>J.id===E);return R>=0?R:-1}),X=ot(()=>{const E=Number(f.locationId);if(!Number.isFinite(E))return-1;const R=Se.localdata.findIndex(J=>J.id===E);return R>=0?R:-1}),U=()=>{const E=f.masterId.trim(),R=f.locationId.trim(),J=f.status.trim();if(!E)return{ok:!1,message:"ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð²ÑÐ±ÐµÑÐ¸ÑÐµ Ð¼Ð°ÑÑÐµÑÐ°."};if(!R)return{ok:!1,message:"ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð²ÑÐ±ÐµÑÐ¸ÑÐµ Ð»Ð¾ÐºÐ°ÑÐ¸Ñ."};if(!J)return{ok:!1,message:"ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð²ÑÐ±ÐµÑÐ¸ÑÐµ ÑÑÐ°ÑÑÑ."};const V=Number(E);if(!Number.isFinite(V))return{ok:!1,message:"ÐÐµÐºÐ¾ÑÑÐµÐºÑÐ½ÑÐ¹ Ð¼Ð°ÑÑÐµÑ (id)."};const ye=Number(R);if(!Number.isFinite(ye))return{ok:!1,message:"ÐÐµÐºÐ¾ÑÑÐµÐºÑÐ½Ð°Ñ Ð»Ð¾ÐºÐ°ÑÐ¸Ñ (id)."};const Ae=qe.localdata.find(Re=>Re.id===V);if(!Ae)return{ok:!1,message:"ÐÑÐ±ÑÐ°Ð½Ð½ÑÐ¹ Ð¼Ð°ÑÑÐµÑ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½ Ð² ÑÐ¿Ð¸ÑÐºÐµ."};const Oe=Se.localdata.find(Re=>Re.id===ye);if(!Oe)return{ok:!1,message:"ÐÑÐ±ÑÐ°Ð½Ð½Ð°Ñ Ð»Ð¾ÐºÐ°ÑÐ¸Ñ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð° Ð² ÑÐ¿Ð¸ÑÐºÐµ."};const Ee=f.start,L=f.end;if(!(Ee instanceof Date)||Number.isNaN(Ee.getTime()))return{ok:!1,message:"ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, ÑÐºÐ°Ð¶Ð¸ÑÐµ ÐºÐ¾ÑÑÐµÐºÑÐ½ÑÑ Ð´Ð°ÑÑ/Ð²ÑÐµÐ¼Ñ Ð½Ð°ÑÐ°Ð»Ð°."};if(!(L instanceof Date)||Number.isNaN(L.getTime()))return{ok:!1,message:"ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, ÑÐºÐ°Ð¶Ð¸ÑÐµ ÐºÐ¾ÑÑÐµÐºÑÐ½ÑÑ Ð´Ð°ÑÑ/Ð²ÑÐµÐ¼Ñ Ð¾ÐºÐ¾Ð½ÑÐ°Ð½Ð¸Ñ."};if(L.getTime()<=Ee.getTime())return{ok:!1,message:"ÐÐ°ÑÐ°/Ð²ÑÐµÐ¼Ñ Ð¾ÐºÐ¾Ð½ÑÐ°Ð½Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±ÑÑÑ Ð±Ð¾Ð»ÑÑÐµ Ð´Ð°ÑÑ/Ð²ÑÐµÐ¼ÐµÐ½Ð¸ Ð½Ð°ÑÐ°Ð»Ð°."};const Te=b(Oe.color)??Ye;return f.color=Te,{ok:!0,payload:{id:0,masterId:V,masterName:Ae.usersName,locationId:ye,nameLocation:Oe.nameLocation,start_event:Ee.toISOString(),finish_event:L.toISOString(),subject:f.subject.trim(),description:f.description.trim(),status:J,color:Te}}},Q=E=>{if(typeof E!="object"||E===null)return null;const R=E,J=Number(R.id);return Number.isFinite(J)?{id:J,masterId:Number(R.masterId??0),masterName:String(R.masterName??""),locationId:Number(R.locationId??0),nameLocation:String(R.nameLocation??""),start_event:String(R.start_event??""),finish_event:String(R.finish_event??""),subject:String(R.subject??""),description:String(R.description??""),status:String(R.status??""),color:String(R.color??"")}:null};let te=null;const Y=()=>{te&&(He.value=new te(ue,{autoBind:!0}))},G=async E=>{if(l.dropExpiredToken(),!c.value)return console.warn("[scheduler] ÐÐµ Ð½Ð°Ð¹Ð´ÐµÐ½ ÑÐ¾ÐºÐµÐ½ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ð¸. Ð¡Ð¾Ð±ÑÑÐ¸Ðµ Ð½Ðµ Ð±ÑÐ´ÐµÑ ÑÐ¾Ð·Ð´Ð°Ð½Ð¾."),null;try{const R=await fetch(r,{method:"POST",headers:{Accept:"text/plain, application/json","Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(E)});if(!R.ok)throw new Error(`${R.status} ${R.statusText}`.trim());const J=await R.text();let V=null;try{V=J?JSON.parse(J):null}catch{V=null}const ye=Q(V);return ye?(ye.color=E.color,ye):(console.warn("[scheduler] Ð¡Ð¾Ð·Ð´Ð°Ð½Ð½Ð¾Ðµ ÑÐ¾Ð±ÑÑÐ¸Ðµ Ð½Ðµ ÑÐ´Ð°Ð»Ð¾ÑÑ ÑÐ°ÑÐ¿Ð°ÑÑÐ¸ÑÑ",V),null)}catch(R){return console.error("[scheduler] ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ ÑÐ¾Ð·Ð´Ð°ÑÑ ÑÐ¾Ð±ÑÑÐ¸Ðµ",R),null}},K=async E=>{if(l.dropExpiredToken(),!c.value)return console.warn("[scheduler] ÐÐµ Ð½Ð°Ð¹Ð´ÐµÐ½ ÑÐ¾ÐºÐµÐ½ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ð¸. Ð¡Ð¾Ð±ÑÑÐ¸Ðµ Ð½Ðµ Ð±ÑÐ´ÐµÑ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾."),null;try{const R=await fetch(r,{method:"PUT",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:`Bearer ${c.value}`},body:JSON.stringify(E)});if(!R.ok)throw new Error(`${R.status} ${R.statusText}`.trim());const J=await R.text();let V=null;try{V=J?JSON.parse(J):null}catch{V=null}const ye=Q(V);return ye?(ye.color=E.color,ye):E}catch(R){return console.error("[scheduler] ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð¸ÑÑ ÑÐ¾Ð±ÑÑÐ¸Ðµ",R),null}},ee=E=>{const R=ue.localdata.findIndex(J=>J.id===E.id);R>=0?ue.localdata.splice(R,1,E):ue.localdata.push(E),Y()},Z=async E=>{if(l.dropExpiredToken(),!c.value)return console.warn("[scheduler] ÐÐµ Ð½Ð°Ð¹Ð´ÐµÐ½ ÑÐ¾ÐºÐµÐ½ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ð¸. Ð¡Ð¾Ð±ÑÑÐ¸Ðµ Ð½Ðµ Ð±ÑÐ´ÐµÑ ÑÐ´Ð°Ð»ÐµÐ½Ð¾."),!1;const R=`${r}/${encodeURIComponent(String(E))}`;try{const J=await fetch(R,{method:"DELETE",headers:{Accept:"*/*",Authorization:`Bearer ${c.value}`}});if(!J.ok){const V=await J.text().catch(()=>"");return console.error("[scheduler] ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ ÑÐ´Ð°Ð»Ð¸ÑÑ ÑÐ¾Ð±ÑÑÐ¸Ðµ",{id:E,status:J.status,statusText:J.statusText,body:V}),!1}return!0}catch(J){return console.error("[scheduler] ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ ÑÐ´Ð°Ð»Ð¸ÑÑ ÑÐ¾Ð±ÑÑÐ¸Ðµ",J),!1}},ne=E=>{const R=ue.localdata.findIndex(J=>J.id===E);R>=0&&ue.localdata.splice(R,1),Y()},fe=async()=>{const E=U();if(!E.ok){alert(E.message);return}if(!C.value){C.value=!0;try{if(y.value==="add"){const Ae=await G(E.payload);if(!Ae){alert("ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ¾Ð±ÑÑÐ¸Ðµ. ÐÐ¾Ð´ÑÐ¾Ð±Ð½Ð¾ÑÑÐ¸ ÑÐ¼Ð¾ÑÑÐ¸ÑÐµ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°.");return}ee(Ae),N();return}const R=D.value,J=typeof R=="string"||typeof R=="number"?Number(R):NaN;if(!Number.isFinite(J)){alert("ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð¾Ð¿ÑÐµÐ´ÐµÐ»Ð¸ÑÑ id ÑÐµÐ´Ð°ÐºÑÐ¸ÑÑÐµÐ¼Ð¾Ð³Ð¾ ÑÐ¾Ð±ÑÑÐ¸Ñ.");return}const V={...E.payload,id:J},ye=await K(V);if(!ye){alert("ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð¸ÑÑ ÑÐ¾Ð±ÑÑÐ¸Ðµ. ÐÐ¾Ð´ÑÐ¾Ð±Ð½Ð¾ÑÑÐ¸ ÑÐ¼Ð¾ÑÑÐ¸ÑÐµ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°.");return}ee(ye),N()}finally{C.value=!1}}},$=()=>{N()},ae=E=>{const J=E?.args?.item?.value;(typeof J=="string"||typeof J=="number")&&(f.masterId=String(J))},ce=E=>{const J=E?.args?.item?.value;if(typeof J=="string"||typeof J=="number"){f.locationId=String(J);const V=Number(J);if(Number.isFinite(V)){const ye=Se.localdata.find(Ae=>Ae.id===V);f.color=b(ye?.color)??Ye}}},me=E=>{const J=E?.args?.item?.value;typeof J=="string"&&(f.status=J)},ve=E=>{const R=E?.args,J=R?.date??R?.value,V=w(J);V&&(f.start=V)},he=E=>{const R=E?.args,J=R?.date??R?.value,V=w(J);V&&(f.end=V)},pe=()=>{i(),typeof requestAnimationFrame=="function"?requestAnimationFrame(()=>{F()}):setTimeout(()=>{F()},0)},we=E=>{const R=typeof E=="string"||typeof E=="number"?E:null;if(R===null){console.warn("[scheduler] ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð¾Ð¿ÑÐµÐ´ÐµÐ»Ð¸ÑÑ id ÑÐ¾Ð±ÑÑÐ¸Ñ Ð´Ð»Ñ ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ñ.",E);return}A.value=R,T.value?.open?.()},je=()=>{T.value?.close?.()},xe=async E=>{if(!E){if(h.value)return;A.value=null,je();return}const R=A.value,J=typeof R=="string"||typeof R=="number"?Number(R):NaN;if(!Number.isFinite(J)){console.warn("[scheduler] ÐÐµÐºÐ¾ÑÑÐµÐºÑÐ½ÑÐ¹ id ÑÐ¾Ð±ÑÑÐ¸Ñ Ð´Ð»Ñ ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ñ",R),A.value=null,je();return}if(!h.value){h.value=!0;try{if(!await Z(J)){alert("ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ ÑÐ´Ð°Ð»Ð¸ÑÑ ÑÐ¾Ð±ÑÑÐ¸Ðµ. ÐÐ¾Ð´ÑÐ¾Ð±Ð½Ð¾ÑÑÐ¸ ÑÐ¼Ð¾ÑÑÐ¸ÑÐµ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð±ÑÐ°ÑÐ·ÐµÑÐ°.");return}ne(J),A.value=null,je()}finally{h.value=!1}}},ie=(E,R)=>{R.source.length=0,R.source.push({id:j.add,label:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ"}),R.source.push({id:j.edit,label:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ"}),R.source.push({id:j.delete,label:"Ð£Ð´Ð°Ð»Ð¸ÑÑ"})},re=(E,R)=>{if(!x(E))return;if(!!R){E.jqxMenu("hideItem",j.add),E.jqxMenu("showItem",j.edit),E.jqxMenu("showItem",j.delete);return}E.jqxMenu("showItem",j.add),E.jqxMenu("hideItem",j.edit),E.jqxMenu("hideItem",j.delete)},I=(E,R,J)=>{const V=J?.args,ye=typeof V?.id=="string"?V.id:void 0,Ae=(()=>{const Oe=R?.id;return typeof Oe=="string"||typeof Oe=="number"?Oe:void 0})();switch(ye){case j.add:return B("add"),!0;case j.edit:return B("edit",Ae,R),!0;case j.delete:return we(Ae),!0;default:return!1}},le=()=>{},De={from:"start_event",to:"finish_event",id:"id",description:"description",location:"nameLocation",subject:"subject",status:"status",masterId:"masterId",masterName:"masterName",locationId:"locationId",nameLocation:"nameLocation",color:"color"},_e=[{type:"dayView",timeRuler:{formatString:"HH:mm"}},{type:"weekView",timeRuler:{formatString:"HH:mm"}},{type:"monthView"}],ue={datatype:"array",datafields:[{name:"id",type:"int"},{name:"masterId",type:"int"},{name:"masterName",type:"string"},{name:"locationId",type:"int"},{name:"nameLocation",type:"string"},{name:"start_event",type:"date"},{name:"finish_event",type:"date"},{name:"description",type:"string"},{name:"subject",type:"string"},{name:"status",type:"string"},{name:"color",type:"string"}],id:"id",localdata:[]},Se={datatype:"array",datafields:[{name:"id",type:"number"},{name:"nameLocation",type:"string"},{name:"color",type:"string"}],id:"id",localdata:[]},qe={datatype:"array",datafields:[{name:"id",type:"number"},{name:"email",type:"string"},{name:"password",type:"string"},{name:"role",type:"string"},{name:"usersName",type:"string"},{name:"isAppruved",type:"bool"}],id:"id",localdata:[]},Me=()=>typeof window<"u"?window.jqx:void 0,Le=E=>{const R=E.getFullYear(),J=String(E.getMonth()+1).padStart(2,"0"),V=String(E.getDate()).padStart(2,"0");return`${R}-${J}-${V}`},oe=E=>{if(!Array.isArray(E))return[];const R=[];for(const J of E){if(typeof J!="object"||J===null)continue;const V=J,ye=Number(V.id);Number.isFinite(ye)&&R.push({id:ye,masterId:Number(V.masterId??0),masterName:String(V.masterName??""),locationId:Number(V.locationId??0),nameLocation:String(V.nameLocation??""),start_event:String(V.start_event??""),finish_event:String(V.finish_event??""),subject:String(V.subject??""),description:String(V.description??""),status:String(V.status??""),color:String(V.color??"")})}return R},Pe=async()=>{if(l.dropExpiredToken(),!c.value){console.warn("[scheduler] ÐÐµ Ð½Ð°Ð¹Ð´ÐµÐ½ ÑÐ¾ÐºÐµÐ½ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ð¸. Ð¡Ð¾Ð±ÑÑÐ¸Ñ Ð½Ðµ Ð±ÑÐ´ÑÑ Ð·Ð°Ð³ÑÑÐ¶ÐµÐ½Ñ."),ue.localdata=[];return}const E=d.value?.toDate?.()??new Date,R=Le(E),J=`${r}?dateTime=${encodeURIComponent(R)}`;try{const V=await fetch(J,{headers:{Accept:"text/plain, application/json",Authorization:`Bearer ${c.value}`}});if(!V.ok)throw new Error(`${V.status} ${V.statusText}`.trim());const ye=await V.text();let Ae=[];try{Ae=ye?JSON.parse(ye):[]}catch{Ae=[]}ue.localdata=oe(Ae)}catch(V){console.error("[scheduler] ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð·Ð°Ð³ÑÑÐ·Ð¸ÑÑ ÑÐ¾Ð±ÑÑÐ¸Ñ",V),ue.localdata=[]}},be=E=>{if(!Array.isArray(E))return[];const R=[];for(const J of E){if(typeof J!="object"||J===null)continue;const V=J,ye=Number(V.id);Number.isFinite(ye)&&R.push({id:ye,nameLocation:String(V.nameLocation??""),color:String(V.color??V.Color??"")})}return R},ge=async()=>{if(l.dropExpiredToken(),!c.value){console.warn("[scheduler] ÐÐµ Ð½Ð°Ð¹Ð´ÐµÐ½ ÑÐ¾ÐºÐµÐ½ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ð¸. ÐÐ¾ÐºÐ°ÑÐ¸Ð¸ Ð½Ðµ Ð±ÑÐ´ÑÑ Ð·Ð°Ð³ÑÑÐ¶ÐµÐ½Ñ."),Se.localdata=[],console.log("[scheduler] locations:",[]);return}try{const E=await fetch(o,{headers:{Accept:"text/plain, application/json",Authorization:`Bearer ${c.value}`}});if(!E.ok)throw new Error(`${E.status} ${E.statusText}`.trim());const R=await E.text();let J=[];try{J=R?JSON.parse(R):[]}catch{J=[]}const V=be(J);Se.localdata=V,console.log("[scheduler] locations:",V)}catch(E){console.error("[scheduler] ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð·Ð°Ð³ÑÑÐ·Ð¸ÑÑ Ð»Ð¾ÐºÐ°ÑÐ¸Ð¸",E),Se.localdata=[]}},Ie=E=>{if(!Array.isArray(E))return[];const R=[];for(const J of E){if(typeof J!="object"||J===null)continue;const V=J,ye=Number(V.id);if(!Number.isFinite(ye))continue;const Ae=(()=>{const Oe=V.isAppruved;if(typeof Oe=="boolean")return Oe;if(typeof Oe=="string"){const Ee=Oe.trim().toLowerCase();if(Ee==="true")return!0;if(Ee==="false")return!1}return!!Oe})();R.push({id:ye,email:String(V.email??""),password:String(V.password??""),role:String(V.role??""),usersName:String(V.usersName??""),isAppruved:Ae})}return R},Be=async()=>{if(l.dropExpiredToken(),!c.value){console.warn("[scheduler] ÐÐµ Ð½Ð°Ð¹Ð´ÐµÐ½ ÑÐ¾ÐºÐµÐ½ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ð¸. ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ð¸ Ð½Ðµ Ð±ÑÐ´ÑÑ Ð·Ð°Ð³ÑÑÐ¶ÐµÐ½Ñ."),qe.localdata=[],console.log("[scheduler] users:",[]);return}try{const E=await fetch(n,{headers:{Accept:"text/plain, application/json",Authorization:`Bearer ${c.value}`}});if(!E.ok)throw new Error(`${E.status} ${E.statusText}`.trim());const R=await E.text();let J=[];try{J=R?JSON.parse(R):[]}catch{J=[]}const V=Ie(J);qe.localdata=V,console.log("[scheduler] users:",V)}catch(E){console.error("[scheduler] ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð·Ð°Ð³ÑÑÐ·Ð¸ÑÑ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»ÐµÐ¹",E),qe.localdata=[]}},He=Ne(null),Ce=Ne(null),de=Ne(null);return $e(()=>{i();const E=Me();if(!E?.dataAdapter||!E?.date){console.error("jqx Ð½Ðµ Ð´Ð¾ÑÑÑÐ¿ÐµÐ½. ÐÑÐ¾Ð²ÐµÑÑÑÐµ, ÑÑÐ¾ jqx-ÑÐºÑÐ¸Ð¿ÑÑ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐµÐ½Ñ Ð´Ð¾ Ð·Ð°Ð³ÑÑÐ·ÐºÐ¸ SchedulerPage.");return}const R=E.dataAdapter,J=E.date;te=R,d.value=new J("todayDate"),He.value=new R(ue,{autoBind:!0}),Ce.value=new R(Se,{autoBind:!0}),de.value=new R(qe,{autoBind:!0}),Promise.all([Pe(),ge(),Be()]).then(()=>{He.value=new R(ue,{autoBind:!0}),Ce.value=new R(Se,{autoBind:!0}),de.value=new R(qe,{autoBind:!0})})}),(E,R)=>(Qe(),Ze(St,null,[He.value&&d.value?(Qe(),Tt(Ct,{key:0,ref:"schedulerRef",width:"100%",height:600,source:He.value,date:d.value,showLegend:!0,view:"monthView",appointmentDataFields:De,views:_e,localization:Ve(u),editDialogDateTimeFormatString:"dd.MM.yyyy HH:mm",editDialogDateFormatString:"dd.MM.yyyy",contextMenuCreate:ie,contextMenuItemClick:I,contextMenuOpen:re,contextMenuClose:le,renderAppointment:p},null,8,["source","date","localization"])):dt("",!0),Je(lt,{ref_key:"deleteConfirmWindowRef",ref:T,width:360,height:170,isModal:!0,autoOpen:!1,resizable:!1,showCloseButton:!1},{default:ut(()=>[R[4]||(R[4]=ke("div",null,"ÐÐ¾Ð´ÑÐ²ÐµÑÐ¶Ð´ÐµÐ½Ð¸Ðµ",-1)),ke("div",Rt,[ke("p",zt,et(h.value?"Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ...":"Ð¥Ð¾ÑÐ¸ÑÐµ ÑÐ´Ð°Ð»Ð¸ÑÑ?"),1),ke("div",Et,[ke("button",{class:"confirm__button confirm__button--ghost",type:"button",disabled:h.value,onClick:R[0]||(R[0]=J=>xe(!1))}," ÐÐµÑ ",8,Nt),ke("button",{class:"confirm__button",type:"button",disabled:h.value,onClick:R[1]||(R[1]=J=>xe(!0))}," ÐÐ° ",8,Wt)])])]),_:1},512),Je(lt,{ref_key:"editWindowRef",ref:v,width:520,height:420,isModal:!0,autoOpen:!1,resizable:!1,onOpen:z},{default:ut(()=>[ke("div",null,et(g.value),1),ke("div",Xt,[ke("table",Jt,[ke("tbody",null,[ke("tr",null,[R[5]||(R[5]=ke("td",{class:"editor__label"},"ÐÐ°ÑÑÐµÑ",-1)),ke("td",Vt,[Je(at,{source:de.value??[],displayMember:"usersName",valueMember:"id",width:"100%",height:32,autoDropDownHeight:!0,selectedIndex:W.value,placeHolder:"ÐÑÐ±ÐµÑÐ¸ÑÐµ Ð¼Ð°ÑÑÐµÑÐ°",onSelect:ae},null,8,["source","selectedIndex"])])]),ke("tr",null,[R[6]||(R[6]=ke("td",{class:"editor__label"},"ÐÐ¾ÐºÐ°ÑÐ¸Ñ",-1)),ke("td",Qt,[Je(at,{source:Ce.value??[],displayMember:"nameLocation",valueMember:"id",width:"100%",height:32,autoDropDownHeight:!0,selectedIndex:X.value,placeHolder:"ÐÑÐ±ÐµÑÐ¸ÑÐµ Ð»Ð¾ÐºÐ°ÑÐ¸Ñ",onSelect:ce},null,8,["source","selectedIndex"])])]),ke("tr",null,[R[7]||(R[7]=ke("td",{class:"editor__label"},"ÐÐ°ÑÐ°Ð»Ð¾",-1)),ke("td",Ut,[Je(pt,{ref_key:"startDateTimeRef",ref:H,value:f.start,width:"100%",height:32,culture:Ve(Ue),formatString:"dd.MM.yyyy HH:mm",showTimeButton:!0,firstDayOfWeek:Ve(ze).firstDay,todayString:Ve(ze).todayString,clearString:Ve(ze).clearString,autoCreate:!1,onOpen:pe,onValueChanged:ve},null,8,["value","culture","firstDayOfWeek","todayString","clearString"])])]),ke("tr",null,[R[8]||(R[8]=ke("td",{class:"editor__label"},"ÐÐºÐ¾Ð½ÑÐ°Ð½Ð¸Ðµ",-1)),ke("td",Zt,[Je(pt,{ref_key:"endDateTimeRef",ref:S,value:f.end,width:"100%",height:32,culture:Ve(Ue),formatString:"dd.MM.yyyy HH:mm",showTimeButton:!0,firstDayOfWeek:Ve(ze).firstDay,todayString:Ve(ze).todayString,clearString:Ve(ze).clearString,autoCreate:!1,onOpen:pe,onValueChanged:he},null,8,["value","culture","firstDayOfWeek","todayString","clearString"])])]),ke("tr",null,[R[9]||(R[9]=ke("td",{class:"editor__label"},"Ð¢ÐµÐ¼Ð°",-1)),ke("td",Yt,[Je(mt,{modelValue:f.subject,"onUpdate:modelValue":R[2]||(R[2]=J=>f.subject=J),width:"100%",height:32,inlineAutoComplete:!1},null,8,["modelValue"])])]),ke("tr",null,[R[10]||(R[10]=ke("td",{class:"editor__label"},"ÐÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ",-1)),ke("td",$t,[Je(mt,{modelValue:f.description,"onUpdate:modelValue":R[3]||(R[3]=J=>f.description=J),width:"100%",height:32,inlineAutoComplete:!1},null,8,["modelValue"])])]),ke("tr",null,[R[11]||(R[11]=ke("td",{class:"editor__label"},"Ð¡ÑÐ°ÑÑÑ",-1)),ke("td",Gt,[Je(at,{source:s,width:"100%",height:32,autoDropDownHeight:!0,selectedIndex:M.value,placeHolder:"ÐÑÐ±ÐµÑÐ¸ÑÐµ ÑÑÐ°ÑÑÑ",onSelect:me},null,8,["selectedIndex"])])])])]),y.value==="edit"&&D.value!==null?(Qe(),Ze("p",Kt," ID ÑÐ¾Ð±ÑÑÐ¸Ñ: "+et(D.value),1)):dt("",!0),ke("div",ei,[ke("button",{class:"editor__button editor__button--ghost",type:"button",onClick:$}," ÐÑÐ¼ÐµÐ½Ð° "),ke("button",{class:"editor__button",type:"button",disabled:C.value,onClick:fe},et(C.value?"Ð¡Ð¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ...":"Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑ"),9,ti)])])]),_:1},512)],64))}});export{oi as default};
